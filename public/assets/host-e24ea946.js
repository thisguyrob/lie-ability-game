import{S as he,i as pe,s as me,e as d,a as E,t as k,b as f,c as Ce,d as U,f as o,l as wn,g as I,n as x,h as D,j as ce,k as W,m as Cn,o as kt,p as nn,q as oe,r as En,u as ae,v as kn,w as Sn,x as Tn,y as _e,z as be,A as ye,B as Bn}from"./index-1f04db52.js";var Ee={},An=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},ln={},le={};let ct;const Mn=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];le.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};le.getSymbolTotalCodewords=function(e){return Mn[e]};le.getBCHDigit=function(n){let e=0;for(;n!==0;)e++,n>>>=1;return e};le.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');ct=e};le.isKanjiModeEnabled=function(){return typeof ct<"u"};le.toSJIS=function(e){return ct(e)};var Je={};(function(n){n.L={bit:1},n.M={bit:0},n.Q={bit:3},n.H={bit:2};function e(l){if(typeof l!="string")throw new Error("Param is not a string");switch(l.toLowerCase()){case"l":case"low":return n.L;case"m":case"medium":return n.M;case"q":case"quartile":return n.Q;case"h":case"high":return n.H;default:throw new Error("Unknown EC Level: "+l)}}n.isValid=function(t){return t&&typeof t.bit<"u"&&t.bit>=0&&t.bit<4},n.from=function(t,s){if(n.isValid(t))return t;try{return e(t)}catch{return s}}})(Je);function sn(){this.buffer=[],this.length=0}sn.prototype={get:function(n){const e=Math.floor(n/8);return(this.buffer[e]>>>7-n%8&1)===1},put:function(n,e){for(let l=0;l<e;l++)this.putBit((n>>>e-l-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(n){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),n&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var Rn=sn;function Re(n){if(!n||n<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=n,this.data=new Uint8Array(n*n),this.reservedBit=new Uint8Array(n*n)}Re.prototype.set=function(n,e,l,t){const s=n*this.size+e;this.data[s]=l,t&&(this.reservedBit[s]=!0)};Re.prototype.get=function(n,e){return this.data[n*this.size+e]};Re.prototype.xor=function(n,e,l){this.data[n*this.size+e]^=l};Re.prototype.isReserved=function(n,e){return this.reservedBit[n*this.size+e]};var zn=Re,rn={};(function(n){const e=le.getSymbolSize;n.getRowColCoords=function(t){if(t===1)return[];const s=Math.floor(t/7)+2,i=e(t),r=i===145?26:Math.ceil((i-13)/(2*s-2))*2,a=[i-7];for(let c=1;c<s-1;c++)a[c]=a[c-1]-r;return a.push(6),a.reverse()},n.getPositions=function(t){const s=[],i=n.getRowColCoords(t),r=i.length;for(let a=0;a<r;a++)for(let c=0;c<r;c++)a===0&&c===0||a===0&&c===r-1||a===r-1&&c===0||s.push([i[a],i[c]]);return s}})(rn);var on={};const Nn=le.getSymbolSize,St=7;on.getPositions=function(e){const l=Nn(e);return[[0,0],[l-St,0],[0,l-St]]};var an={};(function(n){n.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};n.isValid=function(s){return s!=null&&s!==""&&!isNaN(s)&&s>=0&&s<=7},n.from=function(s){return n.isValid(s)?parseInt(s,10):void 0},n.getPenaltyN1=function(s){const i=s.size;let r=0,a=0,c=0,u=null,g=null;for(let _=0;_<i;_++){a=c=0,u=g=null;for(let w=0;w<i;w++){let v=s.get(_,w);v===u?a++:(a>=5&&(r+=e.N1+(a-5)),u=v,a=1),v=s.get(w,_),v===g?c++:(c>=5&&(r+=e.N1+(c-5)),g=v,c=1)}a>=5&&(r+=e.N1+(a-5)),c>=5&&(r+=e.N1+(c-5))}return r},n.getPenaltyN2=function(s){const i=s.size;let r=0;for(let a=0;a<i-1;a++)for(let c=0;c<i-1;c++){const u=s.get(a,c)+s.get(a,c+1)+s.get(a+1,c)+s.get(a+1,c+1);(u===4||u===0)&&r++}return r*e.N2},n.getPenaltyN3=function(s){const i=s.size;let r=0,a=0,c=0;for(let u=0;u<i;u++){a=c=0;for(let g=0;g<i;g++)a=a<<1&2047|s.get(u,g),g>=10&&(a===1488||a===93)&&r++,c=c<<1&2047|s.get(g,u),g>=10&&(c===1488||c===93)&&r++}return r*e.N3},n.getPenaltyN4=function(s){let i=0;const r=s.data.length;for(let c=0;c<r;c++)i+=s.data[c];return Math.abs(Math.ceil(i*100/r/5)-10)*e.N4};function l(t,s,i){switch(t){case n.Patterns.PATTERN000:return(s+i)%2===0;case n.Patterns.PATTERN001:return s%2===0;case n.Patterns.PATTERN010:return i%3===0;case n.Patterns.PATTERN011:return(s+i)%3===0;case n.Patterns.PATTERN100:return(Math.floor(s/2)+Math.floor(i/3))%2===0;case n.Patterns.PATTERN101:return s*i%2+s*i%3===0;case n.Patterns.PATTERN110:return(s*i%2+s*i%3)%2===0;case n.Patterns.PATTERN111:return(s*i%3+(s+i)%2)%2===0;default:throw new Error("bad maskPattern:"+t)}}n.applyMask=function(s,i){const r=i.size;for(let a=0;a<r;a++)for(let c=0;c<r;c++)i.isReserved(c,a)||i.xor(c,a,l(s,c,a))},n.getBestMask=function(s,i){const r=Object.keys(n.Patterns).length;let a=0,c=1/0;for(let u=0;u<r;u++){i(u),n.applyMask(u,s);const g=n.getPenaltyN1(s)+n.getPenaltyN2(s)+n.getPenaltyN3(s)+n.getPenaltyN4(s);n.applyMask(u,s),g<c&&(c=g,a=u)}return a}})(an);var Ye={};const de=Je,Qe=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],$e=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Ye.getBlocksCount=function(e,l){switch(l){case de.L:return Qe[(e-1)*4+0];case de.M:return Qe[(e-1)*4+1];case de.Q:return Qe[(e-1)*4+2];case de.H:return Qe[(e-1)*4+3];default:return}};Ye.getTotalCodewordsCount=function(e,l){switch(l){case de.L:return $e[(e-1)*4+0];case de.M:return $e[(e-1)*4+1];case de.Q:return $e[(e-1)*4+2];case de.H:return $e[(e-1)*4+3];default:return}};var cn={},Oe={};const Ae=new Uint8Array(512),Ge=new Uint8Array(256);(function(){let e=1;for(let l=0;l<255;l++)Ae[l]=e,Ge[e]=l,e<<=1,e&256&&(e^=285);for(let l=255;l<512;l++)Ae[l]=Ae[l-255]})();Oe.log=function(e){if(e<1)throw new Error("log("+e+")");return Ge[e]};Oe.exp=function(e){return Ae[e]};Oe.mul=function(e,l){return e===0||l===0?0:Ae[Ge[e]+Ge[l]]};(function(n){const e=Oe;n.mul=function(t,s){const i=new Uint8Array(t.length+s.length-1);for(let r=0;r<t.length;r++)for(let a=0;a<s.length;a++)i[r+a]^=e.mul(t[r],s[a]);return i},n.mod=function(t,s){let i=new Uint8Array(t);for(;i.length-s.length>=0;){const r=i[0];for(let c=0;c<s.length;c++)i[c]^=e.mul(s[c],r);let a=0;for(;a<i.length&&i[a]===0;)a++;i=i.slice(a)}return i},n.generateECPolynomial=function(t){let s=new Uint8Array([1]);for(let i=0;i<t;i++)s=n.mul(s,new Uint8Array([1,e.exp(i)]));return s}})(cn);const un=cn;function ut(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}ut.prototype.initialize=function(e){this.degree=e,this.genPoly=un.generateECPolynomial(this.degree)};ut.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const l=new Uint8Array(e.length+this.degree);l.set(e);const t=un.mod(l,this.genPoly),s=this.degree-t.length;if(s>0){const i=new Uint8Array(this.degree);return i.set(t,s),i}return t};var Ln=ut,fn={},ge={},ft={};ft.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var re={};const dn="[0-9]+",In="[A-Z $%*+\\-./:]+";let Me="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Me=Me.replace(/u/g,"\\u");const qn="(?:(?![A-Z0-9 $%*+\\-./:]|"+Me+`)(?:.|[\r
]))+`;re.KANJI=new RegExp(Me,"g");re.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");re.BYTE=new RegExp(qn,"g");re.NUMERIC=new RegExp(dn,"g");re.ALPHANUMERIC=new RegExp(In,"g");const Pn=new RegExp("^"+Me+"$"),jn=new RegExp("^"+dn+"$"),Un=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");re.testKanji=function(e){return Pn.test(e)};re.testNumeric=function(e){return jn.test(e)};re.testAlphanumeric=function(e){return Un.test(e)};(function(n){const e=ft,l=re;n.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},n.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},n.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},n.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},n.MIXED={bit:-1},n.getCharCountIndicator=function(i,r){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!e.isValid(r))throw new Error("Invalid version: "+r);return r>=1&&r<10?i.ccBits[0]:r<27?i.ccBits[1]:i.ccBits[2]},n.getBestModeForData=function(i){return l.testNumeric(i)?n.NUMERIC:l.testAlphanumeric(i)?n.ALPHANUMERIC:l.testKanji(i)?n.KANJI:n.BYTE},n.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},n.isValid=function(i){return i&&i.bit&&i.ccBits};function t(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"numeric":return n.NUMERIC;case"alphanumeric":return n.ALPHANUMERIC;case"kanji":return n.KANJI;case"byte":return n.BYTE;default:throw new Error("Unknown mode: "+s)}}n.from=function(i,r){if(n.isValid(i))return i;try{return t(i)}catch{return r}}})(ge);(function(n){const e=le,l=Ye,t=Je,s=ge,i=ft,r=7973,a=e.getBCHDigit(r);function c(w,v,y){for(let h=1;h<=40;h++)if(v<=n.getCapacity(h,y,w))return h}function u(w,v){return s.getCharCountIndicator(w,v)+4}function g(w,v){let y=0;return w.forEach(function(h){const S=u(h.mode,v);y+=S+h.getBitsLength()}),y}function _(w,v){for(let y=1;y<=40;y++)if(g(w,y)<=n.getCapacity(y,v,s.MIXED))return y}n.from=function(v,y){return i.isValid(v)?parseInt(v,10):y},n.getCapacity=function(v,y,h){if(!i.isValid(v))throw new Error("Invalid QR Code version");typeof h>"u"&&(h=s.BYTE);const S=e.getSymbolTotalCodewords(v),m=l.getTotalCodewordsCount(v,y),b=(S-m)*8;if(h===s.MIXED)return b;const p=b-u(h,v);switch(h){case s.NUMERIC:return Math.floor(p/10*3);case s.ALPHANUMERIC:return Math.floor(p/11*2);case s.KANJI:return Math.floor(p/13);case s.BYTE:default:return Math.floor(p/8)}},n.getBestVersionForData=function(v,y){let h;const S=t.from(y,t.M);if(Array.isArray(v)){if(v.length>1)return _(v,S);if(v.length===0)return 1;h=v[0]}else h=v;return c(h.mode,h.getLength(),S)},n.getEncodedBits=function(v){if(!i.isValid(v)||v<7)throw new Error("Invalid QR Code version");let y=v<<12;for(;e.getBCHDigit(y)-a>=0;)y^=r<<e.getBCHDigit(y)-a;return v<<12|y}})(fn);var gn={};const it=le,vn=1335,Dn=21522,Tt=it.getBCHDigit(vn);gn.getEncodedBits=function(e,l){const t=e.bit<<3|l;let s=t<<10;for(;it.getBCHDigit(s)-Tt>=0;)s^=vn<<it.getBCHDigit(s)-Tt;return(t<<10|s)^Dn};var hn={};const Fn=ge;function ke(n){this.mode=Fn.NUMERIC,this.data=n.toString()}ke.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};ke.prototype.getLength=function(){return this.data.length};ke.prototype.getBitsLength=function(){return ke.getBitsLength(this.data.length)};ke.prototype.write=function(e){let l,t,s;for(l=0;l+3<=this.data.length;l+=3)t=this.data.substr(l,3),s=parseInt(t,10),e.put(s,10);const i=this.data.length-l;i>0&&(t=this.data.substr(l),s=parseInt(t,10),e.put(s,i*3+1))};var Hn=ke;const Vn=ge,et=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Se(n){this.mode=Vn.ALPHANUMERIC,this.data=n}Se.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};Se.prototype.getLength=function(){return this.data.length};Se.prototype.getBitsLength=function(){return Se.getBitsLength(this.data.length)};Se.prototype.write=function(e){let l;for(l=0;l+2<=this.data.length;l+=2){let t=et.indexOf(this.data[l])*45;t+=et.indexOf(this.data[l+1]),e.put(t,11)}this.data.length%2&&e.put(et.indexOf(this.data[l]),6)};var Qn=Se;const $n=ge;function Te(n){this.mode=$n.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}Te.getBitsLength=function(e){return e*8};Te.prototype.getLength=function(){return this.data.length};Te.prototype.getBitsLength=function(){return Te.getBitsLength(this.data.length)};Te.prototype.write=function(n){for(let e=0,l=this.data.length;e<l;e++)n.put(this.data[e],8)};var Gn=Te;const Kn=ge,Jn=le;function Be(n){this.mode=Kn.KANJI,this.data=n}Be.getBitsLength=function(e){return e*13};Be.prototype.getLength=function(){return this.data.length};Be.prototype.getBitsLength=function(){return Be.getBitsLength(this.data.length)};Be.prototype.write=function(n){let e;for(e=0;e<this.data.length;e++){let l=Jn.toSJIS(this.data[e]);if(l>=33088&&l<=40956)l-=33088;else if(l>=57408&&l<=60351)l-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);l=(l>>>8&255)*192+(l&255),n.put(l,13)}};var Yn=Be,pn={exports:{}};(function(n){var e={single_source_shortest_paths:function(l,t,s){var i={},r={};r[t]=0;var a=e.PriorityQueue.make();a.push(t,0);for(var c,u,g,_,w,v,y,h,S;!a.empty();){c=a.pop(),u=c.value,_=c.cost,w=l[u]||{};for(g in w)w.hasOwnProperty(g)&&(v=w[g],y=_+v,h=r[g],S=typeof r[g]>"u",(S||h>y)&&(r[g]=y,a.push(g,y),i[g]=u))}if(typeof s<"u"&&typeof r[s]>"u"){var m=["Could not find a path from ",t," to ",s,"."].join("");throw new Error(m)}return i},extract_shortest_path_from_predecessor_list:function(l,t){for(var s=[],i=t;i;)s.push(i),l[i],i=l[i];return s.reverse(),s},find_path:function(l,t,s){var i=e.single_source_shortest_paths(l,t,s);return e.extract_shortest_path_from_predecessor_list(i,s)},PriorityQueue:{make:function(l){var t=e.PriorityQueue,s={},i;l=l||{};for(i in t)t.hasOwnProperty(i)&&(s[i]=t[i]);return s.queue=[],s.sorter=l.sorter||t.default_sorter,s},default_sorter:function(l,t){return l.cost-t.cost},push:function(l,t){var s={value:l,cost:t};this.queue.push(s),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};n.exports=e})(pn);var On=pn.exports;(function(n){const e=ge,l=Hn,t=Qn,s=Gn,i=Yn,r=re,a=le,c=On;function u(m){return unescape(encodeURIComponent(m)).length}function g(m,b,p){const C=[];let T;for(;(T=m.exec(p))!==null;)C.push({data:T[0],index:T.index,mode:b,length:T[0].length});return C}function _(m){const b=g(r.NUMERIC,e.NUMERIC,m),p=g(r.ALPHANUMERIC,e.ALPHANUMERIC,m);let C,T;return a.isKanjiModeEnabled()?(C=g(r.BYTE,e.BYTE,m),T=g(r.KANJI,e.KANJI,m)):(C=g(r.BYTE_KANJI,e.BYTE,m),T=[]),b.concat(p,C,T).sort(function(B,z){return B.index-z.index}).map(function(B){return{data:B.data,mode:B.mode,length:B.length}})}function w(m,b){switch(b){case e.NUMERIC:return l.getBitsLength(m);case e.ALPHANUMERIC:return t.getBitsLength(m);case e.KANJI:return i.getBitsLength(m);case e.BYTE:return s.getBitsLength(m)}}function v(m){return m.reduce(function(b,p){const C=b.length-1>=0?b[b.length-1]:null;return C&&C.mode===p.mode?(b[b.length-1].data+=p.data,b):(b.push(p),b)},[])}function y(m){const b=[];for(let p=0;p<m.length;p++){const C=m[p];switch(C.mode){case e.NUMERIC:b.push([C,{data:C.data,mode:e.ALPHANUMERIC,length:C.length},{data:C.data,mode:e.BYTE,length:C.length}]);break;case e.ALPHANUMERIC:b.push([C,{data:C.data,mode:e.BYTE,length:C.length}]);break;case e.KANJI:b.push([C,{data:C.data,mode:e.BYTE,length:u(C.data)}]);break;case e.BYTE:b.push([{data:C.data,mode:e.BYTE,length:u(C.data)}])}}return b}function h(m,b){const p={},C={start:{}};let T=["start"];for(let L=0;L<m.length;L++){const B=m[L],z=[];for(let F=0;F<B.length;F++){const P=B[F],N=""+L+F;z.push(N),p[N]={node:P,lastCount:0},C[N]={};for(let q=0;q<T.length;q++){const M=T[q];p[M]&&p[M].node.mode===P.mode?(C[M][N]=w(p[M].lastCount+P.length,P.mode)-w(p[M].lastCount,P.mode),p[M].lastCount+=P.length):(p[M]&&(p[M].lastCount=P.length),C[M][N]=w(P.length,P.mode)+4+e.getCharCountIndicator(P.mode,b))}}T=z}for(let L=0;L<T.length;L++)C[T[L]].end=0;return{map:C,table:p}}function S(m,b){let p;const C=e.getBestModeForData(m);if(p=e.from(b,C),p!==e.BYTE&&p.bit<C.bit)throw new Error('"'+m+'" cannot be encoded with mode '+e.toString(p)+`.
 Suggested mode is: `+e.toString(C));switch(p===e.KANJI&&!a.isKanjiModeEnabled()&&(p=e.BYTE),p){case e.NUMERIC:return new l(m);case e.ALPHANUMERIC:return new t(m);case e.KANJI:return new i(m);case e.BYTE:return new s(m)}}n.fromArray=function(b){return b.reduce(function(p,C){return typeof C=="string"?p.push(S(C,null)):C.data&&p.push(S(C.data,C.mode)),p},[])},n.fromString=function(b,p){const C=_(b,a.isKanjiModeEnabled()),T=y(C),L=h(T,p),B=c.find_path(L.map,"start","end"),z=[];for(let F=1;F<B.length-1;F++)z.push(L.table[B[F]].node);return n.fromArray(v(z))},n.rawSplit=function(b){return n.fromArray(_(b,a.isKanjiModeEnabled()))}})(hn);const We=le,tt=Je,Wn=Rn,Zn=zn,Xn=rn,xn=on,rt=an,ot=Ye,el=Ln,Ke=fn,tl=gn,nl=ge,nt=hn;function ll(n,e){const l=n.size,t=xn.getPositions(e);for(let s=0;s<t.length;s++){const i=t[s][0],r=t[s][1];for(let a=-1;a<=7;a++)if(!(i+a<=-1||l<=i+a))for(let c=-1;c<=7;c++)r+c<=-1||l<=r+c||(a>=0&&a<=6&&(c===0||c===6)||c>=0&&c<=6&&(a===0||a===6)||a>=2&&a<=4&&c>=2&&c<=4?n.set(i+a,r+c,!0,!0):n.set(i+a,r+c,!1,!0))}}function sl(n){const e=n.size;for(let l=8;l<e-8;l++){const t=l%2===0;n.set(l,6,t,!0),n.set(6,l,t,!0)}}function il(n,e){const l=Xn.getPositions(e);for(let t=0;t<l.length;t++){const s=l[t][0],i=l[t][1];for(let r=-2;r<=2;r++)for(let a=-2;a<=2;a++)r===-2||r===2||a===-2||a===2||r===0&&a===0?n.set(s+r,i+a,!0,!0):n.set(s+r,i+a,!1,!0)}}function rl(n,e){const l=n.size,t=Ke.getEncodedBits(e);let s,i,r;for(let a=0;a<18;a++)s=Math.floor(a/3),i=a%3+l-8-3,r=(t>>a&1)===1,n.set(s,i,r,!0),n.set(i,s,r,!0)}function lt(n,e,l){const t=n.size,s=tl.getEncodedBits(e,l);let i,r;for(i=0;i<15;i++)r=(s>>i&1)===1,i<6?n.set(i,8,r,!0):i<8?n.set(i+1,8,r,!0):n.set(t-15+i,8,r,!0),i<8?n.set(8,t-i-1,r,!0):i<9?n.set(8,15-i-1+1,r,!0):n.set(8,15-i-1,r,!0);n.set(t-8,8,1,!0)}function ol(n,e){const l=n.size;let t=-1,s=l-1,i=7,r=0;for(let a=l-1;a>0;a-=2)for(a===6&&a--;;){for(let c=0;c<2;c++)if(!n.isReserved(s,a-c)){let u=!1;r<e.length&&(u=(e[r]>>>i&1)===1),n.set(s,a-c,u),i--,i===-1&&(r++,i=7)}if(s+=t,s<0||l<=s){s-=t,t=-t;break}}}function al(n,e,l){const t=new Wn;l.forEach(function(c){t.put(c.mode.bit,4),t.put(c.getLength(),nl.getCharCountIndicator(c.mode,n)),c.write(t)});const s=We.getSymbolTotalCodewords(n),i=ot.getTotalCodewordsCount(n,e),r=(s-i)*8;for(t.getLengthInBits()+4<=r&&t.put(0,4);t.getLengthInBits()%8!==0;)t.putBit(0);const a=(r-t.getLengthInBits())/8;for(let c=0;c<a;c++)t.put(c%2?17:236,8);return cl(t,n,e)}function cl(n,e,l){const t=We.getSymbolTotalCodewords(e),s=ot.getTotalCodewordsCount(e,l),i=t-s,r=ot.getBlocksCount(e,l),a=t%r,c=r-a,u=Math.floor(t/r),g=Math.floor(i/r),_=g+1,w=u-g,v=new el(w);let y=0;const h=new Array(r),S=new Array(r);let m=0;const b=new Uint8Array(n.buffer);for(let B=0;B<r;B++){const z=B<c?g:_;h[B]=b.slice(y,y+z),S[B]=v.encode(h[B]),y+=z,m=Math.max(m,z)}const p=new Uint8Array(t);let C=0,T,L;for(T=0;T<m;T++)for(L=0;L<r;L++)T<h[L].length&&(p[C++]=h[L][T]);for(T=0;T<w;T++)for(L=0;L<r;L++)p[C++]=S[L][T];return p}function ul(n,e,l,t){let s;if(Array.isArray(n))s=nt.fromArray(n);else if(typeof n=="string"){let u=e;if(!u){const g=nt.rawSplit(n);u=Ke.getBestVersionForData(g,l)}s=nt.fromString(n,u||40)}else throw new Error("Invalid data");const i=Ke.getBestVersionForData(s,l);if(!i)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=i;else if(e<i)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+i+`.
`);const r=al(e,l,s),a=We.getSymbolSize(e),c=new Zn(a);return ll(c,e),sl(c),il(c,e),lt(c,l,0),e>=7&&rl(c,e),ol(c,r),isNaN(t)&&(t=rt.getBestMask(c,lt.bind(null,c,l))),rt.applyMask(t,c),lt(c,l,t),{modules:c,version:e,errorCorrectionLevel:l,maskPattern:t,segments:s}}ln.create=function(e,l){if(typeof e>"u"||e==="")throw new Error("No input text");let t=tt.M,s,i;return typeof l<"u"&&(t=tt.from(l.errorCorrectionLevel,tt.M),s=Ke.from(l.version),i=rt.from(l.maskPattern),l.toSJISFunc&&We.setToSJISFunction(l.toSJISFunc)),ul(e,s,t,i)};var mn={},dt={};(function(n){function e(l){if(typeof l=="number"&&(l=l.toString()),typeof l!="string")throw new Error("Color should be defined as hex string");let t=l.slice().replace("#","").split("");if(t.length<3||t.length===5||t.length>8)throw new Error("Invalid hex color: "+l);(t.length===3||t.length===4)&&(t=Array.prototype.concat.apply([],t.map(function(i){return[i,i]}))),t.length===6&&t.push("F","F");const s=parseInt(t.join(""),16);return{r:s>>24&255,g:s>>16&255,b:s>>8&255,a:s&255,hex:"#"+t.slice(0,6).join("")}}n.getOptions=function(t){t||(t={}),t.color||(t.color={});const s=typeof t.margin>"u"||t.margin===null||t.margin<0?4:t.margin,i=t.width&&t.width>=21?t.width:void 0,r=t.scale||4;return{width:i,scale:i?4:r,margin:s,color:{dark:e(t.color.dark||"#000000ff"),light:e(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}},n.getScale=function(t,s){return s.width&&s.width>=t+s.margin*2?s.width/(t+s.margin*2):s.scale},n.getImageWidth=function(t,s){const i=n.getScale(t,s);return Math.floor((t+s.margin*2)*i)},n.qrToImageData=function(t,s,i){const r=s.modules.size,a=s.modules.data,c=n.getScale(r,i),u=Math.floor((r+i.margin*2)*c),g=i.margin*c,_=[i.color.light,i.color.dark];for(let w=0;w<u;w++)for(let v=0;v<u;v++){let y=(w*u+v)*4,h=i.color.light;if(w>=g&&v>=g&&w<u-g&&v<u-g){const S=Math.floor((w-g)/c),m=Math.floor((v-g)/c);h=_[a[S*r+m]?1:0]}t[y++]=h.r,t[y++]=h.g,t[y++]=h.b,t[y]=h.a}}})(dt);(function(n){const e=dt;function l(s,i,r){s.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=r,i.width=r,i.style.height=r+"px",i.style.width=r+"px"}function t(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}n.render=function(i,r,a){let c=a,u=r;typeof c>"u"&&(!r||!r.getContext)&&(c=r,r=void 0),r||(u=t()),c=e.getOptions(c);const g=e.getImageWidth(i.modules.size,c),_=u.getContext("2d"),w=_.createImageData(g,g);return e.qrToImageData(w.data,i,c),l(_,u,g),_.putImageData(w,0,0),u},n.renderToDataURL=function(i,r,a){let c=a;typeof c>"u"&&(!r||!r.getContext)&&(c=r,r=void 0),c||(c={});const u=n.render(i,r,c),g=c.type||"image/png",_=c.rendererOpts||{};return u.toDataURL(g,_.quality)}})(mn);var _n={};const fl=dt;function Bt(n,e){const l=n.a/255,t=e+'="'+n.hex+'"';return l<1?t+" "+e+'-opacity="'+l.toFixed(2).slice(1)+'"':t}function st(n,e,l){let t=n+e;return typeof l<"u"&&(t+=" "+l),t}function dl(n,e,l){let t="",s=0,i=!1,r=0;for(let a=0;a<n.length;a++){const c=Math.floor(a%e),u=Math.floor(a/e);!c&&!i&&(i=!0),n[a]?(r++,a>0&&c>0&&n[a-1]||(t+=i?st("M",c+l,.5+u+l):st("m",s,0),s=0,i=!1),c+1<e&&n[a+1]||(t+=st("h",r),r=0)):s++}return t}_n.render=function(e,l,t){const s=fl.getOptions(l),i=e.modules.size,r=e.modules.data,a=i+s.margin*2,c=s.color.light.a?"<path "+Bt(s.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",u="<path "+Bt(s.color.dark,"stroke")+' d="'+dl(r,i,s.margin)+'"/>',g='viewBox="0 0 '+a+" "+a+'"',w='<svg xmlns="http://www.w3.org/2000/svg" '+(s.width?'width="'+s.width+'" height="'+s.width+'" ':"")+g+' shape-rendering="crispEdges">'+c+u+`</svg>
`;return typeof t=="function"&&t(null,w),w};const gl=An,at=ln,bn=mn,vl=_n;function gt(n,e,l,t,s){const i=[].slice.call(arguments,1),r=i.length,a=typeof i[r-1]=="function";if(!a&&!gl())throw new Error("Callback required as last argument");if(a){if(r<2)throw new Error("Too few arguments provided");r===2?(s=l,l=e,e=t=void 0):r===3&&(e.getContext&&typeof s>"u"?(s=t,t=void 0):(s=t,t=l,l=e,e=void 0))}else{if(r<1)throw new Error("Too few arguments provided");return r===1?(l=e,e=t=void 0):r===2&&!e.getContext&&(t=l,l=e,e=void 0),new Promise(function(c,u){try{const g=at.create(l,t);c(n(g,e,t))}catch(g){u(g)}})}try{const c=at.create(l,t);s(null,n(c,e,t))}catch(c){s(c)}}Ee.create=at.create;Ee.toCanvas=gt.bind(null,bn.render);Ee.toDataURL=gt.bind(null,bn.renderToDataURL);Ee.toString=gt.bind(null,function(n,e,l){return vl.render(n,l)});function At(n,e,l){const t=n.slice();return t[5]=e[l],t[7]=l,t}function hl(n){let e;return{c(){e=d("div"),e.innerHTML=`<div class="loading-spinner svelte-7sqwyt"></div> 
            <p>Generating QR Code...</p>`,f(e,"class","qr-placeholder svelte-7sqwyt")},m(l,t){U(l,e,t)},p:x,d(l){l&&D(e)}}}function pl(n){let e,l;return{c(){e=d("img"),kt(e.src,l=n[1])||f(e,"src",l),f(e,"alt","QR Code to join game"),f(e,"class","qr-code svelte-7sqwyt")},m(t,s){U(t,e,s)},p(t,s){s&2&&!kt(e.src,l=t[1])&&f(e,"src",l)},d(t){t&&D(e)}}}function Mt(n){let e;return{c(){e=d("span"),e.textContent="Minimum 2 players needed",f(e,"class","min-players svelte-7sqwyt")},m(l,t){U(l,e,t)},d(l){l&&D(e)}}}function Rt(n){let e,l,t,s=n[5].avatar.emoji+"",i,r,a,c,u=n[5].name+"",g,_,w;return{c(){e=d("div"),l=d("div"),t=d("span"),i=k(s),r=E(),a=d("div"),c=d("span"),g=k(u),_=E(),w=d("span"),w.textContent="Ready",f(t,"class","player-emoji svelte-7sqwyt"),f(l,"class","player-avatar svelte-7sqwyt"),W(l,"background-color",n[5].avatar.color),f(c,"class","player-name svelte-7sqwyt"),f(w,"class","player-status svelte-7sqwyt"),f(a,"class","player-details svelte-7sqwyt"),f(e,"class","player-card svelte-7sqwyt"),W(e,"animation-delay",n[7]*.1+"s")},m(v,y){U(v,e,y),o(e,l),o(l,t),o(t,i),o(e,r),o(e,a),o(a,c),o(c,g),o(a,_),o(a,w)},p(v,y){y&1&&s!==(s=v[5].avatar.emoji+"")&&I(i,s),y&1&&W(l,"background-color",v[5].avatar.color),y&1&&u!==(u=v[5].name+"")&&I(g,u)},d(v){v&&D(e)}}}function zt(n){let e;return{c(){e=d("div"),e.innerHTML=`<div class="empty-icon svelte-7sqwyt">👥</div> 
          <p class="svelte-7sqwyt">Waiting for players to join...</p> 
          <p class="empty-hint svelte-7sqwyt">Share the QR code or URL!</p>`,f(e,"class","empty-state svelte-7sqwyt")},m(l,t){U(l,e,t)},d(l){l&&D(e)}}}function ml(n){let e,l;return{c(){e=d("span"),e.textContent="🚀",l=k(`
        Start Game`),f(e,"class","button-icon svelte-7sqwyt")},m(t,s){U(t,e,s),U(t,l,s)},d(t){t&&D(e),t&&D(l)}}}function _l(n){let e,l;return{c(){e=d("span"),e.textContent="⏳",l=k(`
        Waiting for Players`),f(e,"class","button-icon svelte-7sqwyt")},m(t,s){U(t,e,s),U(t,l,s)},d(t){t&&D(e),t&&D(l)}}}function bl(n){let e;return{c(){e=d("p"),e.textContent="Need at least 2 players to start",f(e,"class","start-hint svelte-7sqwyt")},m(l,t){U(l,e,t)},d(l){l&&D(e)}}}function yl(n){let e;return{c(){e=d("p"),e.textContent="Ready to begin? Let the lies commence! 🎭",f(e,"class","start-hint svelte-7sqwyt")},m(l,t){U(l,e,t)},d(l){l&&D(e)}}}function wl(n){let e,l,t,s,i,r,a,c,u,g,_,w,v,y,h,S=n[0].players.length+"",m,b,p,C,T,L,B,z,F,P,N,q;function M($,O){return $[1]?pl:hl}let Q=M(n),j=Q(n),H=n[0].players.length<2&&Mt(),K=n[0].players,R=[];for(let $=0;$<K.length;$+=1)R[$]=Rt(At(n,K,$));let A=n[0].players.length===0&&zt();function V($,O){return $[4]?ml:_l}let G=V(n),Z=G(n);function ie($,O){return $[4]?yl:bl}let ne=ie(n),te=ne(n);return{c(){e=d("div"),l=d("div"),l.innerHTML=`<h2 class="welcome-title svelte-7sqwyt">Welcome to Lie-Ability!</h2> 
    <p class="welcome-subtitle svelte-7sqwyt">A party game where creativity meets deception. 
      Create convincing lies and spot the truth!</p>`,t=E(),s=d("div"),i=d("div"),r=d("div"),a=d("h3"),a.textContent="Scan to Join",c=E(),j.c(),u=E(),g=d("p"),_=k(n[2]),w=E(),v=d("div"),y=d("h3"),h=k("Players ("),m=k(S),b=k(`)
      `),H&&H.c(),p=E(),C=d("div");for(let $=0;$<R.length;$+=1)R[$].c();T=E(),A&&A.c(),L=E(),B=d("div"),z=d("button"),Z.c(),P=E(),te.c(),f(l,"class","welcome-section svelte-7sqwyt"),f(a,"class","svelte-7sqwyt"),f(g,"class","join-url svelte-7sqwyt"),f(r,"class","qr-card svelte-7sqwyt"),f(i,"class","qr-container svelte-7sqwyt"),f(s,"class","join-section svelte-7sqwyt"),f(y,"class","players-title svelte-7sqwyt"),f(C,"class","players-grid svelte-7sqwyt"),f(v,"class","players-section svelte-7sqwyt"),f(z,"class","start-button svelte-7sqwyt"),z.disabled=F=!n[4],Ce(z,"disabled",!n[4]),f(B,"class","start-section svelte-7sqwyt"),f(e,"class","lobby-container svelte-7sqwyt")},m($,O){U($,e,O),o(e,l),o(e,t),o(e,s),o(s,i),o(i,r),o(r,a),o(r,c),j.m(r,null),o(r,u),o(r,g),o(g,_),o(e,w),o(e,v),o(v,y),o(y,h),o(y,m),o(y,b),H&&H.m(y,null),o(v,p),o(v,C);for(let J=0;J<R.length;J+=1)R[J]&&R[J].m(C,null);o(C,T),A&&A.m(C,null),o(e,L),o(e,B),o(B,z),Z.m(z,null),o(B,P),te.m(B,null),N||(q=wn(z,"click",function(){Cn(n[3])&&n[3].apply(this,arguments)}),N=!0)},p($,[O]){if(n=$,Q===(Q=M(n))&&j?j.p(n,O):(j.d(1),j=Q(n),j&&(j.c(),j.m(r,u))),O&4&&I(_,n[2]),O&1&&S!==(S=n[0].players.length+"")&&I(m,S),n[0].players.length<2?H||(H=Mt(),H.c(),H.m(y,null)):H&&(H.d(1),H=null),O&1){K=n[0].players;let J;for(J=0;J<K.length;J+=1){const ve=At(n,K,J);R[J]?R[J].p(ve,O):(R[J]=Rt(ve),R[J].c(),R[J].m(C,T))}for(;J<R.length;J+=1)R[J].d(1);R.length=K.length}n[0].players.length===0?A||(A=zt(),A.c(),A.m(C,null)):A&&(A.d(1),A=null),G!==(G=V(n))&&(Z.d(1),Z=G(n),Z&&(Z.c(),Z.m(z,null))),O&16&&F!==(F=!n[4])&&(z.disabled=F),O&16&&Ce(z,"disabled",!n[4]),ne!==(ne=ie(n))&&(te.d(1),te=ne(n),te&&(te.c(),te.m(B,null)))},i:x,o:x,d($){$&&D(e),j.d(),H&&H.d(),ce(R,$),A&&A.d(),Z.d(),te.d(),N=!1,q()}}}function Cl(n,e,l){let t,{gameState:s}=e,{qrCodeUrl:i}=e,{serverUrl:r}=e,{onStart:a}=e;return n.$$set=c=>{"gameState"in c&&l(0,s=c.gameState),"qrCodeUrl"in c&&l(1,i=c.qrCodeUrl),"serverUrl"in c&&l(2,r=c.serverUrl),"onStart"in c&&l(3,a=c.onStart)},n.$$.update=()=>{n.$$.dirty&1&&l(4,t=s.players.length>=2)},[s,i,r,a,t]}class El extends he{constructor(e){super(),pe(this,e,Cl,wl,me,{gameState:0,qrCodeUrl:1,serverUrl:2,onStart:3})}}function Nt(n,e,l){const t=n.slice();return t[3]=e[l],t[5]=l,t}function Lt(n){let e,l,t=n[1](n[3].category)+"",s,i,r,a=n[3].category+"",c,u,g,_;return{c(){e=d("div"),l=d("div"),s=k(t),i=E(),r=d("div"),c=k(a),u=E(),g=d("div"),_=E(),f(l,"class","category-emoji svelte-4cbdtp"),f(r,"class","category-name svelte-4cbdtp"),f(g,"class","category-pulse svelte-4cbdtp"),f(e,"class","category-card svelte-4cbdtp"),W(e,"animation-delay",n[5]*.1+"s")},m(w,v){U(w,e,v),o(e,l),o(l,s),o(e,i),o(e,r),o(r,c),o(e,u),o(e,g),o(e,_)},p(w,v){v&1&&t!==(t=w[1](w[3].category)+"")&&I(s,t),v&1&&a!==(a=w[3].category+"")&&I(c,a)},d(w){w&&D(e)}}}function kl(n){let e,l,t,s,i,r,a=n[0].selectorName+"",c,u,g,_,w,v,y=n[0].categories,h=[];for(let S=0;S<y.length;S+=1)h[S]=Lt(Nt(n,y,S));return{c(){e=d("div"),l=d("div"),t=d("h2"),t.textContent="Category Selection",s=E(),i=d("p"),r=d("span"),c=k(a),u=k(" is choosing the category"),g=E(),_=d("div");for(let S=0;S<h.length;S+=1)h[S].c();w=E(),v=d("div"),v.innerHTML=`<div class="dots svelte-4cbdtp"><span class="svelte-4cbdtp"></span> 
      <span class="svelte-4cbdtp"></span> 
      <span class="svelte-4cbdtp"></span></div> 
    <p class="svelte-4cbdtp">Waiting for selection...</p>`,f(t,"class","title svelte-4cbdtp"),f(r,"class","selector-name svelte-4cbdtp"),f(i,"class","selector-info svelte-4cbdtp"),f(l,"class","header svelte-4cbdtp"),f(_,"class","categories-grid svelte-4cbdtp"),f(v,"class","waiting-indicator svelte-4cbdtp"),f(e,"class","category-container svelte-4cbdtp")},m(S,m){U(S,e,m),o(e,l),o(l,t),o(l,s),o(l,i),o(i,r),o(r,c),o(i,u),o(e,g),o(e,_);for(let b=0;b<h.length;b+=1)h[b]&&h[b].m(_,null);o(e,w),o(e,v)},p(S,[m]){if(m&1&&a!==(a=S[0].selectorName+"")&&I(c,a),m&3){y=S[0].categories;let b;for(b=0;b<y.length;b+=1){const p=Nt(S,y,b);h[b]?h[b].p(p,m):(h[b]=Lt(p),h[b].c(),h[b].m(_,null))}for(;b<h.length;b+=1)h[b].d(1);h.length=y.length}},i:x,o:x,d(S){S&&D(e),ce(h,S)}}}function Sl(n,e,l){let{currentQuestion:t}=e;const s={History:"📚",Animals:"🐾",Food:"🍎",Sports:"⚽",Geography:"🌍",Music:"🎵",Science:"🔬",Literature:"📖",Inventions:"💡",TV:"📺",Art:"🎨",Language:"🗣️",Movies:"🎬",Tech:"💻",Fashion:"👗",Mythology:"⚡",Games:"🎮",Space:"🚀",Comics:"💥",Misc:"🎯",Bonus:"✨",Entertainment:"🎭",Nature:"🌿",Travel:"✈️"};function i(r){return s[r]||"❓"}return n.$$set=r=>{"currentQuestion"in r&&l(0,t=r.currentQuestion)},[t,i]}class Tl extends he{constructor(e){super(),pe(this,e,Sl,kl,me,{currentQuestion:0})}}function It(n,e,l){const t=n.slice();return t[4]=e[l],t[6]=l,t}function Bl(n){let e,l,t,s,i=n[0].options,r=[];for(let a=0;a<i.length;a+=1)r[a]=qt(It(n,i,a));return{c(){e=d("div"),l=d("h4"),l.textContent="Vote for the Real Answer",t=E(),s=d("div");for(let a=0;a<r.length;a+=1)r[a].c();f(l,"class","options-title svelte-4pzqgx"),f(s,"class","options-grid svelte-4pzqgx"),f(e,"class","options-section svelte-4pzqgx")},m(a,c){U(a,e,c),o(e,l),o(e,t),o(e,s);for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(s,null)},p(a,c){if(c&1){i=a[0].options;let u;for(u=0;u<i.length;u+=1){const g=It(a,i,u);r[u]?r[u].p(g,c):(r[u]=qt(g),r[u].c(),r[u].m(s,null))}for(;u<r.length;u+=1)r[u].d(1);r.length=i.length}},d(a){a&&D(e),ce(r,a)}}}function Al(n){let e;return{c(){e=d("div"),e.innerHTML=`<div class="activity-icon svelte-4pzqgx">✍️</div> 
        <p class="svelte-4pzqgx">Players are writing their lies...</p>`,f(e,"class","activity-indicator svelte-4pzqgx")},m(l,t){U(l,e,t)},p:x,d(l){l&&D(e)}}}function Ml(n){let e;return{c(){e=d("div"),e.innerHTML=`<div class="reading-dots svelte-4pzqgx"><span class="svelte-4pzqgx"></span> 
          <span class="svelte-4pzqgx"></span> 
          <span class="svelte-4pzqgx"></span></div> 
        <p class="svelte-4pzqgx">Everyone read carefully...</p>`,f(e,"class","reading-indicator svelte-4pzqgx")},m(l,t){U(l,e,t)},p:x,d(l){l&&D(e)}}}function qt(n){let e,l,t=String.fromCharCode(65+n[6])+"",s,i,r,a=n[4].text+"",c,u;return{c(){e=d("div"),l=d("div"),s=k(t),i=E(),r=d("div"),c=k(a),u=E(),f(l,"class","option-letter svelte-4pzqgx"),f(r,"class","option-text svelte-4pzqgx"),f(e,"class","option-card svelte-4pzqgx"),W(e,"animation-delay",n[6]*.1+"s")},m(g,_){U(g,e,_),o(e,l),o(l,s),o(e,i),o(e,r),o(r,c),o(e,u)},p(g,_){_&1&&a!==(a=g[4].text+"")&&I(c,a)},d(g){g&&D(e)}}}function Rl(n){let e,l,t,s,i=n[2](n[0].category)+"",r,a,c,u=n[0].category+"",g,_,w,v,y=n[0].question+"",h,S;function m(C,T){if(C[1]==="question_reading")return Ml;if(C[1]==="lie_submission")return Al;if(C[1]==="option_selection"&&C[0].options)return Bl}let b=m(n),p=b&&b(n);return{c(){e=d("div"),l=d("div"),t=d("div"),s=d("span"),r=k(i),a=E(),c=d("span"),g=k(u),_=E(),w=d("div"),v=d("h3"),h=k(y),S=E(),p&&p.c(),f(s,"class","category-emoji svelte-4pzqgx"),f(c,"class","category-name"),f(t,"class","category-badge svelte-4pzqgx"),f(v,"class","question-text svelte-4pzqgx"),f(w,"class","question-content svelte-4pzqgx"),f(l,"class","question-card svelte-4pzqgx"),f(e,"class","question-container svelte-4pzqgx")},m(C,T){U(C,e,T),o(e,l),o(l,t),o(t,s),o(s,r),o(t,a),o(t,c),o(c,g),o(l,_),o(l,w),o(w,v),o(v,h),o(l,S),p&&p.m(l,null)},p(C,[T]){T&1&&i!==(i=C[2](C[0].category)+"")&&I(r,i),T&1&&u!==(u=C[0].category+"")&&I(g,u),T&1&&y!==(y=C[0].question+"")&&I(h,y),b===(b=m(C))&&p?p.p(C,T):(p&&p.d(1),p=b&&b(C),p&&(p.c(),p.m(l,null)))},i:x,o:x,d(C){C&&D(e),p&&p.d()}}}function zl(n,e,l){let{currentQuestion:t}=e,{state:s}=e;const i={History:"📚",Animals:"🐾",Food:"🍎",Sports:"⚽",Geography:"🌍",Music:"🎵",Science:"🔬",Literature:"📖",Inventions:"💡",TV:"📺",Art:"🎨",Language:"🗣️",Movies:"🎬",Tech:"💻",Fashion:"👗",Mythology:"⚡",Games:"🎮",Space:"🚀",Comics:"💥",Misc:"🎯",Bonus:"✨",Entertainment:"🎭",Nature:"🌿",Travel:"✈️"};function r(a){return i[a]||"❓"}return n.$$set=a=>{"currentQuestion"in a&&l(0,t=a.currentQuestion),"state"in a&&l(1,s=a.state)},[t,s,r]}class yn extends he{constructor(e){super(),pe(this,e,zl,Rl,me,{currentQuestion:0,state:1})}}function Pt(n,e,l){const t=n.slice();return t[3]=e[l],t[5]=l,t}function jt(n,e,l){const t=n.slice();return t[6]=e[l],t[5]=l,t}function Ut(n,e,l){const t=n.slice();return t[3]=e[l],t[9]=l,t}function Dt(n,e,l){const t=n.slice();return t[10]=e[l],t[12]=l,t}function Ft(n){let e,l,t,s,i=n[0].lies,r=[];for(let a=0;a<i.length;a+=1)r[a]=Kt(jt(n,i,a));return{c(){e=d("div"),l=d("h3"),l.textContent="The Lies That Fooled You",t=E(),s=d("div");for(let a=0;a<r.length;a+=1)r[a].c();f(l,"class","lies-title svelte-ufutjc"),f(s,"class","lies-grid svelte-ufutjc"),f(e,"class","lies-section svelte-ufutjc")},m(a,c){U(a,e,c),o(e,l),o(e,t),o(e,s);for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(s,null)},p(a,c){if(c&1){i=a[0].lies;let u;for(u=0;u<i.length;u+=1){const g=jt(a,i,u);r[u]?r[u].p(g,c):(r[u]=Kt(g),r[u].c(),r[u].m(s,null))}for(;u<r.length;u+=1)r[u].d(1);r.length=i.length}},d(a){a&&D(e),ce(r,a)}}}function Ht(n){let e;return{c(){e=k(",")},m(l,t){U(l,e,t)},d(l){l&&D(e)}}}function Vt(n){let e,l=n[10].avatar.emoji+"",t,s,i=n[10].name+"",r,a,c,u=n[12]<n[6].authors.length-1&&Ht();return{c(){e=d("span"),t=k(l),s=E(),r=k(i),a=E(),u&&u.c(),c=nn(),f(e,"class","author svelte-ufutjc"),W(e,"color",n[10].avatar.color)},m(g,_){U(g,e,_),o(e,t),o(e,s),o(e,r),U(g,a,_),u&&u.m(g,_),U(g,c,_)},p(g,_){_&1&&l!==(l=g[10].avatar.emoji+"")&&I(t,l),_&1&&i!==(i=g[10].name+"")&&I(r,i),_&1&&W(e,"color",g[10].avatar.color),g[12]<g[6].authors.length-1?u||(u=Ht(),u.c(),u.m(c.parentNode,c)):u&&(u.d(1),u=null)},d(g){g&&D(e),g&&D(a),u&&u.d(g),g&&D(c)}}}function Qt(n){let e,l,t,s=n[6].voters,i=[];for(let r=0;r<s.length;r+=1)i[r]=Gt(Ut(n,s,r));return{c(){e=d("div"),l=d("span"),l.textContent="Fooled:",t=E();for(let r=0;r<i.length;r+=1)i[r].c();f(l,"class","voters-label svelte-ufutjc"),f(e,"class","voters svelte-ufutjc")},m(r,a){U(r,e,a),o(e,l),o(e,t);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(e,null)},p(r,a){if(a&1){s=r[6].voters;let c;for(c=0;c<s.length;c+=1){const u=Ut(r,s,c);i[c]?i[c].p(u,a):(i[c]=Gt(u),i[c].c(),i[c].m(e,null))}for(;c<i.length;c+=1)i[c].d(1);i.length=s.length}},d(r){r&&D(e),ce(i,r)}}}function $t(n){let e;return{c(){e=k(",")},m(l,t){U(l,e,t)},d(l){l&&D(e)}}}function Gt(n){let e,l=n[3].avatar.emoji+"",t,s,i=n[3].name+"",r,a,c,u=n[9]<n[6].voters.length-1&&$t();return{c(){e=d("span"),t=k(l),s=E(),r=k(i),a=E(),u&&u.c(),c=nn(),f(e,"class","voter svelte-ufutjc"),W(e,"color",n[3].avatar.color)},m(g,_){U(g,e,_),o(e,t),o(e,s),o(e,r),U(g,a,_),u&&u.m(g,_),U(g,c,_)},p(g,_){_&1&&l!==(l=g[3].avatar.emoji+"")&&I(t,l),_&1&&i!==(i=g[3].name+"")&&I(r,i),_&1&&W(e,"color",g[3].avatar.color),g[9]<g[6].voters.length-1?u||(u=$t(),u.c(),u.m(c.parentNode,c)):u&&(u.d(1),u=null)},d(g){g&&D(e),g&&D(a),u&&u.d(g),g&&D(c)}}}function Kt(n){let e,l,t,s,i,r,a=n[6].votes+"",c,u,g=n[6].votes!==1?"s":"",_,w,v,y,h=n[6].points+"",S,m,b,p,C,T=n[6].text+"",L,B,z,F,P,N,q,M,Q,j=n[6].authors,H=[];for(let R=0;R<j.length;R+=1)H[R]=Vt(Dt(n,j,R));let K=n[6].voters&&n[6].voters.length>0&&Qt(n);return{c(){e=d("div"),l=d("div"),t=d("div"),s=d("span"),s.textContent="🗳️",i=E(),r=d("span"),c=k(a),u=k(" vote"),_=k(g),w=E(),v=d("div"),y=k("+"),S=k(h),m=k("pts"),b=E(),p=d("div"),C=k('"'),L=k(T),B=k('"'),z=E(),F=d("div"),P=d("div"),N=d("span"),N.textContent="By:",q=E();for(let R=0;R<H.length;R+=1)H[R].c();M=E(),K&&K.c(),Q=E(),f(s,"class","votes-icon svelte-ufutjc"),f(r,"class","votes-count"),f(t,"class","lie-votes svelte-ufutjc"),f(v,"class","lie-points svelte-ufutjc"),f(l,"class","lie-header svelte-ufutjc"),f(p,"class","lie-text svelte-ufutjc"),f(N,"class","authors-label svelte-ufutjc"),f(P,"class","authors svelte-ufutjc"),f(F,"class","lie-attribution svelte-ufutjc"),f(e,"class","lie-card svelte-ufutjc"),W(e,"animation-delay",n[5]*.15+"s")},m(R,A){U(R,e,A),o(e,l),o(l,t),o(t,s),o(t,i),o(t,r),o(r,c),o(r,u),o(r,_),o(l,w),o(l,v),o(v,y),o(v,S),o(v,m),o(e,b),o(e,p),o(p,C),o(p,L),o(p,B),o(e,z),o(e,F),o(F,P),o(P,N),o(P,q);for(let V=0;V<H.length;V+=1)H[V]&&H[V].m(P,null);o(F,M),K&&K.m(F,null),o(e,Q)},p(R,A){if(A&1&&a!==(a=R[6].votes+"")&&I(c,a),A&1&&g!==(g=R[6].votes!==1?"s":"")&&I(_,g),A&1&&h!==(h=R[6].points+"")&&I(S,h),A&1&&T!==(T=R[6].text+"")&&I(L,T),A&1){j=R[6].authors;let V;for(V=0;V<j.length;V+=1){const G=Dt(R,j,V);H[V]?H[V].p(G,A):(H[V]=Vt(G),H[V].c(),H[V].m(P,null))}for(;V<H.length;V+=1)H[V].d(1);H.length=j.length}R[6].voters&&R[6].voters.length>0?K?K.p(R,A):(K=Qt(R),K.c(),K.m(F,null)):K&&(K.d(1),K=null)},d(R){R&&D(e),ce(H,R),K&&K.d()}}}function Jt(n){let e,l,t,s,i=n[0].truthVoters,r=[];for(let a=0;a<i.length;a+=1)r[a]=Yt(Pt(n,i,a));return{c(){e=d("div"),l=d("h3"),l.textContent="Truth Detectives 🕵️",t=E(),s=d("div");for(let a=0;a<r.length;a+=1)r[a].c();f(l,"class","truth-voters-title svelte-ufutjc"),f(s,"class","truth-voters svelte-ufutjc"),f(e,"class","truth-voters-section svelte-ufutjc")},m(a,c){U(a,e,c),o(e,l),o(e,t),o(e,s);for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(s,null)},p(a,c){if(c&1){i=a[0].truthVoters;let u;for(u=0;u<i.length;u+=1){const g=Pt(a,i,u);r[u]?r[u].p(g,c):(r[u]=Yt(g),r[u].c(),r[u].m(s,null))}for(;u<r.length;u+=1)r[u].d(1);r.length=i.length}},d(a){a&&D(e),ce(r,a)}}}function Yt(n){let e,l,t,s=n[3].avatar.emoji+"",i,r,a,c=n[3].name+"",u,g,_,w,v=(n[0].truthPoints||1e3)+"",y,h,S;return{c(){e=d("div"),l=d("div"),t=d("span"),i=k(s),r=E(),a=d("div"),u=k(c),g=E(),_=d("div"),w=k("+"),y=k(v),h=k(" pts"),S=E(),f(t,"class","voter-emoji svelte-ufutjc"),f(l,"class","voter-avatar svelte-ufutjc"),W(l,"background-color",n[3].avatar.color),f(a,"class","voter-name svelte-ufutjc"),f(_,"class","voter-bonus svelte-ufutjc"),f(e,"class","truth-voter svelte-ufutjc"),W(e,"animation-delay",n[5]*.1+"s")},m(m,b){U(m,e,b),o(e,l),o(l,t),o(t,i),o(e,r),o(e,a),o(a,u),o(e,g),o(e,_),o(_,w),o(_,y),o(_,h),o(e,S)},p(m,b){b&1&&s!==(s=m[3].avatar.emoji+"")&&I(i,s),b&1&&W(l,"background-color",m[3].avatar.color),b&1&&c!==(c=m[3].name+"")&&I(u,c),b&1&&v!==(v=(m[0].truthPoints||1e3)+"")&&I(y,v)},d(m){m&&D(e)}}}function Nl(n){let e,l,t,s,i=n[1](n[0].category)+"",r,a,c,u=n[0].category+"",g,_,w,v=n[0].question+"",y,h,S,m,b,p,C,T=n[0].truth.answer+"",L,B,z,F,P,N=n[0].lies&&n[0].lies.length>0&&Ft(n),q=n[0].truthVoters&&n[0].truthVoters.length>0&&Jt(n);return{c(){e=d("div"),l=d("div"),t=d("div"),s=d("span"),r=k(i),a=E(),c=d("span"),g=k(u),_=E(),w=d("h2"),y=k(v),h=E(),S=d("div"),m=d("div"),b=d("div"),b.textContent="The Truth",p=E(),C=d("div"),L=k(T),B=E(),z=d("div"),z.textContent="🎯",F=E(),N&&N.c(),P=E(),q&&q.c(),f(s,"class","category-emoji svelte-ufutjc"),f(c,"class","category-name"),f(t,"class","category-badge svelte-ufutjc"),f(w,"class","question-text svelte-ufutjc"),f(l,"class","question-section svelte-ufutjc"),f(b,"class","answer-label svelte-ufutjc"),f(C,"class","answer-text svelte-ufutjc"),f(z,"class","answer-celebration svelte-ufutjc"),f(m,"class","answer-card svelte-ufutjc"),f(S,"class","answer-reveal svelte-ufutjc"),f(e,"class","reveal-container svelte-ufutjc")},m(M,Q){U(M,e,Q),o(e,l),o(l,t),o(t,s),o(s,r),o(t,a),o(t,c),o(c,g),o(l,_),o(l,w),o(w,y),o(e,h),o(e,S),o(S,m),o(m,b),o(m,p),o(m,C),o(C,L),o(m,B),o(m,z),o(e,F),N&&N.m(e,null),o(e,P),q&&q.m(e,null)},p(M,[Q]){Q&1&&i!==(i=M[1](M[0].category)+"")&&I(r,i),Q&1&&u!==(u=M[0].category+"")&&I(g,u),Q&1&&v!==(v=M[0].question+"")&&I(y,v),Q&1&&T!==(T=M[0].truth.answer+"")&&I(L,T),M[0].lies&&M[0].lies.length>0?N?N.p(M,Q):(N=Ft(M),N.c(),N.m(e,P)):N&&(N.d(1),N=null),M[0].truthVoters&&M[0].truthVoters.length>0?q?q.p(M,Q):(q=Jt(M),q.c(),q.m(e,null)):q&&(q.d(1),q=null)},i:x,o:x,d(M){M&&D(e),N&&N.d(),q&&q.d()}}}function Ll(n,e,l){let{data:t}=e;const s={History:"📚",Animals:"🐾",Food:"🍎",Sports:"⚽",Geography:"🌍",Music:"🎵",Science:"🔬",Literature:"📖",Inventions:"💡",TV:"📺",Art:"🎨",Language:"🗣️",Movies:"🎬",Tech:"💻",Fashion:"👗",Mythology:"⚡",Games:"🎮",Space:"🚀",Comics:"💥",Misc:"🎯",Bonus:"✨",Entertainment:"🎭",Nature:"🌿",Travel:"✈️"};function i(r){return s[r]||"❓"}return n.$$set=r=>{"data"in r&&l(0,t=r.data)},[t,i]}class Il extends he{constructor(e){super(),pe(this,e,Ll,Nl,me,{data:0})}}function Ot(n,e,l){const t=n.slice();return t[2]=e[l],t[4]=l,t}function Wt(n){let e,l,t=n[2].lastLie+"",s,i;return{c(){e=d("div"),l=k('"'),s=k(t),i=k('"'),f(e,"class","last-lie svelte-me8ivb")},m(r,a){U(r,e,a),o(e,l),o(e,s),o(e,i)},p(r,a){a&2&&t!==(t=r[2].lastLie+"")&&I(s,t)},d(r){r&&D(e)}}}function Zt(n){let e,l,t=n[2].pointsThisRound+"",s;return{c(){e=d("div"),l=k("+"),s=k(t),f(e,"class","points-gained svelte-me8ivb")},m(i,r){U(i,e,r),o(e,l),o(e,s)},p(i,r){r&2&&t!==(t=i[2].pointsThisRound+"")&&I(s,t)},d(i){i&&D(e)}}}function Xt(n){let e,l,t,s=Ul(n[4]+1)+"",i,r,a,c,u,g=n[2].avatar.emoji+"",_,w,v,y,h=n[2].name+"",S,m,b,p,C,T=n[2].points+"",L,B,z,F,P,N=n[2].lastLie&&Wt(n),q=n[2].pointsThisRound&&Zt(n);return{c(){e=d("div"),l=d("div"),t=d("span"),i=k(s),r=E(),a=d("div"),c=d("div"),u=d("span"),_=k(g),w=E(),v=d("div"),y=d("div"),S=k(h),m=E(),N&&N.c(),b=E(),p=d("div"),C=d("div"),L=k(T),B=E(),z=d("div"),z.textContent="points",F=E(),q&&q.c(),P=E(),f(t,"class","rank-display svelte-me8ivb"),f(l,"class","player-rank svelte-me8ivb"),f(u,"class","player-emoji svelte-me8ivb"),f(c,"class","player-avatar svelte-me8ivb"),W(c,"background-color",n[2].avatar.color),f(y,"class","player-name svelte-me8ivb"),f(v,"class","player-details svelte-me8ivb"),f(a,"class","player-info svelte-me8ivb"),f(C,"class","points-total svelte-me8ivb"),f(z,"class","points-label svelte-me8ivb"),f(p,"class","player-stats svelte-me8ivb"),f(e,"class","player-row "+Dl(n[4]+1)+" svelte-me8ivb"),W(e,"animation-delay",n[4]*.1+"s")},m(M,Q){U(M,e,Q),o(e,l),o(l,t),o(t,i),o(e,r),o(e,a),o(a,c),o(c,u),o(u,_),o(a,w),o(a,v),o(v,y),o(y,S),o(v,m),N&&N.m(v,null),o(e,b),o(e,p),o(p,C),o(C,L),o(p,B),o(p,z),o(p,F),q&&q.m(p,null),o(e,P)},p(M,Q){Q&2&&g!==(g=M[2].avatar.emoji+"")&&I(_,g),Q&2&&W(c,"background-color",M[2].avatar.color),Q&2&&h!==(h=M[2].name+"")&&I(S,h),M[2].lastLie?N?N.p(M,Q):(N=Wt(M),N.c(),N.m(v,null)):N&&(N.d(1),N=null),Q&2&&T!==(T=M[2].points+"")&&I(L,T),M[2].pointsThisRound?q?q.p(M,Q):(q=Zt(M),q.c(),q.m(p,null)):q&&(q.d(1),q=null)},d(M){M&&D(e),N&&N.d(),q&&q.d()}}}function ql(n){let e;return{c(){e=k("Preparing final results...")},m(l,t){U(l,e,t)},p:x,d(l){l&&D(e)}}}function Pl(n){let e,l=n[0].round+1+"",t,s;return{c(){e=k("Get ready for Round "),t=k(l),s=k("...")},m(i,r){U(i,e,r),U(i,t,r),U(i,s,r)},p(i,r){r&1&&l!==(l=i[0].round+1+"")&&I(t,l)},d(i){i&&D(e),i&&D(t),i&&D(s)}}}function jl(n){let e,l,t,s,i=n[0].round+"",r,a,c,u,g,_=n[0].question+"",w,v,y=n[0].totalRounds-n[0].round+"",h,S,m=n[0].totalRounds-n[0].round!==1?"s":"",b,p,C,T,L,B,z,F,P,N,q,M,Q=n[1],j=[];for(let A=0;A<Q.length;A+=1)j[A]=Xt(Ot(n,Q,A));function H(A,V){return A[0].round<A[0].totalRounds?Pl:ql}let K=H(n),R=K(n);return{c(){e=d("div"),l=d("div"),t=d("h2"),s=k("Round "),r=k(i),a=k(" Complete!"),c=E(),u=d("p"),g=k("Question "),w=k(_),v=k(" • "),h=k(y),S=k(" round"),b=k(m),p=k(" remaining"),C=E(),T=d("div"),L=d("div"),L.innerHTML='<h3 class="leaderboard-title svelte-me8ivb">🏆 Leaderboard</h3>',B=E(),z=d("div");for(let A=0;A<j.length;A+=1)j[A].c();F=E(),P=d("div"),N=d("div"),N.innerHTML=`<span class="svelte-me8ivb"></span> 
      <span class="svelte-me8ivb"></span> 
      <span class="svelte-me8ivb"></span>`,q=E(),M=d("p"),R.c(),f(t,"class","scoreboard-title svelte-me8ivb"),f(u,"class","round-progress svelte-me8ivb"),f(l,"class","scoreboard-header svelte-me8ivb"),f(L,"class","leaderboard-header svelte-me8ivb"),f(z,"class","players-list svelte-me8ivb"),f(T,"class","leaderboard svelte-me8ivb"),f(N,"class","continue-dots svelte-me8ivb"),f(M,"class","svelte-me8ivb"),f(P,"class","continue-indicator svelte-me8ivb"),f(e,"class","scoreboard-container svelte-me8ivb")},m(A,V){U(A,e,V),o(e,l),o(l,t),o(t,s),o(t,r),o(t,a),o(l,c),o(l,u),o(u,g),o(u,w),o(u,v),o(u,h),o(u,S),o(u,b),o(u,p),o(e,C),o(e,T),o(T,L),o(T,B),o(T,z);for(let G=0;G<j.length;G+=1)j[G]&&j[G].m(z,null);o(e,F),o(e,P),o(P,N),o(P,q),o(P,M),R.m(M,null)},p(A,[V]){if(V&1&&i!==(i=A[0].round+"")&&I(r,i),V&1&&_!==(_=A[0].question+"")&&I(w,_),V&1&&y!==(y=A[0].totalRounds-A[0].round+"")&&I(h,y),V&1&&m!==(m=A[0].totalRounds-A[0].round!==1?"s":"")&&I(b,m),V&2){Q=A[1];let G;for(G=0;G<Q.length;G+=1){const Z=Ot(A,Q,G);j[G]?j[G].p(Z,V):(j[G]=Xt(Z),j[G].c(),j[G].m(z,null))}for(;G<j.length;G+=1)j[G].d(1);j.length=Q.length}K===(K=H(A))&&R?R.p(A,V):(R.d(1),R=K(A),R&&(R.c(),R.m(M,null)))},i:x,o:x,d(A){A&&D(e),ce(j,A),R.d()}}}function Ul(n){switch(n){case 1:return"🥇";case 2:return"🥈";case 3:return"🥉";default:return`#${n}`}}function Dl(n){switch(n){case 1:return"rank-first";case 2:return"rank-second";case 3:return"rank-third";default:return"rank-other"}}function Fl(n,e,l){let t,{data:s}=e;return n.$$set=i=>{"data"in i&&l(0,s=i.data)},n.$$.update=()=>{n.$$.dirty&1&&l(1,t=[...s.players].sort((i,r)=>r.points-i.points))},[s,t]}class Hl extends he{constructor(e){super(),pe(this,e,Fl,jl,me,{data:0})}}function xt(n,e,l){const t=n.slice();return t[2]=e[l],t[4]=l,t}function en(n){let e,l,t,s=Ql(n[4]+1)+"",i,r,a,c=n[4]+1+"",u,g,_,w,v,y=n[2].avatar.emoji+"",h,S,m,b,p=n[2].name+"",C,T,L,B,z,F=(n[2].liesSubmitted||0)+"",P,N,q,M,Q,j=(n[2].truthsFound||0)+"",H,K,R,A,V,G=n[2].points+"",Z,ie,ne,te;return{c(){e=d("div"),l=d("div"),t=d("span"),i=k(s),r=E(),a=d("span"),u=k(c),g=E(),_=d("div"),w=d("div"),v=d("span"),h=k(y),S=E(),m=d("div"),b=d("div"),C=k(p),T=E(),L=d("div"),B=d("span"),z=k("🤥 "),P=k(F),N=k(" lies"),q=E(),M=d("span"),Q=k("🎯 "),H=k(j),K=k(" truths"),R=E(),A=d("div"),V=d("div"),Z=k(G),ie=E(),ne=d("div"),ne.textContent="pts",te=E(),f(t,"class","rank-icon svelte-2zrfpu"),f(a,"class","rank-number svelte-2zrfpu"),f(l,"class","standing-rank svelte-2zrfpu"),f(v,"class","standing-emoji svelte-2zrfpu"),f(w,"class","standing-avatar svelte-2zrfpu"),W(w,"background-color",n[2].avatar.color),f(b,"class","standing-name svelte-2zrfpu"),f(B,"class","lies-stat"),f(M,"class","truth-stat"),f(L,"class","standing-stats svelte-2zrfpu"),f(m,"class","standing-info"),f(_,"class","standing-player svelte-2zrfpu"),f(V,"class","points-value svelte-2zrfpu"),f(ne,"class","points-label svelte-2zrfpu"),f(A,"class","standing-points svelte-2zrfpu"),f(e,"class","standing-card "+$l(n[4]+1)+" svelte-2zrfpu"),W(e,"animation-delay",n[4]*.15+"s")},m($,O){U($,e,O),o(e,l),o(l,t),o(t,i),o(l,r),o(l,a),o(a,u),o(e,g),o(e,_),o(_,w),o(w,v),o(v,h),o(_,S),o(_,m),o(m,b),o(b,C),o(m,T),o(m,L),o(L,B),o(B,z),o(B,P),o(B,N),o(L,q),o(L,M),o(M,Q),o(M,H),o(M,K),o(e,R),o(e,A),o(A,V),o(V,Z),o(A,ie),o(A,ne),o(e,te)},p($,O){O&2&&y!==(y=$[2].avatar.emoji+"")&&I(h,y),O&2&&W(w,"background-color",$[2].avatar.color),O&2&&p!==(p=$[2].name+"")&&I(C,p),O&2&&F!==(F=($[2].liesSubmitted||0)+"")&&I(P,F),O&2&&j!==(j=($[2].truthsFound||0)+"")&&I(H,j),O&2&&G!==(G=$[2].points+"")&&I(Z,G)},d($){$&&D(e)}}}function Vl(n){let e,l,t,s,i,r,a,c,u,g=n[0].winner.avatar.emoji+"",_,w,v,y=n[0].winner.name+"",h,S,m,b,p,C=n[0].winner.points+"",T,L,B,z,F,P,N,q,M,Q,j,H,K,R,A,V,G,Z,ie=n[0].totalRounds+"",ne,te,$,O,J,ve,vt,ze,Ne=(n[0].totalQuestions||0)+"",Ze,ht,Le,pt,ue,Ie,mt,qe,Pe=(n[0].totalLies||0)+"",Xe,_t,je,bt,fe,Ue,yt,De,Fe=(n[0].totalPlayers||n[1].length)+"",xe,wt,He,Ct,Ve,we=n[1],ee=[];for(let Y=0;Y<we.length;Y+=1)ee[Y]=en(xt(n,we,Y));return{c(){e=d("div"),l=d("div"),l.innerHTML=`<div class="celebration-icon svelte-2zrfpu">🎊</div> 
    <h1 class="game-complete-title svelte-2zrfpu">Game Complete!</h1> 
    <div class="confetti svelte-2zrfpu"></div>`,t=E(),s=d("div"),i=d("div"),r=d("div"),r.textContent="👑",a=E(),c=d("div"),u=d("span"),_=k(g),w=E(),v=d("h2"),h=k(y),S=E(),m=d("div"),m.textContent="Champion Liar!",b=E(),p=d("div"),T=k(C),L=k(" points"),B=E(),z=d("div"),z.innerHTML=`<div class="sparkle svelte-2zrfpu">✨</div> 
        <div class="sparkle svelte-2zrfpu">✨</div> 
        <div class="sparkle svelte-2zrfpu">✨</div>`,F=E(),P=d("div"),N=d("h3"),N.textContent="Final Standings",q=E(),M=d("div");for(let Y=0;Y<ee.length;Y+=1)ee[Y].c();Q=E(),j=d("div"),H=d("h3"),H.textContent="Game Statistics",K=E(),R=d("div"),A=d("div"),V=d("div"),V.textContent="🎮",G=E(),Z=d("div"),ne=k(ie),te=E(),$=d("div"),$.textContent="Rounds Played",O=E(),J=d("div"),ve=d("div"),ve.textContent="❓",vt=E(),ze=d("div"),Ze=k(Ne),ht=E(),Le=d("div"),Le.textContent="Questions Asked",pt=E(),ue=d("div"),Ie=d("div"),Ie.textContent="🤥",mt=E(),qe=d("div"),Xe=k(Pe),_t=E(),je=d("div"),je.textContent="Lies Created",bt=E(),fe=d("div"),Ue=d("div"),Ue.textContent="👥",yt=E(),De=d("div"),xe=k(Fe),wt=E(),He=d("div"),He.textContent="Players",Ct=E(),Ve=d("div"),Ve.innerHTML=`<div class="thanks-message svelte-2zrfpu"><h3 class="svelte-2zrfpu">Thanks for Playing Lie-Ability! 🎉</h3> 
      <p class="svelte-2zrfpu">Hope you had a blast creating lies and hunting for truth!</p></div> 
    
    <div class="play-again-hint svelte-2zrfpu"><p class="svelte-2zrfpu">Want to play again? Refresh the page to start a new game!</p></div>`,f(l,"class","celebration-header svelte-2zrfpu"),f(r,"class","winner-crown svelte-2zrfpu"),f(u,"class","winner-emoji svelte-2zrfpu"),f(c,"class","winner-avatar svelte-2zrfpu"),W(c,"background-color",n[0].winner.avatar.color),f(v,"class","winner-name svelte-2zrfpu"),f(m,"class","winner-title svelte-2zrfpu"),f(p,"class","winner-points svelte-2zrfpu"),f(z,"class","winner-celebration svelte-2zrfpu"),f(i,"class","winner-card svelte-2zrfpu"),f(s,"class","winner-spotlight svelte-2zrfpu"),f(N,"class","standings-title svelte-2zrfpu"),f(M,"class","standings-grid svelte-2zrfpu"),f(P,"class","final-standings svelte-2zrfpu"),f(H,"class","stats-title svelte-2zrfpu"),f(V,"class","stat-icon svelte-2zrfpu"),f(Z,"class","stat-value svelte-2zrfpu"),f($,"class","stat-label svelte-2zrfpu"),f(A,"class","stat-card svelte-2zrfpu"),f(ve,"class","stat-icon svelte-2zrfpu"),f(ze,"class","stat-value svelte-2zrfpu"),f(Le,"class","stat-label svelte-2zrfpu"),f(J,"class","stat-card svelte-2zrfpu"),f(Ie,"class","stat-icon svelte-2zrfpu"),f(qe,"class","stat-value svelte-2zrfpu"),f(je,"class","stat-label svelte-2zrfpu"),f(ue,"class","stat-card svelte-2zrfpu"),f(Ue,"class","stat-icon svelte-2zrfpu"),f(De,"class","stat-value svelte-2zrfpu"),f(He,"class","stat-label svelte-2zrfpu"),f(fe,"class","stat-card svelte-2zrfpu"),f(R,"class","stats-grid svelte-2zrfpu"),f(j,"class","game-stats svelte-2zrfpu"),f(Ve,"class","play-again-section svelte-2zrfpu"),f(e,"class","game-end-container svelte-2zrfpu")},m(Y,se){U(Y,e,se),o(e,l),o(e,t),o(e,s),o(s,i),o(i,r),o(i,a),o(i,c),o(c,u),o(u,_),o(i,w),o(i,v),o(v,h),o(i,S),o(i,m),o(i,b),o(i,p),o(p,T),o(p,L),o(i,B),o(i,z),o(e,F),o(e,P),o(P,N),o(P,q),o(P,M);for(let X=0;X<ee.length;X+=1)ee[X]&&ee[X].m(M,null);o(e,Q),o(e,j),o(j,H),o(j,K),o(j,R),o(R,A),o(A,V),o(A,G),o(A,Z),o(Z,ne),o(A,te),o(A,$),o(R,O),o(R,J),o(J,ve),o(J,vt),o(J,ze),o(ze,Ze),o(J,ht),o(J,Le),o(R,pt),o(R,ue),o(ue,Ie),o(ue,mt),o(ue,qe),o(qe,Xe),o(ue,_t),o(ue,je),o(R,bt),o(R,fe),o(fe,Ue),o(fe,yt),o(fe,De),o(De,xe),o(fe,wt),o(fe,He),o(e,Ct),o(e,Ve)},p(Y,[se]){if(se&1&&g!==(g=Y[0].winner.avatar.emoji+"")&&I(_,g),se&1&&W(c,"background-color",Y[0].winner.avatar.color),se&1&&y!==(y=Y[0].winner.name+"")&&I(h,y),se&1&&C!==(C=Y[0].winner.points+"")&&I(T,C),se&2){we=Y[1];let X;for(X=0;X<we.length;X+=1){const Et=xt(Y,we,X);ee[X]?ee[X].p(Et,se):(ee[X]=en(Et),ee[X].c(),ee[X].m(M,null))}for(;X<ee.length;X+=1)ee[X].d(1);ee.length=we.length}se&1&&ie!==(ie=Y[0].totalRounds+"")&&I(ne,ie),se&1&&Ne!==(Ne=(Y[0].totalQuestions||0)+"")&&I(Ze,Ne),se&1&&Pe!==(Pe=(Y[0].totalLies||0)+"")&&I(Xe,Pe),se&3&&Fe!==(Fe=(Y[0].totalPlayers||Y[1].length)+"")&&I(xe,Fe)},i:x,o:x,d(Y){Y&&D(e),ce(ee,Y)}}}function Ql(n){switch(n){case 1:return"🏆";case 2:return"🥈";case 3:return"🥉";default:return`#${n}`}}function $l(n){switch(n){case 1:return"winner";case 2:return"second";case 3:return"third";default:return"other"}}function Gl(n,e,l){let t,{data:s}=e;return n.$$set=i=>{"data"in i&&l(0,s=i.data)},n.$$.update=()=>{n.$$.dirty&1&&l(1,t=[...s.finalStandings].sort((i,r)=>r.points-i.points))},[s,t]}class Kl extends he{constructor(e){super(),pe(this,e,Gl,Vl,me,{data:0})}}function tn(n){let e,l,t,s;return{c(){e=d("div"),l=d("div"),t=d("span"),s=k(n[2]),f(t,"class","timer-text svelte-1icqzr"),f(l,"class","timer-circle svelte-1icqzr"),f(e,"class","timer-display svelte-1icqzr"),Ce(e,"urgent",n[2]<=5)},m(i,r){U(i,e,r),o(e,l),o(l,t),o(t,s)},p(i,r){r&4&&I(s,i[2]),r&4&&Ce(e,"urgent",i[2]<=5)},d(i){i&&D(e)}}}function Jl(n){let e,l;return e=new Kl({props:{data:n[7]}}),{c(){_e(e.$$.fragment)},m(t,s){be(e,t,s),l=!0},p(t,s){const i={};s&128&&(i.data=t[7]),e.$set(i)},i(t){l||(ae(e.$$.fragment,t),l=!0)},o(t){oe(e.$$.fragment,t),l=!1},d(t){ye(e,t)}}}function Yl(n){let e,l;return e=new Hl({props:{data:n[6]}}),{c(){_e(e.$$.fragment)},m(t,s){be(e,t,s),l=!0},p(t,s){const i={};s&64&&(i.data=t[6]),e.$set(i)},i(t){l||(ae(e.$$.fragment,t),l=!0)},o(t){oe(e.$$.fragment,t),l=!1},d(t){ye(e,t)}}}function Ol(n){let e,l;return e=new Il({props:{data:n[5]}}),{c(){_e(e.$$.fragment)},m(t,s){be(e,t,s),l=!0},p(t,s){const i={};s&32&&(i.data=t[5]),e.$set(i)},i(t){l||(ae(e.$$.fragment,t),l=!0)},o(t){oe(e.$$.fragment,t),l=!1},d(t){ye(e,t)}}}function Wl(n){let e,l;return e=new yn({props:{currentQuestion:n[1],state:n[0].state}}),{c(){_e(e.$$.fragment)},m(t,s){be(e,t,s),l=!0},p(t,s){const i={};s&2&&(i.currentQuestion=t[1]),s&1&&(i.state=t[0].state),e.$set(i)},i(t){l||(ae(e.$$.fragment,t),l=!0)},o(t){oe(e.$$.fragment,t),l=!1},d(t){ye(e,t)}}}function Zl(n){let e,l;return e=new yn({props:{currentQuestion:n[1],state:n[0].state}}),{c(){_e(e.$$.fragment)},m(t,s){be(e,t,s),l=!0},p(t,s){const i={};s&2&&(i.currentQuestion=t[1]),s&1&&(i.state=t[0].state),e.$set(i)},i(t){l||(ae(e.$$.fragment,t),l=!0)},o(t){oe(e.$$.fragment,t),l=!1},d(t){ye(e,t)}}}function Xl(n){let e,l;return e=new Tl({props:{currentQuestion:n[1]}}),{c(){_e(e.$$.fragment)},m(t,s){be(e,t,s),l=!0},p(t,s){const i={};s&2&&(i.currentQuestion=t[1]),e.$set(i)},i(t){l||(ae(e.$$.fragment,t),l=!0)},o(t){oe(e.$$.fragment,t),l=!1},d(t){ye(e,t)}}}function xl(n){let e,l;return e=new El({props:{gameState:n[0],qrCodeUrl:n[3],serverUrl:n[4],onStart:n[8]}}),{c(){_e(e.$$.fragment)},m(t,s){be(e,t,s),l=!0},p(t,s){const i={};s&1&&(i.gameState=t[0]),s&8&&(i.qrCodeUrl=t[3]),s&16&&(i.serverUrl=t[4]),e.$set(i)},i(t){l||(ae(e.$$.fragment,t),l=!0)},o(t){oe(e.$$.fragment,t),l=!1},d(t){ye(e,t)}}}function es(n){let e,l,t,s,i=n[0].currentRound+"",r,a,c=n[0].totalRounds+"",u,g,_=n[0].currentQuestion+"",w,v,y,h,S,m,b,p=n[2]>0&&tn(n);const C=[xl,Xl,Zl,Wl,Ol,Yl,Jl],T=[];function L(B,z){return B[0].state==="lobby"?0:B[0].state==="category_selection"?1:B[0].state==="question_reading"||B[0].state==="lie_submission"?2:B[0].state==="option_selection"?3:B[0].state==="truth_reveal"?4:B[0].state==="scoreboard"?5:B[0].state==="game_ended"?6:-1}return~(S=L(n))&&(m=T[S]=C[S](n)),{c(){e=d("main"),l=d("div"),t=d("div"),s=k("Round "),r=k(i),a=k("/"),u=k(c),g=k(" • Question "),w=k(_),v=E(),p&&p.c(),y=E(),h=d("div"),m&&m.c(),f(t,"class","round-info svelte-1icqzr"),Ce(t,"visible",n[0].state!=="lobby"),f(l,"class","game-header svelte-1icqzr"),f(h,"class","game-content svelte-1icqzr"),f(e,"class","host-container svelte-1icqzr")},m(B,z){U(B,e,z),o(e,l),o(l,t),o(t,s),o(t,r),o(t,a),o(t,u),o(t,g),o(t,w),o(e,v),p&&p.m(e,null),o(e,y),o(e,h),~S&&T[S].m(h,null),b=!0},p(B,[z]){(!b||z&1)&&i!==(i=B[0].currentRound+"")&&I(r,i),(!b||z&1)&&c!==(c=B[0].totalRounds+"")&&I(u,c),(!b||z&1)&&_!==(_=B[0].currentQuestion+"")&&I(w,_),(!b||z&1)&&Ce(t,"visible",B[0].state!=="lobby"),B[2]>0?p?p.p(B,z):(p=tn(B),p.c(),p.m(e,y)):p&&(p.d(1),p=null);let F=S;S=L(B),S===F?~S&&T[S].p(B,z):(m&&(Tn(),oe(T[F],1,1,()=>{T[F]=null}),En()),~S?(m=T[S],m?m.p(B,z):(m=T[S]=C[S](B),m.c()),ae(m,1),m.m(h,null)):m=null)},i(B){b||(ae(m),b=!0)},o(B){oe(m),b=!1},d(B){B&&D(e),p&&p.d(),~S&&T[S].d()}}}function ts(n,e,l){let t,s={state:"lobby",players:[],currentRound:1,totalRounds:3,currentQuestion:1},i=null,r=0,a="",c="",u=null,g=null,_=null;async function w(){try{const S=await(await fetch("/api/server-info")).json();l(4,c=S.playerUrl),l(3,a=await Ee.toDataURL(c))}catch(h){console.error("Failed to get server info:",h),l(4,c=window.location.origin+"/player"),l(3,a=await Ee.toDataURL(c))}}function v(){t=Bn(),t.on("connect",()=>{console.log("Host connected to server"),t.emit("request_game_state")}),t.on("game_state_update",h=>{l(0,s={...h})}),t.on("category_selection_start",h=>{l(0,s={...s,state:"category_selection"}),l(1,i={categories:h.categories,selectorName:h.selectorName})}),t.on("question_reading_start",h=>{l(0,s={...s,state:"question_reading"}),l(1,i=h)}),t.on("lie_submission_start",h=>{l(0,s={...s,state:"lie_submission"})}),t.on("option_selection_start",h=>{l(0,s={...s,state:"option_selection"}),l(1,i={...i,options:h.options})}),t.on("truth_reveal_start",h=>{l(0,s={...s,state:"truth_reveal"}),l(5,u=h)}),t.on("scoreboard_update",h=>{l(0,s={...s,state:"scoreboard"}),l(6,g=h)}),t.on("game_ended",h=>{l(0,s={...s,state:"game_ended"}),l(7,_=h)}),t.on("timer_update",h=>{l(2,r=h.secondsRemaining)}),t.on("player_joined",h=>{h.gameState&&l(0,s=h.gameState)}),t.on("player_left",h=>{h.gameState&&l(0,s=h.gameState)})}function y(){t.emit("start_game")}return kn(async()=>{await w(),v()}),Sn(()=>{t&&t.disconnect()}),n.$$.update=()=>{n.$$.dirty&1&&console.log("Host gameState changed:",s)},[s,i,r,a,c,u,g,_,y]}class ns extends he{constructor(e){super(),pe(this,e,ts,es,me,{})}}new ns({target:document.getElementById("app")});
