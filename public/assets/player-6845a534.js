import{S as ge,i as ye,s as ke,e as f,a as j,b as c,c as G,d as q,f as s,C as Te,l as V,D as Ht,n as W,h as L,E as Oe,m as Jt,t as C,k as ie,g as Q,j as Se,p as Ot,q as me,r as Wt,u as ve,v as Vt,w as Yt,x as Kt,y as we,z as Ce,A as qe,B as Xt}from"./index-2606d1e0.js";function dt(l){let e;return{c(){e=f("div"),e.textContent="Please enter your name",c(e,"class","error-message animate-slideUp svelte-jql4c3")},m(t,n){q(t,e,n)},d(t){t&&L(e)}}}function mt(l){let e;return{c(){e=f("div"),e.innerHTML=`<div class="connection-dot svelte-jql4c3"></div>
            Connecting to server...`,c(e,"class","connection-status svelte-jql4c3")},m(t,n){q(t,e,n)},d(t){t&&L(e)}}}function Zt(l){let e,t;return{c(){e=f("span"),e.textContent="üéÆ",t=C(`
          Join Game`),c(e,"class","icon svelte-jql4c3")},m(n,a){q(n,e,a),q(n,t,a)},d(n){n&&L(e),n&&L(t)}}}function $t(l){let e,t;return{c(){e=f("span"),e.textContent="üì°",t=C(`
          Connecting...`),c(e,"class","icon svelte-jql4c3")},m(n,a){q(n,e,a),q(n,t,a)},d(n){n&&L(e),n&&L(t)}}}function xt(l){let e,t;return{c(){e=f("div"),t=C(`
          Joining...`),c(e,"class","spinner-mobile")},m(n,a){q(n,e,a),q(n,t,a)},d(n){n&&L(e),n&&L(t)}}}function vt(l){let e,t,n,a;return{c(){e=f("div"),t=f("button"),t.textContent="Reset saved data",c(t,"class","link-button svelte-jql4c3"),c(e,"class","footer-actions svelte-jql4c3")},m(i,o){q(i,e,o),s(e,t),n||(a=V(t,"click",function(){Jt(l[1])&&l[1].apply(this,arguments)}),n=!0)},p(i,o){l=i},d(i){i&&L(e),n=!1,a()}}}function el(l){let e,t,n,a,i,o,r,u,d,v,y,_,S,b,g,k,m,h,w,P,T,A,z=l[4]&&dt(),R=l[0]!=="connected"&&mt();function F(N,B){return N[3]?xt:N[0]!=="connected"?$t:Zt}let I=F(l),D=I(l),p=l[1]&&vt(l);return{c(){e=f("div"),t=f("div"),n=f("h1"),n.textContent="Ready to Play?",a=j(),i=f("p"),i.textContent="Test your deception skills in this game of lies and laughs",o=j(),r=f("form"),u=f("div"),d=f("input"),y=j(),z&&z.c(),_=j(),R&&R.c(),S=j(),b=f("button"),D.c(),k=j(),m=f("div"),h=j(),w=f("div"),w.innerHTML=`<h2 class="section-title svelte-jql4c3">How to Play</h2> 
      <ul class="list-mobile"><li class="list-item-mobile svelte-jql4c3"><span class="icon svelte-jql4c3">‚ùì</span> 
          <span class="text svelte-jql4c3">Answer trivia questions</span></li> 
        <li class="list-item-mobile svelte-jql4c3"><span class="icon svelte-jql4c3">ü§•</span> 
          <span class="text svelte-jql4c3">Create convincing lies</span></li> 
        <li class="list-item-mobile svelte-jql4c3"><span class="icon svelte-jql4c3">üó≥Ô∏è</span> 
          <span class="text svelte-jql4c3">Vote for the truth</span></li> 
        <li class="list-item-mobile svelte-jql4c3"><span class="icon svelte-jql4c3">üèÜ</span> 
          <span class="text svelte-jql4c3">Score points by fooling others</span></li></ul>`,P=j(),p&&p.c(),c(n,"class","title-mobile text-center"),c(i,"class","subtitle-mobile text-center"),c(d,"id","playerName"),c(d,"type","text"),c(d,"placeholder",l[8]),c(d,"maxlength","20"),d.disabled=v=l[0]!=="connected"||l[3],c(d,"class","input-mobile svelte-jql4c3"),d.autofocus=!0,c(d,"autocomplete","off"),c(d,"autocorrect","off"),c(d,"autocapitalize","words"),G(d,"error",l[4]),c(u,"class","form-group svelte-jql4c3"),c(b,"type","submit"),c(b,"class","btn-touch btn-success btn-full-width svelte-jql4c3"),b.disabled=g=l[0]!=="connected"||l[3],G(b,"btn-disabled",l[0]!=="connected"||l[3]||!l[2].trim()),c(m,"class","divider svelte-jql4c3"),c(w,"class","how-to-play svelte-jql4c3"),c(t,"class","card-mobile"),c(e,"class","container-mobile safe-top safe-bottom animate-fadeIn")},m(N,B){q(N,e,B),s(e,t),s(t,n),s(t,a),s(t,i),s(t,o),s(t,r),s(r,u),s(u,d),Te(d,l[2]),s(u,y),z&&z.m(u,null),s(u,_),R&&R.m(u,null),s(r,S),s(r,b),D.m(b,null),s(t,k),s(t,m),s(t,h),s(t,w),s(t,P),p&&p.m(t,null),d.focus(),T||(A=[V(d,"input",l[10]),V(d,"input",l[7]),V(d,"keypress",l[6]),V(r,"submit",Ht(l[5]))],T=!0)},p(N,[B]){B&9&&v!==(v=N[0]!=="connected"||N[3])&&(d.disabled=v),B&4&&d.value!==N[2]&&Te(d,N[2]),B&16&&G(d,"error",N[4]),N[4]?z||(z=dt(),z.c(),z.m(u,_)):z&&(z.d(1),z=null),N[0]!=="connected"?R||(R=mt(),R.c(),R.m(u,null)):R&&(R.d(1),R=null),I!==(I=F(N))&&(D.d(1),D=I(N),D&&(D.c(),D.m(b,null))),B&9&&g!==(g=N[0]!=="connected"||N[3])&&(b.disabled=g),B&13&&G(b,"btn-disabled",N[0]!=="connected"||N[3]||!N[2].trim()),N[1]?p?p.p(N,B):(p=vt(N),p.c(),p.m(t,null)):p&&(p.d(1),p=null)},i:W,o:W,d(N){N&&L(e),z&&z.d(),R&&R.d(),D.d(),p&&p.d(),T=!1,Oe(A)}}}function tl(){const l=["Cool","Smart","Quick","Brave","Witty","Sharp","Clever","Bold","Sneaky","Crafty"],e=["Player","Gamer","Liar","Detective","Trickster","Genius","Master","Pro"],t=l[Math.floor(Math.random()*l.length)],n=e[Math.floor(Math.random()*e.length)];return`${t} ${n}`}function ll(l,e,t){let{connectionStatus:n}=e,{onJoin:a}=e,{onClearData:i}=e,o="",r=!1,u=!1;function d(){if(!o.trim()){t(4,u=!0);return}n==="connected"&&(t(3,r=!0),a(o.trim()))}function v(b){b.key==="Enter"&&d()}function y(){t(4,u=!1)}let _=tl();function S(){o=this.value,t(2,o)}return l.$$set=b=>{"connectionStatus"in b&&t(0,n=b.connectionStatus),"onJoin"in b&&t(9,a=b.onJoin),"onClearData"in b&&t(1,i=b.onClearData)},[n,i,o,r,u,d,v,y,_,a,S]}class nl extends ge{constructor(e){super(),ye(this,e,ll,el,ke,{connectionStatus:0,onJoin:9,onClearData:1})}}function pt(l,e,t){const n=l.slice();return n[21]=e[t],n}function _t(l,e,t){const n=l.slice();return n[24]=e[t],n}function sl(l){let e,t,n,a,i,o,r,u,d;return{c(){e=f("div"),t=f("h2"),n=C("Welcome, "),a=C(l[0]),i=C("!"),o=j(),r=f("button"),r.textContent="‚úèÔ∏è Change Name",c(t,"class","welcome-title svelte-ljr3yk"),c(r,"class","edit-name-button svelte-ljr3yk"),c(e,"class","name-display svelte-ljr3yk")},m(v,y){q(v,e,y),s(e,t),s(t,n),s(t,a),s(t,i),s(e,o),s(e,r),u||(d=V(r,"click",l[11]),u=!0)},p(v,y){y&1&&Q(a,v[0])},d(v){v&&L(e),u=!1,d()}}}function il(l){let e,t,n,a,i,o,r,u,d,v,y;return{c(){e=f("div"),t=f("input"),n=j(),a=f("div"),i=f("button"),o=C("‚úì Save"),u=j(),d=f("button"),d.textContent="‚úï Cancel",c(t,"type","text"),c(t,"maxlength","20"),c(t,"class","name-input svelte-ljr3yk"),t.autofocus=!0,c(t,"placeholder","Enter your name"),c(i,"class","save-name-button svelte-ljr3yk"),i.disabled=r=!l[5].trim()||l[5].trim()===l[0],c(d,"class","cancel-name-button svelte-ljr3yk"),c(a,"class","name-buttons svelte-ljr3yk"),c(e,"class","name-editing svelte-ljr3yk")},m(_,S){q(_,e,S),s(e,t),Te(t,l[5]),s(e,n),s(e,a),s(a,i),s(i,o),s(a,u),s(a,d),t.focus(),v||(y=[V(t,"input",l[17]),V(t,"keydown",l[14]),V(i,"click",l[13]),V(d,"click",l[12])],v=!0)},p(_,S){S&32&&t.value!==_[5]&&Te(t,_[5]),S&33&&r!==(r=!_[5].trim()||_[5].trim()===_[0])&&(i.disabled=r)},d(_){_&&L(e),v=!1,Oe(y)}}}function bt(l){let e,t,n,a,i=l[2].avatar.emoji+"",o,r,u,d=l[3]?"Done":"Customize Avatar",v,y,_,S,b=l[3]&&gt(l);return{c(){e=f("div"),t=f("div"),n=f("div"),a=f("span"),o=C(i),r=j(),u=f("button"),v=C(d),y=j(),b&&b.c(),c(a,"class","current-emoji svelte-ljr3yk"),c(n,"class","current-avatar svelte-ljr3yk"),ie(n,"background-color",l[2].avatar.color),c(u,"class","customize-button svelte-ljr3yk"),c(t,"class","current-avatar-display svelte-ljr3yk"),c(e,"class","avatar-customization-section svelte-ljr3yk")},m(g,k){q(g,e,k),s(e,t),s(t,n),s(n,a),s(a,o),s(t,r),s(t,u),s(u,v),s(e,y),b&&b.m(e,null),_||(S=V(u,"click",l[10]),_=!0)},p(g,k){k&4&&i!==(i=g[2].avatar.emoji+"")&&Q(o,i),k&4&&ie(n,"background-color",g[2].avatar.color),k&8&&d!==(d=g[3]?"Done":"Customize Avatar")&&Q(v,d),g[3]?b?b.p(g,k):(b=gt(g),b.c(),b.m(e,null)):b&&(b.d(1),b=null)},d(g){g&&L(e),b&&b.d(),_=!1,S()}}}function gt(l){let e,t,n,a,i,o,r,u,d,v,y=l[6],_=[];for(let g=0;g<y.length;g+=1)_[g]=yt(_t(l,y,g));let S=l[7],b=[];for(let g=0;g<S.length;g+=1)b[g]=kt(pt(l,S,g));return{c(){e=f("div"),t=f("div"),n=f("h4"),n.textContent="Choose Emoji",a=j(),i=f("div");for(let g=0;g<_.length;g+=1)_[g].c();o=j(),r=f("div"),u=f("h4"),u.textContent="Choose Color",d=j(),v=f("div");for(let g=0;g<b.length;g+=1)b[g].c();c(n,"class","customization-title svelte-ljr3yk"),c(i,"class","emoji-grid svelte-ljr3yk"),c(t,"class","customization-section svelte-ljr3yk"),c(u,"class","customization-title svelte-ljr3yk"),c(v,"class","color-grid svelte-ljr3yk"),c(r,"class","customization-section svelte-ljr3yk"),c(e,"class","customization-panel svelte-ljr3yk")},m(g,k){q(g,e,k),s(e,t),s(t,n),s(t,a),s(t,i);for(let m=0;m<_.length;m+=1)_[m]&&_[m].m(i,null);s(e,o),s(e,r),s(r,u),s(r,d),s(r,v);for(let m=0;m<b.length;m+=1)b[m]&&b[m].m(v,null)},p(g,k){if(k&324){y=g[6];let m;for(m=0;m<y.length;m+=1){const h=_t(g,y,m);_[m]?_[m].p(h,k):(_[m]=yt(h),_[m].c(),_[m].m(i,null))}for(;m<_.length;m+=1)_[m].d(1);_.length=y.length}if(k&644){S=g[7];let m;for(m=0;m<S.length;m+=1){const h=pt(g,S,m);b[m]?b[m].p(h,k):(b[m]=kt(h),b[m].c(),b[m].m(v,null))}for(;m<b.length;m+=1)b[m].d(1);b.length=S.length}},d(g){g&&L(e),Se(_,g),Se(b,g)}}}function yt(l){let e,t=l[24]+"",n,a,i,o;function r(){return l[18](l[24])}return{c(){e=f("button"),n=C(t),a=j(),c(e,"class","emoji-option svelte-ljr3yk"),G(e,"active",l[2].avatar.emoji===l[24])},m(u,d){q(u,e,d),s(e,n),s(e,a),i||(o=V(e,"click",r),i=!0)},p(u,d){l=u,d&68&&G(e,"active",l[2].avatar.emoji===l[24])},d(u){u&&L(e),i=!1,o()}}}function kt(l){let e,t,n;function a(){return l[19](l[21])}return{c(){e=f("button"),c(e,"class","color-option svelte-ljr3yk"),ie(e,"background-color",l[21]),G(e,"active",l[2].avatar.color===l[21])},m(i,o){q(i,e,o),t||(n=V(e,"click",a),t=!0)},p(i,o){l=i,o&132&&G(e,"active",l[2].avatar.color===l[21])},d(i){i&&L(e),t=!1,n()}}}function ol(l){let e;return{c(){e=C("Ready to start! Waiting for host...")},m(t,n){q(t,e,n)},d(t){t&&L(e)}}}function al(l){let e;return{c(){e=C("Waiting for at least 2 players to start...")},m(t,n){q(t,e,n)},d(t){t&&L(e)}}}function rl(l){let e,t,n,a,i,o,r,u,d,v,y,_,S;function b(T,A){return T[4]?il:sl}let g=b(l),k=g(l),m=l[2]&&bt(l);function h(T,A){return T[1].players.length<2?al:ol}let w=h(l),P=w(l);return{c(){e=f("div"),t=f("div"),n=f("div"),a=f("div"),a.textContent="üëã",i=j(),k.c(),o=j(),r=f("p"),r.textContent="You're in the game! Waiting for more players to join...",u=j(),m&&m.c(),d=j(),v=f("div"),y=f("div"),y.innerHTML=`<span class="svelte-ljr3yk"></span> 
        <span class="svelte-ljr3yk"></span> 
        <span class="svelte-ljr3yk"></span>`,_=j(),S=f("p"),P.c(),c(a,"class","welcome-icon svelte-ljr3yk"),c(r,"class","welcome-message svelte-ljr3yk"),c(n,"class","welcome-section svelte-ljr3yk"),c(y,"class","waiting-dots svelte-ljr3yk"),c(S,"class","waiting-text svelte-ljr3yk"),c(v,"class","waiting-indicator svelte-ljr3yk"),c(t,"class","waiting-card svelte-ljr3yk"),c(e,"class","waiting-container svelte-ljr3yk")},m(T,A){q(T,e,A),s(e,t),s(t,n),s(n,a),s(n,i),k.m(n,null),s(n,o),s(n,r),s(t,u),m&&m.m(t,null),s(t,d),s(t,v),s(v,y),s(v,_),s(v,S),P.m(S,null)},p(T,[A]){g===(g=b(T))&&k?k.p(T,A):(k.d(1),k=g(T),k&&(k.c(),k.m(n,o))),T[2]?m?m.p(T,A):(m=bt(T),m.c(),m.m(t,d)):m&&(m.d(1),m=null),w!==(w=h(T))&&(P.d(1),P=w(T),P&&(P.c(),P.m(S,null)))},i:W,o:W,d(T){T&&L(e),k.d(),m&&m.d(),P.d()}}}function cl(l,e,t){let{playerName:n}=e,{gameState:a}=e,{currentPlayer:i}=e,{onUpdateAvatar:o}=e,{onUpdateName:r}=e;const u=["üë§","üòä","üòé","ü§ñ","üëë","üê±","üê∂","ü¶ä","üêº","ü¶Å","üê∏","üêß","ü¶Ñ","üåü","üî•","üíé","üé≠","üéØ","üöÄ","üé∏"],d=["#667eea","#764ba2","#f093fb","#f5576c","#4facfe","#00f2fe","#43e97b","#38f9d7","#ffecd2","#fcb69f","#a8edea","#fed6e3","#ff9a9e","#fecfef","#ffeaa7","#fab1a0","#74b9ff","#a29bfe"];let v=!1,y=!1,_=n;function S(z){i&&o&&o(z,i.avatar.color)}function b(z){i&&o&&o(i.avatar.emoji,z)}function g(){t(3,v=!v)}function k(){t(4,y=!0),t(5,_=n)}function m(){t(4,y=!1),t(5,_=n)}function h(){const z=_.trim();z&&z!==n&&r&&r(z),t(4,y=!1)}function w(z){z.key==="Enter"?h():z.key==="Escape"&&m()}function P(){_=this.value,t(5,_)}const T=z=>S(z),A=z=>b(z);return l.$$set=z=>{"playerName"in z&&t(0,n=z.playerName),"gameState"in z&&t(1,a=z.gameState),"currentPlayer"in z&&t(2,i=z.currentPlayer),"onUpdateAvatar"in z&&t(15,o=z.onUpdateAvatar),"onUpdateName"in z&&t(16,r=z.onUpdateName)},l.$$.update=()=>{l.$$.dirty&3&&a.players.filter(z=>z.name!==n)},[n,a,i,v,y,_,u,d,S,b,g,k,m,h,w,o,r,P,T,A]}class ul extends ge{constructor(e){super(),ye(this,e,cl,rl,ke,{playerName:0,gameState:1,currentPlayer:2,onUpdateAvatar:15,onUpdateName:16})}}function ht(l,e,t){const n=l.slice();return n[9]=e[t],n[11]=t,n}function jt(l,e,t){const n=l.slice();return n[9]=e[t],n[11]=t,n}function fl(l){let e,t,n,a,i,o,r,u=l[0].selectorName+"",d,v,y,_,S,b,g=l[1],k=[];for(let m=0;m<g.length;m+=1)k[m]=St(ht(l,g,m));return{c(){e=f("div"),t=f("div"),t.textContent="‚è≥",n=j(),a=f("h2"),a.textContent="Category Selection",i=j(),o=f("p"),r=f("span"),d=C(u),v=C(" is choosing the category"),y=j(),_=f("div");for(let m=0;m<k.length;m+=1)k[m].c();S=j(),b=f("div"),b.innerHTML=`<div class="waiting-dots svelte-1dv64ml"><span class="svelte-1dv64ml"></span> 
          <span class="svelte-1dv64ml"></span> 
          <span class="svelte-1dv64ml"></span></div> 
        <p class="waiting-text svelte-1dv64ml">Waiting for selection...</p>`,c(t,"class","waiting-icon svelte-1dv64ml"),c(a,"class","waiting-title svelte-1dv64ml"),c(r,"class","selector-name svelte-1dv64ml"),c(o,"class","waiting-subtitle svelte-1dv64ml"),c(e,"class","waiting-header svelte-1dv64ml"),c(_,"class","categories-preview svelte-1dv64ml"),c(b,"class","waiting-indicator svelte-1dv64ml")},m(m,h){q(m,e,h),s(e,t),s(e,n),s(e,a),s(e,i),s(e,o),s(o,r),s(r,d),s(o,v),q(m,y,h),q(m,_,h);for(let w=0;w<k.length;w+=1)k[w]&&k[w].m(_,null);q(m,S,h),q(m,b,h)},p(m,h){if(h&1&&u!==(u=m[0].selectorName+"")&&Q(d,u),h&10){g=m[1];let w;for(w=0;w<g.length;w+=1){const P=ht(m,g,w);k[w]?k[w].p(P,h):(k[w]=St(P),k[w].c(),k[w].m(_,null))}for(;w<k.length;w+=1)k[w].d(1);k.length=g.length}},d(m){m&&L(e),m&&L(y),m&&L(_),Se(k,m),m&&L(S),m&&L(b)}}}function dl(l){let e,t,n,a=l[1],i=[];for(let o=0;o<a.length;o+=1)i[o]=wt(jt(l,a,o));return{c(){e=f("div"),e.innerHTML=`<div class="selector-icon svelte-1dv64ml">üéØ</div> 
        <h2 class="selector-title svelte-1dv64ml">You&#39;re the Category Selector!</h2> 
        <p class="selector-subtitle svelte-1dv64ml">Choose a category that interests you</p>`,t=j(),n=f("div");for(let o=0;o<i.length;o+=1)i[o].c();c(e,"class","selector-header svelte-1dv64ml"),c(n,"class","categories-grid svelte-1dv64ml")},m(o,r){q(o,e,r),q(o,t,r),q(o,n,r);for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(n,null)},p(o,r){if(r&26){a=o[1];let u;for(u=0;u<a.length;u+=1){const d=jt(o,a,u);i[u]?i[u].p(d,r):(i[u]=wt(d),i[u].c(),i[u].m(n,null))}for(;u<i.length;u+=1)i[u].d(1);i.length=a.length}},d(o){o&&L(e),o&&L(t),o&&L(n),Se(i,o)}}}function St(l){let e,t,n=l[3](l[9].category)+"",a,i,o,r=l[9].category+"",u,d;return{c(){e=f("div"),t=f("div"),a=C(n),i=j(),o=f("div"),u=C(r),d=j(),c(t,"class","preview-emoji svelte-1dv64ml"),c(o,"class","preview-name svelte-1dv64ml"),c(e,"class","category-preview svelte-1dv64ml"),ie(e,"animation-delay",l[11]*.1+"s")},m(v,y){q(v,e,y),s(e,t),s(t,a),s(e,i),s(e,o),s(o,u),s(e,d)},p(v,y){y&2&&n!==(n=v[3](v[9].category)+"")&&Q(a,n),y&2&&r!==(r=v[9].category+"")&&Q(u,r)},d(v){v&&L(e)}}}function wt(l){let e,t,n=l[3](l[9].category)+"",a,i,o,r=l[9].category+"",u,d,v,y,_,S;function b(){return l[7](l[11])}return{c(){e=f("button"),t=f("div"),a=C(n),i=j(),o=f("div"),u=C(r),d=j(),v=f("div"),v.textContent="Tap to select",y=j(),c(t,"class","category-emoji svelte-1dv64ml"),c(o,"class","category-name svelte-1dv64ml"),c(v,"class","select-hint svelte-1dv64ml"),c(e,"class","category-option svelte-1dv64ml"),ie(e,"animation-delay",l[11]*.1+"s")},m(g,k){q(g,e,k),s(e,t),s(t,a),s(e,i),s(e,o),s(o,u),s(e,d),s(e,v),s(e,y),_||(S=V(e,"click",b),_=!0)},p(g,k){l=g,k&2&&n!==(n=l[3](l[9].category)+"")&&Q(a,n),k&2&&r!==(r=l[9].category+"")&&Q(u,r)},d(g){g&&L(e),_=!1,S()}}}function ml(l){let e,t;function n(o,r){return o[2]?dl:fl}let a=n(l),i=a(l);return{c(){e=f("div"),t=f("div"),i.c(),c(t,"class","category-card svelte-1dv64ml"),c(e,"class","category-container svelte-1dv64ml")},m(o,r){q(o,e,r),s(e,t),i.m(t,null)},p(o,[r]){a===(a=n(o))&&i?i.p(o,r):(i.d(1),i=a(o),i&&(i.c(),i.m(t,null)))},i:W,o:W,d(o){o&&L(e),i.d()}}}function vl(l,e,t){let n,a,{currentQuestion:i}=e,{playerId:o}=e,{onSelect:r}=e;const u={History:"üìö",Animals:"üêæ",Food:"üçé",Sports:"‚öΩ",Geography:"üåç",Music:"üéµ",Science:"üî¨",Literature:"üìñ",Inventions:"üí°",TV:"üì∫",Art:"üé®",Language:"üó£Ô∏è",Movies:"üé¨",Tech:"üíª",Fashion:"üëó",Mythology:"‚ö°",Games:"üéÆ",Space:"üöÄ",Comics:"üí•",Misc:"üéØ",Bonus:"‚ú®",Entertainment:"üé≠",Nature:"üåø",Travel:"‚úàÔ∏è"};function d(_){return u[_]||"‚ùì"}function v(_){r(_)}const y=_=>v(_);return l.$$set=_=>{"currentQuestion"in _&&t(0,i=_.currentQuestion),"playerId"in _&&t(5,o=_.playerId),"onSelect"in _&&t(6,r=_.onSelect)},l.$$.update=()=>{l.$$.dirty&33&&t(2,n=i.selectorId===o),l.$$.dirty&1&&t(1,a=i.categories||[])},[i,a,n,d,v,o,r,y]}class pl extends ge{constructor(e){super(),ye(this,e,vl,ml,ke,{currentQuestion:0,playerId:5,onSelect:6})}}function _l(l){let e,t,n,a,i,o=l[1](l[0].category)+"",r,u,d,v=l[0].category+"",y,_,S,b,g=l[0].question+"",k,m,h;return{c(){e=f("div"),t=f("div"),n=f("div"),a=f("div"),i=f("span"),r=C(o),u=j(),d=f("span"),y=C(v),_=j(),S=f("div"),b=f("h1"),k=C(g),m=j(),h=f("div"),h.innerHTML=`<div class="timer-bar svelte-2sx7bu"><div class="timer-progress svelte-2sx7bu"></div></div> 
      <p class="hint-text animate-slideUp svelte-2sx7bu">Get ready to create a clever lie...</p>`,c(i,"class","category-icon svelte-2sx7bu"),c(d,"class","category-name"),c(a,"class","category-badge svelte-2sx7bu"),c(n,"class","question-header svelte-2sx7bu"),c(b,"class","question-text svelte-2sx7bu"),c(S,"class","question-body svelte-2sx7bu"),c(h,"class","question-footer svelte-2sx7bu"),c(t,"class","card-mobile svelte-2sx7bu"),c(e,"class","container-mobile safe-top safe-bottom animate-fadeIn")},m(w,P){q(w,e,P),s(e,t),s(t,n),s(n,a),s(a,i),s(i,r),s(a,u),s(a,d),s(d,y),s(t,_),s(t,S),s(S,b),s(b,k),s(t,m),s(t,h)},p(w,[P]){P&1&&o!==(o=w[1](w[0].category)+"")&&Q(r,o),P&1&&v!==(v=w[0].category+"")&&Q(y,v),P&1&&g!==(g=w[0].question+"")&&Q(k,g)},i:W,o:W,d(w){w&&L(e)}}}function bl(l,e,t){let{currentQuestion:n}=e;const a={History:"üìö",Animals:"üêæ",Food:"üçé",Sports:"‚öΩ",Geography:"üåç",Music:"üéµ",Science:"üî¨",Literature:"üìñ",Inventions:"üí°",TV:"üì∫",Art:"üé®",Language:"üó£Ô∏è",Movies:"üé¨",Tech:"üíª",Fashion:"üëó",Mythology:"‚ö°",Games:"üéÆ",Space:"üöÄ",Comics:"üí•",Misc:"üéØ",Bonus:"‚ú®",Entertainment:"üé≠",Nature:"üåø",Travel:"‚úàÔ∏è"};function i(o){return a[o]||"‚ùì"}return l.$$set=o=>{"currentQuestion"in o&&t(0,n=o.currentQuestion)},[n,i]}class gl extends ge{constructor(e){super(),ye(this,e,bl,_l,ke,{currentQuestion:0})}}function yl(l){let e,t,n,a,i,o,r,u,d,v,y,_,S=(l[1]||"Auto-generated")+"",b,g,k,m;return{c(){e=f("div"),t=f("div"),t.textContent="‚úÖ",n=j(),a=f("h2"),a.textContent="Lie Submitted!",i=j(),o=f("p"),o.textContent="Let's see who falls for it...",r=j(),u=f("div"),d=f("div"),d.textContent="Your answer:",v=j(),y=f("div"),_=C('"'),b=C(S),g=C('"'),k=j(),m=f("div"),m.innerHTML=`<div class="waiting-dots svelte-zppihk"><span class="svelte-zppihk"></span> 
            <span class="svelte-zppihk"></span> 
            <span class="svelte-zppihk"></span></div> 
          <p class="waiting-text svelte-zppihk">Waiting for others...</p>`,c(t,"class","success-icon animate-slideUp svelte-zppihk"),c(a,"class","title-mobile"),c(o,"class","subtitle-mobile"),c(d,"class","preview-label svelte-zppihk"),c(y,"class","preview-text svelte-zppihk"),c(u,"class","submitted-preview svelte-zppihk"),c(m,"class","waiting-indicator svelte-zppihk"),c(e,"class","submitted-state text-center")},m(h,w){q(h,e,w),s(e,t),s(e,n),s(e,a),s(e,i),s(e,o),s(e,r),s(e,u),s(u,d),s(u,v),s(u,y),s(y,_),s(y,b),s(y,g),s(e,k),s(e,m)},p(h,w){w&2&&S!==(S=(h[1]||"Auto-generated")+"")&&Q(b,S)},d(h){h&&L(e)}}}function kl(l){let e,t,n,a=l[9](l[0].category)+"",i,o,r,u=l[0].category+"",d,v,y,_=l[0].question+"",S,b,g,k,m,h,w,P,T,A=l[1].length+"",z,R,F,I,D,p,N,B,J,oe,H,Y,X,$,ue,he=l[4]?"Hide":"Show",pe,Le,fe,ze,x,le,je;function Ne(E,U){return E[2]?jl:hl}let de=Ne(l),te=de(l),K=l[4]&&Ct();return{c(){e=f("div"),t=f("div"),n=f("span"),i=C(a),o=j(),r=f("span"),d=C(u),v=j(),y=f("h2"),S=C(_),b=j(),g=f("form"),k=f("div"),m=f("textarea"),w=j(),P=f("div"),T=f("div"),z=C(A),R=C("/100"),F=j(),I=f("div"),D=f("button"),te.c(),N=j(),B=f("button"),J=f("span"),J.textContent="üé≤",oe=C(`
            Auto`),Y=j(),X=f("button"),$=f("span"),$.textContent="üí°",ue=j(),pe=C(he),Le=C(` Tips
        `),fe=f("span"),fe.textContent="‚ñº",ze=j(),K&&K.c(),x=Ot(),c(n,"class","category-icon svelte-zppihk"),c(r,"class","category-name"),c(t,"class","category-badge svelte-zppihk"),c(y,"class","question-text svelte-zppihk"),c(e,"class","question-card svelte-zppihk"),c(m,"id","lieInput"),c(m,"placeholder","Create a convincing fake answer..."),c(m,"maxlength","100"),c(m,"rows","4"),m.disabled=h=l[3]||l[2],c(m,"class","textarea-mobile svelte-zppihk"),m.autofocus=!0,c(m,"autocomplete","off"),c(m,"autocorrect","on"),c(m,"spellcheck","true"),G(m,"submitting",l[2]),c(T,"class","character-count svelte-zppihk"),G(T,"warning",l[1].length>80),c(P,"class","input-footer svelte-zppihk"),c(k,"class","form-group svelte-zppihk"),c(D,"type","submit"),c(D,"class","btn-touch btn-success"),D.disabled=p=!l[5],G(D,"btn-disabled",!l[5]),c(J,"class","icon svelte-zppihk"),c(B,"type","button"),c(B,"class","btn-touch btn-warning"),B.disabled=H=l[3]||l[2],c(I,"class","button-group svelte-zppihk"),c($,"class","icon svelte-zppihk"),c(fe,"class","arrow svelte-zppihk"),G(fe,"open",l[4]),c(X,"class","strategy-toggle svelte-zppihk")},m(E,U){q(E,e,U),s(e,t),s(t,n),s(n,i),s(t,o),s(t,r),s(r,d),s(e,v),s(e,y),s(y,S),q(E,b,U),q(E,g,U),s(g,k),s(k,m),Te(m,l[1]),s(k,w),s(k,P),s(P,T),s(T,z),s(T,R),s(g,F),s(g,I),s(I,D),te.m(D,null),s(I,N),s(I,B),s(B,J),s(B,oe),q(E,Y,U),q(E,X,U),s(X,$),s(X,ue),s(X,pe),s(X,Le),s(X,fe),q(E,ze,U),K&&K.m(E,U),q(E,x,U),m.focus(),le||(je=[V(m,"input",l[13]),V(m,"keypress",l[8]),V(B,"click",l[7]),V(g,"submit",Ht(l[6])),V(X,"click",l[14])],le=!0)},p(E,U){U&1&&a!==(a=E[9](E[0].category)+"")&&Q(i,a),U&1&&u!==(u=E[0].category+"")&&Q(d,u),U&1&&_!==(_=E[0].question+"")&&Q(S,_),U&12&&h!==(h=E[3]||E[2])&&(m.disabled=h),U&2&&Te(m,E[1]),U&4&&G(m,"submitting",E[2]),U&2&&A!==(A=E[1].length+"")&&Q(z,A),U&2&&G(T,"warning",E[1].length>80),de!==(de=Ne(E))&&(te.d(1),te=de(E),te&&(te.c(),te.m(D,null))),U&32&&p!==(p=!E[5])&&(D.disabled=p),U&32&&G(D,"btn-disabled",!E[5]),U&12&&H!==(H=E[3]||E[2])&&(B.disabled=H),U&16&&he!==(he=E[4]?"Hide":"Show")&&Q(pe,he),U&16&&G(fe,"open",E[4]),E[4]?K||(K=Ct(),K.c(),K.m(x.parentNode,x)):K&&(K.d(1),K=null)},d(E){E&&L(e),E&&L(b),E&&L(g),te.d(),E&&L(Y),E&&L(X),E&&L(ze),K&&K.d(E),E&&L(x),le=!1,Oe(je)}}}function hl(l){let e,t;return{c(){e=f("span"),e.textContent="‚úèÔ∏è",t=C(`
              Submit Lie`),c(e,"class","icon svelte-zppihk")},m(n,a){q(n,e,a),q(n,t,a)},d(n){n&&L(e),n&&L(t)}}}function jl(l){let e,t;return{c(){e=f("div"),t=C(`
              Submitting...`),c(e,"class","spinner-mobile")},m(n,a){q(n,e,a),q(n,t,a)},d(n){n&&L(e),n&&L(t)}}}function Ct(l){let e;return{c(){e=f("div"),e.innerHTML=`<ul class="list-mobile"><li class="list-item-mobile tip-item svelte-zppihk"><span class="icon svelte-zppihk">üéØ</span> 
              <span class="text svelte-zppihk">Mix truth with fiction</span></li> 
            <li class="list-item-mobile tip-item svelte-zppihk"><span class="icon svelte-zppihk">üß†</span> 
              <span class="text svelte-zppihk">Use believable details</span></li> 
            <li class="list-item-mobile tip-item svelte-zppihk"><span class="icon svelte-zppihk">‚ö°</span> 
              <span class="text svelte-zppihk">Keep it simple</span></li></ul>`,c(e,"class","strategy-tips animate-slideUp svelte-zppihk")},m(t,n){q(t,e,n)},d(t){t&&L(e)}}}function Sl(l){let e,t;function n(o,r){return o[3]?yl:kl}let a=n(l),i=a(l);return{c(){e=f("div"),t=f("div"),i.c(),c(t,"class","card-mobile"),c(e,"class","container-mobile safe-top safe-bottom animate-fadeIn")},m(o,r){q(o,e,r),s(e,t),i.m(t,null)},p(o,[r]){a===(a=n(o))&&i?i.p(o,r):(i.d(1),i=a(o),i&&(i.c(),i.m(t,null)))},i:W,o:W,d(o){o&&L(e),i.d()}}}function wl(l,e,t){let n,a,{currentQuestion:i}=e,{subStepInfo:o}=e,{onSubmit:r}=e,{onAuto:u}=e,d="",v=!1,y=!1;function _(){a&&(t(2,v=!0),r(d.trim()),t(2,v=!1))}function S(){n||u()}function b(w){w.key==="Enter"&&w.shiftKey===!1&&a&&(w.preventDefault(),_())}const g={History:"üìö",Animals:"üêæ",Food:"üçé",Sports:"‚öΩ",Geography:"üåç",Music:"üéµ",Science:"üî¨",Literature:"üìñ",Inventions:"üí°",TV:"üì∫",Art:"üé®",Language:"üó£Ô∏è",Movies:"üé¨",Tech:"üíª",Fashion:"üëó",Mythology:"‚ö°",Games:"üéÆ",Space:"üöÄ",Comics:"üí•",Misc:"üéØ",Bonus:"‚ú®",Entertainment:"üé≠",Nature:"üåø",Travel:"‚úàÔ∏è"};function k(w){return g[w]||"‚ùì"}function m(){d=this.value,t(1,d)}const h=()=>t(4,y=!y);return l.$$set=w=>{"currentQuestion"in w&&t(0,i=w.currentQuestion),"subStepInfo"in w&&t(10,o=w.subStepInfo),"onSubmit"in w&&t(11,r=w.onSubmit),"onAuto"in w&&t(12,u=w.onAuto)},l.$$.update=()=>{l.$$.dirty&1024&&t(3,n=o==null?void 0:o.hasSubmittedLie),l.$$.dirty&14&&t(5,a=d.trim().length>0&&!n&&!v)},[i,d,v,n,y,a,_,S,b,k,o,r,u,m,h]}class Cl extends ge{constructor(e){super(),ye(this,e,wl,Sl,ke,{currentQuestion:0,subStepInfo:10,onSubmit:11,onAuto:12})}}function qt(l,e,t){const n=l.slice();return n[17]=e[t],n}function Lt(l,e,t){const n=l.slice();return n[17]=e[t],n[21]=t,n}function zt(l){let e;return{c(){e=f("h3"),e.textContent="Which is the truth?",c(e,"class","section-title text-center svelte-1tbak4u")},m(t,n){q(t,e,n)},d(t){t&&L(e)}}}function Pt(l){let e;return{c(){e=f("span"),e.textContent="‚úì",c(e,"class","check-mark svelte-1tbak4u")},m(t,n){q(t,e,n)},d(t){t&&L(e)}}}function Tt(l){let e,t,n=l[17].text+"",a,i,o,r,u,d=l[5]&&l[17].id===l[1]&&Pt();function v(){return l[14](l[17])}return{c(){e=f("button"),t=f("span"),a=C(n),i=j(),d&&d.c(),o=j(),c(t,"class","option-text svelte-1tbak4u"),c(e,"class","option-card svelte-1tbak4u"),e.disabled=l[5],ie(e,"animation-delay",l[21]*.1+"s"),G(e,"selected",l[5]&&l[17].id===l[1]),G(e,"disabled",l[5]&&l[17].id!==l[1])},m(y,_){q(y,e,_),s(e,t),s(t,a),s(e,i),d&&d.m(e,null),s(e,o),r||(u=V(e,"click",v),r=!0)},p(y,_){l=y,_&64&&n!==(n=l[17].text+"")&&Q(a,n),l[5]&&l[17].id===l[1]?d||(d=Pt(),d.c(),d.m(e,o)):d&&(d.d(1),d=null),_&32&&(e.disabled=l[5]),_&98&&G(e,"selected",l[5]&&l[17].id===l[1]),_&98&&G(e,"disabled",l[5]&&l[17].id!==l[1])},d(y){y&&L(e),d&&d.d(),r=!1,u()}}}function Nt(l){let e,t,n,a,i=l[6],o=[];for(let r=0;r<i.length;r+=1)o[r]=It(qt(l,i,r));return{c(){e=f("div"),t=f("h3"),t.textContent="Give kudos to creative answers",n=j(),a=f("div");for(let r=0;r<o.length;r+=1)o[r].c();c(t,"class","likes-title svelte-1tbak4u"),c(a,"class","likes-grid svelte-1tbak4u"),c(e,"class","likes-section animate-slideUp svelte-1tbak4u")},m(r,u){q(r,e,u),s(e,t),s(e,n),s(e,a);for(let d=0;d<o.length;d+=1)o[d]&&o[d].m(a,null)},p(r,u){if(u&462){i=r[6];let d;for(d=0;d<i.length;d+=1){const v=qt(r,i,d);o[d]?o[d].p(v,u):(o[d]=It(v),o[d].c(),o[d].m(a,null))}for(;d<o.length;d+=1)o[d].d(1);o.length=i.length}},d(r){r&&L(e),Se(o,r)}}}function ql(l){let e;return{c(){e=C("ü§ç")},m(t,n){q(t,e,n)},d(t){t&&L(e)}}}function Ll(l){let e;return{c(){e=C("‚ù§Ô∏è")},m(t,n){q(t,e,n)},d(t){t&&L(e)}}}function It(l){let e,t,n=l[17].text+"",a,i,o,r,u,d,v,y;function _(k,m){return m&76&&(r=null),r==null&&(r=!!(k[17].submittedBy&&k[17].submittedBy.length>0?k[2].has(k[17].id):k[3])),r?Ll:ql}let S=_(l,-1),b=S(l);function g(){return l[15](l[17])}return{c(){e=f("div"),t=f("div"),a=C(n),i=j(),o=f("button"),b.c(),d=j(),c(t,"class","like-text svelte-1tbak4u"),c(o,"class","like-btn svelte-1tbak4u"),o.disabled=u=l[17].submittedBy&&l[17].submittedBy.length>0?l[2].has(l[17].id):l[3],G(o,"liked",l[17].submittedBy&&l[17].submittedBy.length>0?l[2].has(l[17].id):l[3]),c(e,"class","like-item svelte-1tbak4u"),G(e,"is-selected",l[17].id===l[1])},m(k,m){q(k,e,m),s(e,t),s(t,a),s(e,i),s(e,o),b.m(o,null),s(e,d),v||(y=V(o,"click",g),v=!0)},p(k,m){l=k,m&64&&n!==(n=l[17].text+"")&&Q(a,n),S!==(S=_(l,m))&&(b.d(1),b=S(l),b&&(b.c(),b.m(o,null))),m&76&&u!==(u=l[17].submittedBy&&l[17].submittedBy.length>0?l[2].has(l[17].id):l[3])&&(o.disabled=u),m&76&&G(o,"liked",l[17].submittedBy&&l[17].submittedBy.length>0?l[2].has(l[17].id):l[3]),m&66&&G(e,"is-selected",l[17].id===l[1])},d(k){k&&L(e),b.d(),v=!1,y()}}}function Mt(l){let e;return{c(){e=f("div"),e.innerHTML=`<div class="waiting-dots svelte-1tbak4u"><span class="svelte-1tbak4u"></span> 
          <span class="svelte-1tbak4u"></span> 
          <span class="svelte-1tbak4u"></span></div> 
        <p class="waiting-text svelte-1tbak4u">Waiting for others...</p>`,c(e,"class","waiting-indicator svelte-1tbak4u")},m(t,n){q(t,e,n)},d(t){t&&L(e)}}}function zl(l){let e,t,n,a,i,o=l[10](l[0].category)+"",r,u,d,v=l[0].category+"",y,_,S,b=l[0].question+"",g,k,m,h,w,P,T=!l[5]&&zt(),A=l[6],z=[];for(let I=0;I<A.length;I+=1)z[I]=Tt(Lt(l,A,I));let R=l[5]&&l[4]&&Nt(l),F=l[5]&&Mt();return{c(){e=f("div"),t=f("div"),n=f("div"),a=f("div"),i=f("span"),r=C(o),u=j(),d=f("span"),y=C(v),_=j(),S=f("h2"),g=C(b),k=j(),T&&T.c(),m=j(),h=f("div");for(let I=0;I<z.length;I+=1)z[I].c();w=j(),R&&R.c(),P=j(),F&&F.c(),c(i,"class","category-icon svelte-1tbak4u"),c(d,"class","category-name"),c(a,"class","category-badge svelte-1tbak4u"),c(S,"class","question-text svelte-1tbak4u"),c(n,"class","question-card svelte-1tbak4u"),c(h,"class","options-container svelte-1tbak4u"),c(t,"class","card-mobile"),c(e,"class","container-mobile safe-top safe-bottom animate-fadeIn")},m(I,D){q(I,e,D),s(e,t),s(t,n),s(n,a),s(a,i),s(i,r),s(a,u),s(a,d),s(d,y),s(n,_),s(n,S),s(S,g),s(t,k),T&&T.m(t,null),s(t,m),s(t,h);for(let p=0;p<z.length;p+=1)z[p]&&z[p].m(h,null);s(t,w),R&&R.m(t,null),s(t,P),F&&F.m(t,null)},p(I,[D]){if(D&1&&o!==(o=I[10](I[0].category)+"")&&Q(r,o),D&1&&v!==(v=I[0].category+"")&&Q(y,v),D&1&&b!==(b=I[0].question+"")&&Q(g,b),I[5]?T&&(T.d(1),T=null):T||(T=zt(),T.c(),T.m(t,m)),D&610){A=I[6];let p;for(p=0;p<A.length;p+=1){const N=Lt(I,A,p);z[p]?z[p].p(N,D):(z[p]=Tt(N),z[p].c(),z[p].m(h,null))}for(;p<z.length;p+=1)z[p].d(1);z.length=A.length}I[5]&&I[4]?R?R.p(I,D):(R=Nt(I),R.c(),R.m(t,P)):R&&(R.d(1),R=null),I[5]?F||(F=Mt(),F.c(),F.m(t,null)):F&&(F.d(1),F=null)},i:W,o:W,d(I){I&&L(e),T&&T.d(),Se(z,I),R&&R.d(),F&&F.d()}}}function Pl(l,e,t){let n,a,{currentQuestion:i}=e,{subStepInfo:o}=e,{onSelect:r}=e,{onLike:u}=e,d=null,v=new Set,y=!1,_=!1;function S(P){v.has(P.id)||!P.submittedBy||P.submittedBy.length===0||(v.add(P.id),t(2,v),P.submittedBy.forEach(T=>{u(T)}))}function b(P){y||t(3,y=!0)}function g(P){n||(t(1,d=P),r(P),setTimeout(()=>{t(4,_=!0)},500))}const k={History:"üìö",Animals:"üêæ",Food:"üçé",Sports:"‚öΩ",Geography:"üåç",Music:"üéµ",Science:"üî¨",Literature:"üìñ",Inventions:"üí°",TV:"üì∫",Art:"üé®",Language:"üó£Ô∏è",Movies:"üé¨",Tech:"üíª",Fashion:"üëó",Mythology:"‚ö°",Games:"üéÆ",Space:"üöÄ",Comics:"üí•",Misc:"üéØ",Bonus:"‚ú®",Entertainment:"üé≠",Nature:"üåø",Travel:"‚úàÔ∏è"};function m(P){return k[P]||"‚ùì"}const h=P=>g(P.id),w=P=>P.submittedBy&&P.submittedBy.length>0?S(P):b();return l.$$set=P=>{"currentQuestion"in P&&t(0,i=P.currentQuestion),"subStepInfo"in P&&t(11,o=P.subStepInfo),"onSelect"in P&&t(12,r=P.onSelect),"onLike"in P&&t(13,u=P.onLike)},l.$$.update=()=>{l.$$.dirty&2050&&t(5,n=(o==null?void 0:o.hasSelectedOption)||d!==null),l.$$.dirty&1&&t(6,a=(i==null?void 0:i.options)||[])},[i,d,v,y,_,n,a,S,b,g,m,o,r,u,h,w]}class Tl extends ge{constructor(e){super(),ye(this,e,Pl,zl,ke,{currentQuestion:0,subStepInfo:11,onSelect:12,onLike:13})}}function Et(l,e,t){const n=l.slice();return n[7]=e[t],n[9]=t,n}function Nl(l){let e,t=l[3].round+"",n,a;return{c(){e=C("Round "),n=C(t),a=C(" Complete!")},m(i,o){q(i,e,o),q(i,n,o),q(i,a,o)},p(i,o){o&8&&t!==(t=i[3].round+"")&&Q(n,t)},d(i){i&&L(e),i&&L(n),i&&L(a)}}}function Il(l){let e;return{c(){e=C("üéä Game Complete! üéä")},m(t,n){q(t,e,n)},p:W,d(t){t&&L(e)}}}function Ml(l){let e;return{c(){e=C("Final results coming up!")},m(t,n){q(t,e,n)},p:W,d(t){t&&L(e)}}}function El(l){let e,t=l[3].round+1+"",n;return{c(){e=C("Next: Round "),n=C(t)},m(a,i){q(a,e,i),q(a,n,i)},p(a,i){i&8&&t!==(t=a[3].round+1+"")&&Q(n,t)},d(a){a&&L(e),a&&L(n)}}}function Al(l){let e;return{c(){e=C("üèÜ Final Results üèÜ")},m(t,n){q(t,e,n)},p:W,d(t){t&&L(e)}}}function At(l){let e,t,n=l[0].pointsThisRound+"",a,i;return{c(){e=f("div"),t=C("+"),a=C(n),i=C(" this round"),c(e,"class","points-gained svelte-16bgs9j")},m(o,r){q(o,e,r),s(e,t),s(e,a),s(e,i)},p(o,r){r&1&&n!==(n=o[0].pointsThisRound+"")&&Q(a,n)},d(o){o&&L(e)}}}function Rt(l){let e;return{c(){e=f("span"),e.textContent="You",c(e,"class","you-badge svelte-16bgs9j")},m(t,n){q(t,e,n)},d(t){t&&L(e)}}}function Qt(l){let e,t,n=l[7].lastLie+"",a,i;return{c(){e=f("div"),t=C('"'),a=C(n),i=C('"'),c(e,"class","last-lie svelte-16bgs9j")},m(o,r){q(o,e,r),s(e,t),s(e,a),s(e,i)},p(o,r){r&4&&n!==(n=o[7].lastLie+"")&&Q(a,n)},d(o){o&&L(e)}}}function Dt(l){let e,t,n=l[7].pointsThisRound+"",a;return{c(){e=f("div"),t=C("+"),a=C(n),c(e,"class","points-round svelte-16bgs9j")},m(i,o){q(i,e,o),s(e,t),s(e,a)},p(i,o){o&4&&n!==(n=i[7].pointsThisRound+"")&&Q(a,n)},d(i){i&&L(e)}}}function Bt(l){var oe;let e,t,n,a=Ut(l[9]+1)+"",i,o,r,u,d,v=(((oe=l[7].avatar)==null?void 0:oe.emoji)||"üòÄ")+"",y,_,S,b,g=l[7].name+"",k,m,h=l[5](l[7]),w,P,T,A,z=l[7].points+"",R,F,I,D,p,N=h&&Rt(),B=l[7].lastLie&&Qt(l),J=l[7].pointsThisRound&&Dt(l);return{c(){var H;e=f("div"),t=f("div"),n=f("span"),i=C(a),o=j(),r=f("div"),u=f("div"),d=f("span"),y=C(v),_=j(),S=f("div"),b=f("div"),k=C(g),m=j(),N&&N.c(),w=j(),B&&B.c(),P=j(),T=f("div"),A=f("div"),R=C(z),F=j(),I=f("div"),I.textContent="pts",D=j(),J&&J.c(),p=j(),c(n,"class","rank-number svelte-16bgs9j"),c(t,"class","player-rank svelte-16bgs9j"),c(d,"class","player-emoji svelte-16bgs9j"),c(u,"class","player-avatar svelte-16bgs9j"),ie(u,"background-color",((H=l[7].avatar)==null?void 0:H.color)||"#667eea"),c(b,"class","player-name svelte-16bgs9j"),c(S,"class","player-details svelte-16bgs9j"),c(r,"class","player-info svelte-16bgs9j"),c(A,"class","points-total svelte-16bgs9j"),c(I,"class","points-label svelte-16bgs9j"),c(T,"class","player-stats svelte-16bgs9j"),c(e,"class","player-row "+Ol(l[9]+1)+" svelte-16bgs9j"),ie(e,"animation-delay",l[9]*.1+"s"),G(e,"is-me",l[5](l[7]))},m(H,Y){q(H,e,Y),s(e,t),s(t,n),s(n,i),s(e,o),s(e,r),s(r,u),s(u,d),s(d,y),s(r,_),s(r,S),s(S,b),s(b,k),s(b,m),N&&N.m(b,null),s(S,w),B&&B.m(S,null),s(e,P),s(e,T),s(T,A),s(A,R),s(T,F),s(T,I),s(T,D),J&&J.m(T,null),s(e,p)},p(H,Y){var X,$;Y&4&&v!==(v=(((X=H[7].avatar)==null?void 0:X.emoji)||"üòÄ")+"")&&Q(y,v),Y&4&&ie(u,"background-color",(($=H[7].avatar)==null?void 0:$.color)||"#667eea"),Y&4&&g!==(g=H[7].name+"")&&Q(k,g),Y&4&&(h=H[5](H[7])),h?N||(N=Rt(),N.c(),N.m(b,null)):N&&(N.d(1),N=null),H[7].lastLie?B?B.p(H,Y):(B=Qt(H),B.c(),B.m(S,null)):B&&(B.d(1),B=null),Y&4&&z!==(z=H[7].points+"")&&Q(R,z),H[7].pointsThisRound?J?J.p(H,Y):(J=Dt(H),J.c(),J.m(T,null)):J&&(J.d(1),J=null),Y&36&&G(e,"is-me",H[5](H[7]))},d(H){H&&L(e),N&&N.d(),B&&B.d(),J&&J.d()}}}function Rl(l){let e,t,n;function a(r,u){return r[1]===1?Bl:Dl}let i=a(l),o=i(l);return{c(){e=f("div"),o.c(),t=j(),n=f("p"),n.textContent="Thanks for playing Lie-Ability! üéâ",c(n,"class","thanks-message svelte-16bgs9j"),c(e,"class","game-complete-section svelte-16bgs9j")},m(r,u){q(r,e,u),o.m(e,null),s(e,t),s(e,n)},p(r,u){i===(i=a(r))&&o?o.p(r,u):(o.d(1),o=i(r),o&&(o.c(),o.m(e,t)))},d(r){r&&L(e),o.d()}}}function Ql(l){let e,t,n,a;function i(u,d){return u[3].round<u[3].totalRounds?Ul:Hl}let o=i(l),r=o(l);return{c(){e=f("div"),t=f("div"),t.innerHTML=`<span class="svelte-16bgs9j"></span> 
          <span class="svelte-16bgs9j"></span> 
          <span class="svelte-16bgs9j"></span>`,n=j(),a=f("p"),r.c(),c(t,"class","continue-dots svelte-16bgs9j"),c(a,"class","continue-text svelte-16bgs9j"),c(e,"class","continue-indicator svelte-16bgs9j")},m(u,d){q(u,e,d),s(e,t),s(e,n),s(e,a),r.m(a,null)},p(u,d){o===(o=i(u))&&r?r.p(u,d):(r.d(1),r=o(u),r&&(r.c(),r.m(a,null)))},d(u){u&&L(e),r.d()}}}function Dl(l){let e,t,n,a,i,o;function r(v,y){return v[1]<=3?Fl:Gl}let u=r(l),d=u(l);return{c(){e=f("div"),t=f("h3"),n=C("Final Placement: "),a=C(l[4]),i=j(),o=f("p"),d.c(),c(t,"class","placement-title svelte-16bgs9j"),c(o,"class","placement-message svelte-16bgs9j"),c(e,"class","final-placement svelte-16bgs9j")},m(v,y){q(v,e,y),s(e,t),s(t,n),s(t,a),s(e,i),s(e,o),d.m(o,null)},p(v,y){y&16&&Q(a,v[4]),u!==(u=r(v))&&(d.d(1),d=u(v),d&&(d.c(),d.m(o,null)))},d(v){v&&L(e),d.d()}}}function Bl(l){let e;return{c(){e=f("div"),e.innerHTML=`<div class="celebration-crown svelte-16bgs9j">üëë</div> 
            <h3 class="celebration-title svelte-16bgs9j">You&#39;re the Champion!</h3> 
            <p class="celebration-message svelte-16bgs9j">Congratulations on your masterful deception!</p>`,c(e,"class","winner-celebration svelte-16bgs9j")},m(t,n){q(t,e,n)},p:W,d(t){t&&L(e)}}}function Gl(l){let e;return{c(){e=C("Thanks for playing! Better luck next time!")},m(t,n){q(t,e,n)},d(t){t&&L(e)}}}function Fl(l){let e;return{c(){e=C("Great job! You made it to the podium!")},m(t,n){q(t,e,n)},d(t){t&&L(e)}}}function Hl(l){let e;return{c(){e=C("Calculating final results...")},m(t,n){q(t,e,n)},p:W,d(t){t&&L(e)}}}function Ul(l){let e,t=l[3].round+1+"",n,a;return{c(){e=C("Get ready for Round "),n=C(t),a=C("...")},m(i,o){q(i,e,o),q(i,n,o),q(i,a,o)},p(i,o){o&8&&t!==(t=i[3].round+1+"")&&Q(n,t)},d(i){i&&L(e),i&&L(n),i&&L(a)}}}function Jl(l){var lt,nt,st,it;let e,t,n,a,i,o,r,u,d,v,y,_,S,b,g,k,m,h,w=(((nt=(lt=l[0])==null?void 0:lt.avatar)==null?void 0:nt.emoji)||"üòÄ")+"",P,T,A,z,R,F,I=(((st=l[0])==null?void 0:st.points)||0)+"",D,p,N,B,J,oe,H,Y,X,$,ue,he,pe=l[3].round+"",Le,fe,ze,x,le,je,Ne,de,te=(l[3].question||8)+"",K,E,U,We,_e,Ie,Ve,Me,Ee=(l[3].totalLies||0)+"",Ue,Ye,Ae,Ke,be,Re,Xe,Qe,De=(l[3].truthsFound||0)+"",Je,Ze,Be,$e;function xe(M,O){return M[3].isGameEnd?Il:Nl}let Ge=xe(l),ae=Ge(l);function et(M,O){return M[3].isGameEnd?Al:M[3].round<M[3].totalRounds?El:Ml}let Fe=et(l),re=Fe(l),ee=((it=l[0])==null?void 0:it.pointsThisRound)&&At(l),Pe=l[2],Z=[];for(let M=0;M<Pe.length;M+=1)Z[M]=Bt(Et(l,Pe,M));function tt(M,O){return M[3].isGameEnd?Rl:Ql}let He=tt(l),ce=He(l);return{c(){var M,O;e=f("div"),t=f("div"),n=f("div"),a=f("div"),a.textContent="üèÜ",i=j(),o=f("h2"),ae.c(),r=j(),u=f("p"),re.c(),d=j(),v=f("div"),y=f("div"),_=f("div"),S=f("span"),b=C(l[4]),g=j(),k=f("div"),m=f("div"),h=f("span"),P=C(w),T=j(),A=f("div"),z=f("div"),z.textContent="You",R=j(),F=f("div"),D=C(I),p=C(" points"),N=j(),ee&&ee.c(),B=j(),J=f("div"),oe=f("h3"),oe.textContent="Full Leaderboard",H=j(),Y=f("div");for(let se=0;se<Z.length;se+=1)Z[se].c();X=j(),$=f("div"),ue=f("h4"),he=C("Round "),Le=C(pe),fe=C(" Summary"),ze=j(),x=f("div"),le=f("div"),je=f("span"),je.textContent="‚ùì",Ne=j(),de=f("span"),K=C(te),E=j(),U=f("span"),U.textContent="Questions",We=j(),_e=f("div"),Ie=f("span"),Ie.textContent="ü§•",Ve=j(),Me=f("span"),Ue=C(Ee),Ye=j(),Ae=f("span"),Ae.textContent="Lies Created",Ke=j(),be=f("div"),Re=f("span"),Re.textContent="üéØ",Xe=j(),Qe=f("span"),Je=C(De),Ze=j(),Be=f("span"),Be.textContent="Truths Found",$e=j(),ce.c(),c(a,"class","round-icon svelte-16bgs9j"),c(o,"class","round-title svelte-16bgs9j"),c(u,"class","round-progress svelte-16bgs9j"),c(n,"class","round-header svelte-16bgs9j"),c(S,"class","rank-display svelte-16bgs9j"),c(_,"class","performance-rank svelte-16bgs9j"),c(h,"class","my-emoji svelte-16bgs9j"),c(m,"class","my-avatar svelte-16bgs9j"),ie(m,"background-color",((O=(M=l[0])==null?void 0:M.avatar)==null?void 0:O.color)||"#667eea"),c(z,"class","my-name svelte-16bgs9j"),c(F,"class","my-points svelte-16bgs9j"),c(A,"class","performance-details svelte-16bgs9j"),c(k,"class","performance-info svelte-16bgs9j"),c(y,"class","performance-card svelte-16bgs9j"),G(y,"highlight",l[1]<=3),c(v,"class","my-performance svelte-16bgs9j"),c(oe,"class","leaderboard-title svelte-16bgs9j"),c(Y,"class","players-list svelte-16bgs9j"),c(J,"class","leaderboard-section svelte-16bgs9j"),c(ue,"class","summary-title svelte-16bgs9j"),c(je,"class","stat-icon svelte-16bgs9j"),c(de,"class","stat-value svelte-16bgs9j"),c(U,"class","stat-label svelte-16bgs9j"),c(le,"class","stat-item svelte-16bgs9j"),c(Ie,"class","stat-icon svelte-16bgs9j"),c(Me,"class","stat-value svelte-16bgs9j"),c(Ae,"class","stat-label svelte-16bgs9j"),c(_e,"class","stat-item svelte-16bgs9j"),c(Re,"class","stat-icon svelte-16bgs9j"),c(Qe,"class","stat-value svelte-16bgs9j"),c(Be,"class","stat-label svelte-16bgs9j"),c(be,"class","stat-item svelte-16bgs9j"),c(x,"class","summary-stats svelte-16bgs9j"),c($,"class","round-summary svelte-16bgs9j"),c(t,"class","scoreboard-card svelte-16bgs9j"),c(e,"class","scoreboard-container svelte-16bgs9j")},m(M,O){q(M,e,O),s(e,t),s(t,n),s(n,a),s(n,i),s(n,o),ae.m(o,null),s(n,r),s(n,u),re.m(u,null),s(t,d),s(t,v),s(v,y),s(y,_),s(_,S),s(S,b),s(y,g),s(y,k),s(k,m),s(m,h),s(h,P),s(k,T),s(k,A),s(A,z),s(A,R),s(A,F),s(F,D),s(F,p),s(A,N),ee&&ee.m(A,null),s(t,B),s(t,J),s(J,oe),s(J,H),s(J,Y);for(let se=0;se<Z.length;se+=1)Z[se]&&Z[se].m(Y,null);s(t,X),s(t,$),s($,ue),s(ue,he),s(ue,Le),s(ue,fe),s($,ze),s($,x),s(x,le),s(le,je),s(le,Ne),s(le,de),s(de,K),s(le,E),s(le,U),s(x,We),s(x,_e),s(_e,Ie),s(_e,Ve),s(_e,Me),s(Me,Ue),s(_e,Ye),s(_e,Ae),s(x,Ke),s(x,be),s(be,Re),s(be,Xe),s(be,Qe),s(Qe,Je),s(be,Ze),s(be,Be),s(t,$e),ce.m(t,null)},p(M,[O]){var se,ot,at,rt,ct,ut;if(Ge===(Ge=xe(M))&&ae?ae.p(M,O):(ae.d(1),ae=Ge(M),ae&&(ae.c(),ae.m(o,null))),Fe===(Fe=et(M))&&re?re.p(M,O):(re.d(1),re=Fe(M),re&&(re.c(),re.m(u,null))),O&16&&Q(b,M[4]),O&1&&w!==(w=(((ot=(se=M[0])==null?void 0:se.avatar)==null?void 0:ot.emoji)||"üòÄ")+"")&&Q(P,w),O&1&&ie(m,"background-color",((rt=(at=M[0])==null?void 0:at.avatar)==null?void 0:rt.color)||"#667eea"),O&1&&I!==(I=(((ct=M[0])==null?void 0:ct.points)||0)+"")&&Q(D,I),(ut=M[0])!=null&&ut.pointsThisRound?ee?ee.p(M,O):(ee=At(M),ee.c(),ee.m(A,null)):ee&&(ee.d(1),ee=null),O&2&&G(y,"highlight",M[1]<=3),O&36){Pe=M[2];let ne;for(ne=0;ne<Pe.length;ne+=1){const ft=Et(M,Pe,ne);Z[ne]?Z[ne].p(ft,O):(Z[ne]=Bt(ft),Z[ne].c(),Z[ne].m(Y,null))}for(;ne<Z.length;ne+=1)Z[ne].d(1);Z.length=Pe.length}O&8&&pe!==(pe=M[3].round+"")&&Q(Le,pe),O&8&&te!==(te=(M[3].question||8)+"")&&Q(K,te),O&8&&Ee!==(Ee=(M[3].totalLies||0)+"")&&Q(Ue,Ee),O&8&&De!==(De=(M[3].truthsFound||0)+"")&&Q(Je,De),He===(He=tt(M))&&ce?ce.p(M,O):(ce.d(1),ce=He(M),ce&&(ce.c(),ce.m(t,null)))},i:W,o:W,d(M){M&&L(e),ae.d(),re.d(),ee&&ee.d(),Se(Z,M),ce.d()}}}function Ut(l){switch(l){case 1:return"ü•á 1st";case 2:return"ü•à 2nd";case 3:return"ü•â 3rd";default:return`#${l}`}}function Ol(l){switch(l){case 1:return"rank-first";case 2:return"rank-second";case 3:return"rank-third";default:return"rank-other"}}function Wl(l,e,t){let n,a,i,o,{scoreboardData:r}=e,{currentPlayer:u}=e;function d(v){return v.id===(u==null?void 0:u.id)}return l.$$set=v=>{"scoreboardData"in v&&t(6,r=v.scoreboardData),"currentPlayer"in v&&t(0,u=v.currentPlayer)},l.$$.update=()=>{l.$$.dirty&64&&t(3,n=r),l.$$.dirty&8&&t(2,a=[...(n==null?void 0:n.players)||[]].sort((v,y)=>y.points-v.points)),l.$$.dirty&5&&t(1,i=a.findIndex(v=>v.id===(u==null?void 0:u.id))+1),l.$$.dirty&2&&t(4,o=Ut(i))},[u,i,a,n,o,d,r]}class Vl extends ge{constructor(e){super(),ye(this,e,Wl,Jl,ke,{scoreboardData:6,currentPlayer:0})}}function Yl(l){let e;return{c(){e=C("Disconnected")},m(t,n){q(t,e,n)},d(t){t&&L(e)}}}function Kl(l){let e;return{c(){e=C("Connection Error")},m(t,n){q(t,e,n)},d(t){t&&L(e)}}}function Xl(l){let e;return{c(){e=C("Reconnecting...")},m(t,n){q(t,e,n)},d(t){t&&L(e)}}}function Zl(l){let e;return{c(){e=C("Connected")},m(t,n){q(t,e,n)},d(t){t&&L(e)}}}function $l(l){let e,t;return e=new Vl({props:{scoreboardData:l[5],currentPlayer:l[7]}}),{c(){we(e.$$.fragment)},m(n,a){Ce(e,n,a),t=!0},p(n,a){const i={};a&32&&(i.scoreboardData=n[5]),a&128&&(i.currentPlayer=n[7]),e.$set(i)},i(n){t||(ve(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){qe(e,n)}}}function xl(l){let e,t;return e=new Tl({props:{currentQuestion:l[4],subStepInfo:l[3],onSelect:l[14],onLike:l[15]}}),{c(){we(e.$$.fragment)},m(n,a){Ce(e,n,a),t=!0},p(n,a){const i={};a&16&&(i.currentQuestion=n[4]),a&8&&(i.subStepInfo=n[3]),e.$set(i)},i(n){t||(ve(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){qe(e,n)}}}function en(l){let e,t;return e=new Cl({props:{currentQuestion:l[4],subStepInfo:l[3],onSubmit:l[12],onAuto:l[13]}}),{c(){we(e.$$.fragment)},m(n,a){Ce(e,n,a),t=!0},p(n,a){const i={};a&16&&(i.currentQuestion=n[4]),a&8&&(i.subStepInfo=n[3]),e.$set(i)},i(n){t||(ve(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){qe(e,n)}}}function tn(l){let e,t;return e=new gl({props:{currentQuestion:l[4]}}),{c(){we(e.$$.fragment)},m(n,a){Ce(e,n,a),t=!0},p(n,a){const i={};a&16&&(i.currentQuestion=n[4]),e.$set(i)},i(n){t||(ve(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){qe(e,n)}}}function ln(l){let e,t;return e=new pl({props:{currentQuestion:l[4],playerId:l[0],onSelect:l[11]}}),{c(){we(e.$$.fragment)},m(n,a){Ce(e,n,a),t=!0},p(n,a){const i={};a&16&&(i.currentQuestion=n[4]),a&1&&(i.playerId=n[0]),e.$set(i)},i(n){t||(ve(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){qe(e,n)}}}function nn(l){let e,t;return e=new ul({props:{playerName:l[2],gameState:l[1],currentPlayer:l[7],onUpdateAvatar:l[16],onUpdateName:l[17]}}),{c(){we(e.$$.fragment)},m(n,a){Ce(e,n,a),t=!0},p(n,a){const i={};a&4&&(i.playerName=n[2]),a&2&&(i.gameState=n[1]),a&128&&(i.currentPlayer=n[7]),e.$set(i)},i(n){t||(ve(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){qe(e,n)}}}function sn(l){let e,t;return e=new nl({props:{connectionStatus:l[6],onJoin:l[10],onClearData:l[9]}}),{c(){we(e.$$.fragment)},m(n,a){Ce(e,n,a),t=!0},p(n,a){const i={};a&64&&(i.connectionStatus=n[6]),e.$set(i)},i(n){t||(ve(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){qe(e,n)}}}function Gt(l){return{c:W,m:W,d:W}}function on(l){let e,t,n,a,i,o,r,u,d,v;function y(h,w){return h[6]==="connected"?Zl:h[6]==="reconnecting"?Xl:h[6]==="error"?Kl:Yl}let _=y(l),S=_(l);const b=[sn,nn,ln,tn,en,xl,$l],g=[];function k(h,w){return h[8]?h[1].state==="lobby"?1:h[1].state==="category_selection"?2:h[1].state==="question_reading"?3:h[1].state==="lie_submission"?4:h[1].state==="option_selection"||h[1].state==="truth_reveal"?5:h[1].state==="scoreboard"?6:-1:0}~(r=k(l))&&(u=g[r]=b[r](l));let m=l[8]&&l[1].state!=="lobby"&&Gt();return{c(){e=f("main"),t=f("div"),n=f("div"),a=j(),S.c(),i=j(),o=f("div"),u&&u.c(),d=j(),m&&m.c(),c(n,"class","indicator-dot svelte-jte6zg"),c(t,"class","connection-indicator svelte-jte6zg"),G(t,"connected",l[6]==="connected"),G(t,"reconnecting",l[6]==="reconnecting"),G(t,"error",l[6]==="error"),c(o,"class","player-content svelte-jte6zg"),c(e,"class","player-container svelte-jte6zg")},m(h,w){q(h,e,w),s(e,t),s(t,n),s(t,a),S.m(t,null),s(e,i),s(e,o),~r&&g[r].m(o,null),s(e,d),m&&m.m(e,null),v=!0},p(h,[w]){_!==(_=y(h))&&(S.d(1),S=_(h),S&&(S.c(),S.m(t,null))),(!v||w&64)&&G(t,"connected",h[6]==="connected"),(!v||w&64)&&G(t,"reconnecting",h[6]==="reconnecting"),(!v||w&64)&&G(t,"error",h[6]==="error");let P=r;r=k(h),r===P?~r&&g[r].p(h,w):(u&&(Kt(),me(g[P],1,1,()=>{g[P]=null}),Wt()),~r?(u=g[r],u?u.p(h,w):(u=g[r]=b[r](h),u.c()),ve(u,1),u.m(o,null)):u=null),h[8]&&h[1].state!=="lobby"?m||(m=Gt(),m.c(),m.m(e,null)):m&&(m.d(1),m=null)},i(h){v||(ve(u),v=!0)},o(h){me(u),v=!1},d(h){h&&L(e),S.d(),~r&&g[r].d(),m&&m.d()}}}let Ft=5;function an(l,e,t){let n,a,i,o=null,r="",u={state:"lobby",players:[],currentRound:1,totalRounds:3,currentQuestion:1};if(typeof window<"u"){const p=localStorage.getItem("lie-ability-player-id"),N=localStorage.getItem("lie-ability-player-name");p&&N&&(o=p,r=N,console.log("Restored player data from localStorage:",{playerId:o,playerName:r}))}let d=null,v=null,y={players:[]},_="disconnected",S=0,b=null,g=!1;function k(){i=Xt({autoConnect:!0,reconnection:!0,reconnectionAttempts:1/0,reconnectionDelay:1e3,reconnectionDelayMax:5e3,timeout:1e4}),i.on("connect",()=>{console.log("Player connected to server"),t(6,_="connected"),S=0,g=!1,b&&(clearTimeout(b),b=null),i.emit("request_game_state"),o&&r&&(console.log("Attempting to rejoin game as:",r),i.emit("rejoin_game",{playerId:o,playerName:r}),setTimeout(()=>{o&&!u.players.find(p=>p.id===o)&&(console.log("Rejoin timeout - player not found in game state, clearing saved data"),h())},3e3))}),i.on("disconnect",p=>{console.log("Player disconnected from server:",p),t(6,_="disconnected"),(p==="io server disconnect"||p==="transport close")&&m()}),i.on("connect_error",p=>{console.error("Connection error:",p),t(6,_="error"),m()}),i.on("player_joined_response",p=>{p.success?(t(0,o=p.player.id),t(2,r=p.player.name),t(1,u=p.gameState),typeof window<"u"&&(localStorage.setItem("lie-ability-player-id",o),localStorage.setItem("lie-ability-player-name",r)),console.log("Successfully joined as:",p.player),console.log("Initial game state after join:",u)):(console.error("Failed to join:",p.error),alert("Failed to join: "+p.error))}),i.on("game_state_update",p=>{t(1,u={...p}),p.currentQuestionData&&t(4,v=p.currentQuestionData)}),i.on("sub_step_info",p=>{t(3,d=p),p.question&&t(4,v=p.question),p.options&&t(4,v={...v,options:p.options})}),i.on("category_selection_start",p=>{t(1,u={...u,state:"category_selection"}),t(4,v={categories:p.categories,selectorName:p.selectorName,selectorId:p.selectorId})}),i.on("question_reading_start",p=>{t(1,u={...u,state:"question_reading"}),t(4,v=p)}),i.on("lie_submission_start",p=>{t(1,u={...u,state:"lie_submission"})}),i.on("option_selection_start",()=>{t(1,u={...u,state:"option_selection"})}),i.on("truth_reveal_start",p=>{t(1,u={...u,state:"truth_reveal"})}),i.on("scoreboard_update",p=>{t(5,y=p||{players:[]}),t(1,u={...u,state:"scoreboard"})}),i.on("game_ended",p=>{t(5,y={...y,players:p.finalScores,isGameEnd:!0,winner:p.winner}),t(1,u={...u,state:"scoreboard"})}),i.on("timer_update",p=>{p.secondsRemaining}),i.on("lie_submitted",p=>{p.success?t(3,d={...d,hasSubmittedLie:!0}):alert(p.error||"Failed to submit lie")}),i.on("option_selected",()=>{t(3,d={...d,hasSelectedOption:!0})}),i.on("name_updated",p=>{p.success&&(t(2,r=p.newName),console.log("Name updated to:",p.newName))}),i.on("error",p=>{if(console.error("Socket error:",p.message),p.message.includes("Player not found")||p.message.includes("Please join as a new player")){console.log("Player not found on server, clearing saved data and resetting to join screen"),h(),console.log("Cleared player data, ready to join as new player");return}alert("Error: "+p.message)})}function m(){if(g||S>=Ft)return;g=!0,S++,t(6,_="reconnecting");const p=Math.min(1e3*Math.pow(2,S-1),5e3);console.log(`Attempting reconnection ${S}/${Ft} in ${p}ms`),b=setTimeout(()=>{i&&!i.connected&&i.connect(),g=!1},p)}function h(){console.log("Clearing player data"),typeof window<"u"&&(localStorage.removeItem("lie-ability-player-id"),localStorage.removeItem("lie-ability-player-name")),t(0,o=null),t(2,r="")}function w(){document.visibilityState==="visible"&&(console.log("Page became visible, checking connection"),i&&!i.connected?(console.log("Socket disconnected while page was hidden, attempting reconnection"),m()):i&&i.connected&&(i.emit("request_game_state"),o&&r&&i.emit("rejoin_game",{playerId:o,playerName:r})))}function P(p){t(2,r=p),i.emit("join_game",{playerName:p,playerId:o})}function T(p){i.emit("select_category",{categoryId:p})}function A(p){i.emit("submit_lie",{lie:p})}function z(){i.emit("auto_lie")}function R(p){i.emit("select_option",{optionId:p})}function F(p){i.emit("like_lie",{likedPlayerId:p})}function I(p,N){i.emit("update_avatar",{emoji:p,color:N})}function D(p){i.emit("update_name",{newName:p})}return Vt(()=>{k(),document.addEventListener("visibilitychange",w),window.addEventListener("focus",w)}),Yt(()=>{i&&i.disconnect(),document.removeEventListener("visibilitychange",w),window.removeEventListener("focus",w),b&&clearTimeout(b)}),l.$$.update=()=>{l.$$.dirty&2&&console.log("Player gameState changed:",u),l.$$.dirty&1&&t(8,n=o!==null),l.$$.dirty&3&&t(7,a=u.players.find(p=>p.id===o))},[o,u,r,d,v,y,_,a,n,h,P,T,A,z,R,F,I,D]}class rn extends ge{constructor(e){super(),ye(this,e,an,on,ke,{})}}new rn({target:document.getElementById("app")});
