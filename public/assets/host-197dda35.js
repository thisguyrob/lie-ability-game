import{S as Y,i as G,s as Q,e as v,b,c as P,n as L,f as R,g as fe,t as N,a as I,h as Ne,d as f,j as k,l as Tt,k as st,m as q,o as at,p as z,q as ct,r as St,u as Ke,v as x,w as ee,x as te,y as ut}from"./index-73177419.js";import{l as It}from"./index-d9998155.js";var ge={},kt=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},ft={},D={};let $e;const Mt=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];D.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};D.getSymbolTotalCodewords=function(e){return Mt[e]};D.getBCHDigit=function(r){let e=0;for(;r!==0;)e++,r>>>=1;return e};D.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');$e=e};D.isKanjiModeEnabled=function(){return typeof $e<"u"};D.toSJIS=function(e){return $e(e)};var we={};(function(r){r.L={bit:1},r.M={bit:0},r.Q={bit:3},r.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return r.L;case"m":case"medium":return r.M;case"q":case"quartile":return r.Q;case"h":case"high":return r.H;default:throw new Error("Unknown EC Level: "+n)}}r.isValid=function(t){return t&&typeof t.bit<"u"&&t.bit>=0&&t.bit<4},r.from=function(t,o){if(r.isValid(t))return t;try{return e(t)}catch{return o}}})(we);function gt(){this.buffer=[],this.length=0}gt.prototype={get:function(r){const e=Math.floor(r/8);return(this.buffer[e]>>>7-r%8&1)===1},put:function(r,e){for(let n=0;n<e;n++)this.putBit((r>>>e-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(r){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),r&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var Pt=gt;function de(r){if(!r||r<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=r,this.data=new Uint8Array(r*r),this.reservedBit=new Uint8Array(r*r)}de.prototype.set=function(r,e,n,t){const o=r*this.size+e;this.data[o]=n,t&&(this.reservedBit[o]=!0)};de.prototype.get=function(r,e){return this.data[r*this.size+e]};de.prototype.xor=function(r,e,n){this.data[r*this.size+e]^=n};de.prototype.isReserved=function(r,e){return this.reservedBit[r*this.size+e]};var Rt=de,dt={};(function(r){const e=D.getSymbolSize;r.getRowColCoords=function(t){if(t===1)return[];const o=Math.floor(t/7)+2,i=e(t),l=i===145?26:Math.ceil((i-13)/(2*o-2))*2,s=[i-7];for(let a=1;a<o-1;a++)s[a]=s[a-1]-l;return s.push(6),s.reverse()},r.getPositions=function(t){const o=[],i=r.getRowColCoords(t),l=i.length;for(let s=0;s<l;s++)for(let a=0;a<l;a++)s===0&&a===0||s===0&&a===l-1||s===l-1&&a===0||o.push([i[s],i[a]]);return o}})(dt);var ht={};const Lt=D.getSymbolSize,Je=7;ht.getPositions=function(e){const n=Lt(e);return[[0,0],[n-Je,0],[0,n-Je]]};var mt={};(function(r){r.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};r.isValid=function(o){return o!=null&&o!==""&&!isNaN(o)&&o>=0&&o<=7},r.from=function(o){return r.isValid(o)?parseInt(o,10):void 0},r.getPenaltyN1=function(o){const i=o.size;let l=0,s=0,a=0,c=null,u=null;for(let d=0;d<i;d++){s=a=0,c=u=null;for(let m=0;m<i;m++){let g=o.get(d,m);g===c?s++:(s>=5&&(l+=e.N1+(s-5)),c=g,s=1),g=o.get(m,d),g===u?a++:(a>=5&&(l+=e.N1+(a-5)),u=g,a=1)}s>=5&&(l+=e.N1+(s-5)),a>=5&&(l+=e.N1+(a-5))}return l},r.getPenaltyN2=function(o){const i=o.size;let l=0;for(let s=0;s<i-1;s++)for(let a=0;a<i-1;a++){const c=o.get(s,a)+o.get(s,a+1)+o.get(s+1,a)+o.get(s+1,a+1);(c===4||c===0)&&l++}return l*e.N2},r.getPenaltyN3=function(o){const i=o.size;let l=0,s=0,a=0;for(let c=0;c<i;c++){s=a=0;for(let u=0;u<i;u++)s=s<<1&2047|o.get(c,u),u>=10&&(s===1488||s===93)&&l++,a=a<<1&2047|o.get(u,c),u>=10&&(a===1488||a===93)&&l++}return l*e.N3},r.getPenaltyN4=function(o){let i=0;const l=o.data.length;for(let a=0;a<l;a++)i+=o.data[a];return Math.abs(Math.ceil(i*100/l/5)-10)*e.N4};function n(t,o,i){switch(t){case r.Patterns.PATTERN000:return(o+i)%2===0;case r.Patterns.PATTERN001:return o%2===0;case r.Patterns.PATTERN010:return i%3===0;case r.Patterns.PATTERN011:return(o+i)%3===0;case r.Patterns.PATTERN100:return(Math.floor(o/2)+Math.floor(i/3))%2===0;case r.Patterns.PATTERN101:return o*i%2+o*i%3===0;case r.Patterns.PATTERN110:return(o*i%2+o*i%3)%2===0;case r.Patterns.PATTERN111:return(o*i%3+(o+i)%2)%2===0;default:throw new Error("bad maskPattern:"+t)}}r.applyMask=function(o,i){const l=i.size;for(let s=0;s<l;s++)for(let a=0;a<l;a++)i.isReserved(a,s)||i.xor(a,s,n(o,a,s))},r.getBestMask=function(o,i){const l=Object.keys(r.Patterns).length;let s=0,a=1/0;for(let c=0;c<l;c++){i(c),r.applyMask(c,o);const u=r.getPenaltyN1(o)+r.getPenaltyN2(o)+r.getPenaltyN3(o)+r.getPenaltyN4(o);r.applyMask(c,o),u<a&&(a=u,s=c)}return s}})(mt);var ve={};const X=we,me=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],pe=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];ve.getBlocksCount=function(e,n){switch(n){case X.L:return me[(e-1)*4+0];case X.M:return me[(e-1)*4+1];case X.Q:return me[(e-1)*4+2];case X.H:return me[(e-1)*4+3];default:return}};ve.getTotalCodewordsCount=function(e,n){switch(n){case X.L:return pe[(e-1)*4+0];case X.M:return pe[(e-1)*4+1];case X.Q:return pe[(e-1)*4+2];case X.H:return pe[(e-1)*4+3];default:return}};var pt={},be={};const ce=new Uint8Array(512),_e=new Uint8Array(256);(function(){let e=1;for(let n=0;n<255;n++)ce[n]=e,_e[e]=n,e<<=1,e&256&&(e^=285);for(let n=255;n<512;n++)ce[n]=ce[n-255]})();be.log=function(e){if(e<1)throw new Error("log("+e+")");return _e[e]};be.exp=function(e){return ce[e]};be.mul=function(e,n){return e===0||n===0?0:ce[_e[e]+_e[n]]};(function(r){const e=be;r.mul=function(t,o){const i=new Uint8Array(t.length+o.length-1);for(let l=0;l<t.length;l++)for(let s=0;s<o.length;s++)i[l+s]^=e.mul(t[l],o[s]);return i},r.mod=function(t,o){let i=new Uint8Array(t);for(;i.length-o.length>=0;){const l=i[0];for(let a=0;a<o.length;a++)i[a]^=e.mul(o[a],l);let s=0;for(;s<i.length&&i[s]===0;)s++;i=i.slice(s)}return i},r.generateECPolynomial=function(t){let o=new Uint8Array([1]);for(let i=0;i<t;i++)o=r.mul(o,new Uint8Array([1,e.exp(i)]));return o}})(pt);const _t=pt;function Ue(r){this.genPoly=void 0,this.degree=r,this.degree&&this.initialize(this.degree)}Ue.prototype.initialize=function(e){this.degree=e,this.genPoly=_t.generateECPolynomial(this.degree)};Ue.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(e.length+this.degree);n.set(e);const t=_t.mod(n,this.genPoly),o=this.degree-t.length;if(o>0){const i=new Uint8Array(this.degree);return i.set(t,o),i}return t};var $t=Ue,yt={},ne={},De={};De.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var O={};const wt="[0-9]+",Ut="[A-Z $%*+\\-./:]+";let ue="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";ue=ue.replace(/u/g,"\\u");const Dt="(?:(?![A-Z0-9 $%*+\\-./:]|"+ue+`)(?:.|[\r
]))+`;O.KANJI=new RegExp(ue,"g");O.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");O.BYTE=new RegExp(Dt,"g");O.NUMERIC=new RegExp(wt,"g");O.ALPHANUMERIC=new RegExp(Ut,"g");const Ft=new RegExp("^"+ue+"$"),Vt=new RegExp("^"+wt+"$"),qt=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");O.testKanji=function(e){return Ft.test(e)};O.testNumeric=function(e){return Vt.test(e)};O.testAlphanumeric=function(e){return qt.test(e)};(function(r){const e=De,n=O;r.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},r.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},r.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},r.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},r.MIXED={bit:-1},r.getCharCountIndicator=function(i,l){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!e.isValid(l))throw new Error("Invalid version: "+l);return l>=1&&l<10?i.ccBits[0]:l<27?i.ccBits[1]:i.ccBits[2]},r.getBestModeForData=function(i){return n.testNumeric(i)?r.NUMERIC:n.testAlphanumeric(i)?r.ALPHANUMERIC:n.testKanji(i)?r.KANJI:r.BYTE},r.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},r.isValid=function(i){return i&&i.bit&&i.ccBits};function t(o){if(typeof o!="string")throw new Error("Param is not a string");switch(o.toLowerCase()){case"numeric":return r.NUMERIC;case"alphanumeric":return r.ALPHANUMERIC;case"kanji":return r.KANJI;case"byte":return r.BYTE;default:throw new Error("Unknown mode: "+o)}}r.from=function(i,l){if(r.isValid(i))return i;try{return t(i)}catch{return l}}})(ne);(function(r){const e=D,n=ve,t=we,o=ne,i=De,l=7973,s=e.getBCHDigit(l);function a(m,g,w){for(let C=1;C<=40;C++)if(g<=r.getCapacity(C,w,m))return C}function c(m,g){return o.getCharCountIndicator(m,g)+4}function u(m,g){let w=0;return m.forEach(function(C){const E=c(C.mode,g);w+=E+C.getBitsLength()}),w}function d(m,g){for(let w=1;w<=40;w++)if(u(m,w)<=r.getCapacity(w,g,o.MIXED))return w}r.from=function(g,w){return i.isValid(g)?parseInt(g,10):w},r.getCapacity=function(g,w,C){if(!i.isValid(g))throw new Error("Invalid QR Code version");typeof C>"u"&&(C=o.BYTE);const E=e.getSymbolTotalCodewords(g),_=n.getTotalCodewordsCount(g,w),p=(E-_)*8;if(C===o.MIXED)return p;const y=p-c(C,g);switch(C){case o.NUMERIC:return Math.floor(y/10*3);case o.ALPHANUMERIC:return Math.floor(y/11*2);case o.KANJI:return Math.floor(y/13);case o.BYTE:default:return Math.floor(y/8)}},r.getBestVersionForData=function(g,w){let C;const E=t.from(w,t.M);if(Array.isArray(g)){if(g.length>1)return d(g,E);if(g.length===0)return 1;C=g[0]}else C=g;return a(C.mode,C.getLength(),E)},r.getEncodedBits=function(g){if(!i.isValid(g)||g<7)throw new Error("Invalid QR Code version");let w=g<<12;for(;e.getBCHDigit(w)-s>=0;)w^=l<<e.getBCHDigit(w)-s;return g<<12|w}})(yt);var vt={};const Me=D,bt=1335,zt=21522,Oe=Me.getBCHDigit(bt);vt.getEncodedBits=function(e,n){const t=e.bit<<3|n;let o=t<<10;for(;Me.getBCHDigit(o)-Oe>=0;)o^=bt<<Me.getBCHDigit(o)-Oe;return(t<<10|o)^zt};var Ct={};const Ht=ne;function oe(r){this.mode=Ht.NUMERIC,this.data=r.toString()}oe.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};oe.prototype.getLength=function(){return this.data.length};oe.prototype.getBitsLength=function(){return oe.getBitsLength(this.data.length)};oe.prototype.write=function(e){let n,t,o;for(n=0;n+3<=this.data.length;n+=3)t=this.data.substr(n,3),o=parseInt(t,10),e.put(o,10);const i=this.data.length-n;i>0&&(t=this.data.substr(n),o=parseInt(t,10),e.put(o,i*3+1))};var jt=oe;const Kt=ne,Ae=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function ie(r){this.mode=Kt.ALPHANUMERIC,this.data=r}ie.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};ie.prototype.getLength=function(){return this.data.length};ie.prototype.getBitsLength=function(){return ie.getBitsLength(this.data.length)};ie.prototype.write=function(e){let n;for(n=0;n+2<=this.data.length;n+=2){let t=Ae.indexOf(this.data[n])*45;t+=Ae.indexOf(this.data[n+1]),e.put(t,11)}this.data.length%2&&e.put(Ae.indexOf(this.data[n]),6)};var Jt=ie;const Ot=ne;function le(r){this.mode=Ot.BYTE,typeof r=="string"?this.data=new TextEncoder().encode(r):this.data=new Uint8Array(r)}le.getBitsLength=function(e){return e*8};le.prototype.getLength=function(){return this.data.length};le.prototype.getBitsLength=function(){return le.getBitsLength(this.data.length)};le.prototype.write=function(r){for(let e=0,n=this.data.length;e<n;e++)r.put(this.data[e],8)};var Yt=le;const Gt=ne,Qt=D;function se(r){this.mode=Gt.KANJI,this.data=r}se.getBitsLength=function(e){return e*13};se.prototype.getLength=function(){return this.data.length};se.prototype.getBitsLength=function(){return se.getBitsLength(this.data.length)};se.prototype.write=function(r){let e;for(e=0;e<this.data.length;e++){let n=Qt.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),r.put(n,13)}};var Wt=se,Et={exports:{}};(function(r){var e={single_source_shortest_paths:function(n,t,o){var i={},l={};l[t]=0;var s=e.PriorityQueue.make();s.push(t,0);for(var a,c,u,d,m,g,w,C,E;!s.empty();){a=s.pop(),c=a.value,d=a.cost,m=n[c]||{};for(u in m)m.hasOwnProperty(u)&&(g=m[u],w=d+g,C=l[u],E=typeof l[u]>"u",(E||C>w)&&(l[u]=w,s.push(u,w),i[u]=c))}if(typeof o<"u"&&typeof l[o]>"u"){var _=["Could not find a path from ",t," to ",o,"."].join("");throw new Error(_)}return i},extract_shortest_path_from_predecessor_list:function(n,t){for(var o=[],i=t;i;)o.push(i),n[i],i=n[i];return o.reverse(),o},find_path:function(n,t,o){var i=e.single_source_shortest_paths(n,t,o);return e.extract_shortest_path_from_predecessor_list(i,o)},PriorityQueue:{make:function(n){var t=e.PriorityQueue,o={},i;n=n||{};for(i in t)t.hasOwnProperty(i)&&(o[i]=t[i]);return o.queue=[],o.sorter=n.sorter||t.default_sorter,o},default_sorter:function(n,t){return n.cost-t.cost},push:function(n,t){var o={value:n,cost:t};this.queue.push(o),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};r.exports=e})(Et);var Zt=Et.exports;(function(r){const e=ne,n=jt,t=Jt,o=Yt,i=Wt,l=O,s=D,a=Zt;function c(_){return unescape(encodeURIComponent(_)).length}function u(_,p,y){const h=[];let B;for(;(B=_.exec(y))!==null;)h.push({data:B[0],index:B.index,mode:p,length:B[0].length});return h}function d(_){const p=u(l.NUMERIC,e.NUMERIC,_),y=u(l.ALPHANUMERIC,e.ALPHANUMERIC,_);let h,B;return s.isKanjiModeEnabled()?(h=u(l.BYTE,e.BYTE,_),B=u(l.KANJI,e.KANJI,_)):(h=u(l.BYTE_KANJI,e.BYTE,_),B=[]),p.concat(y,h,B).sort(function(T,M){return T.index-M.index}).map(function(T){return{data:T.data,mode:T.mode,length:T.length}})}function m(_,p){switch(p){case e.NUMERIC:return n.getBitsLength(_);case e.ALPHANUMERIC:return t.getBitsLength(_);case e.KANJI:return i.getBitsLength(_);case e.BYTE:return o.getBitsLength(_)}}function g(_){return _.reduce(function(p,y){const h=p.length-1>=0?p[p.length-1]:null;return h&&h.mode===y.mode?(p[p.length-1].data+=y.data,p):(p.push(y),p)},[])}function w(_){const p=[];for(let y=0;y<_.length;y++){const h=_[y];switch(h.mode){case e.NUMERIC:p.push([h,{data:h.data,mode:e.ALPHANUMERIC,length:h.length},{data:h.data,mode:e.BYTE,length:h.length}]);break;case e.ALPHANUMERIC:p.push([h,{data:h.data,mode:e.BYTE,length:h.length}]);break;case e.KANJI:p.push([h,{data:h.data,mode:e.BYTE,length:c(h.data)}]);break;case e.BYTE:p.push([{data:h.data,mode:e.BYTE,length:c(h.data)}])}}return p}function C(_,p){const y={},h={start:{}};let B=["start"];for(let A=0;A<_.length;A++){const T=_[A],M=[];for(let $=0;$<T.length;$++){const S=T[$],U=""+A+$;M.push(U),y[U]={node:S,lastCount:0},h[U]={};for(let re=0;re<B.length;re++){const F=B[re];y[F]&&y[F].node.mode===S.mode?(h[F][U]=m(y[F].lastCount+S.length,S.mode)-m(y[F].lastCount,S.mode),y[F].lastCount+=S.length):(y[F]&&(y[F].lastCount=S.length),h[F][U]=m(S.length,S.mode)+4+e.getCharCountIndicator(S.mode,p))}}B=M}for(let A=0;A<B.length;A++)h[B[A]].end=0;return{map:h,table:y}}function E(_,p){let y;const h=e.getBestModeForData(_);if(y=e.from(p,h),y!==e.BYTE&&y.bit<h.bit)throw new Error('"'+_+'" cannot be encoded with mode '+e.toString(y)+`.
 Suggested mode is: `+e.toString(h));switch(y===e.KANJI&&!s.isKanjiModeEnabled()&&(y=e.BYTE),y){case e.NUMERIC:return new n(_);case e.ALPHANUMERIC:return new t(_);case e.KANJI:return new i(_);case e.BYTE:return new o(_)}}r.fromArray=function(p){return p.reduce(function(y,h){return typeof h=="string"?y.push(E(h,null)):h.data&&y.push(E(h.data,h.mode)),y},[])},r.fromString=function(p,y){const h=d(p,s.isKanjiModeEnabled()),B=w(h),A=C(B,y),T=a.find_path(A.map,"start","end"),M=[];for(let $=1;$<T.length-1;$++)M.push(A.table[T[$]].node);return r.fromArray(g(M))},r.rawSplit=function(p){return r.fromArray(d(p,s.isKanjiModeEnabled()))}})(Ct);const Ce=D,Te=we,Xt=Pt,xt=Rt,en=dt,tn=ht,Pe=mt,Re=ve,nn=$t,ye=yt,rn=vt,on=ne,Se=Ct;function ln(r,e){const n=r.size,t=tn.getPositions(e);for(let o=0;o<t.length;o++){const i=t[o][0],l=t[o][1];for(let s=-1;s<=7;s++)if(!(i+s<=-1||n<=i+s))for(let a=-1;a<=7;a++)l+a<=-1||n<=l+a||(s>=0&&s<=6&&(a===0||a===6)||a>=0&&a<=6&&(s===0||s===6)||s>=2&&s<=4&&a>=2&&a<=4?r.set(i+s,l+a,!0,!0):r.set(i+s,l+a,!1,!0))}}function sn(r){const e=r.size;for(let n=8;n<e-8;n++){const t=n%2===0;r.set(n,6,t,!0),r.set(6,n,t,!0)}}function an(r,e){const n=en.getPositions(e);for(let t=0;t<n.length;t++){const o=n[t][0],i=n[t][1];for(let l=-2;l<=2;l++)for(let s=-2;s<=2;s++)l===-2||l===2||s===-2||s===2||l===0&&s===0?r.set(o+l,i+s,!0,!0):r.set(o+l,i+s,!1,!0)}}function cn(r,e){const n=r.size,t=ye.getEncodedBits(e);let o,i,l;for(let s=0;s<18;s++)o=Math.floor(s/3),i=s%3+n-8-3,l=(t>>s&1)===1,r.set(o,i,l,!0),r.set(i,o,l,!0)}function Ie(r,e,n){const t=r.size,o=rn.getEncodedBits(e,n);let i,l;for(i=0;i<15;i++)l=(o>>i&1)===1,i<6?r.set(i,8,l,!0):i<8?r.set(i+1,8,l,!0):r.set(t-15+i,8,l,!0),i<8?r.set(8,t-i-1,l,!0):i<9?r.set(8,15-i-1+1,l,!0):r.set(8,15-i-1,l,!0);r.set(t-8,8,1,!0)}function un(r,e){const n=r.size;let t=-1,o=n-1,i=7,l=0;for(let s=n-1;s>0;s-=2)for(s===6&&s--;;){for(let a=0;a<2;a++)if(!r.isReserved(o,s-a)){let c=!1;l<e.length&&(c=(e[l]>>>i&1)===1),r.set(o,s-a,c),i--,i===-1&&(l++,i=7)}if(o+=t,o<0||n<=o){o-=t,t=-t;break}}}function fn(r,e,n){const t=new Xt;n.forEach(function(a){t.put(a.mode.bit,4),t.put(a.getLength(),on.getCharCountIndicator(a.mode,r)),a.write(t)});const o=Ce.getSymbolTotalCodewords(r),i=Re.getTotalCodewordsCount(r,e),l=(o-i)*8;for(t.getLengthInBits()+4<=l&&t.put(0,4);t.getLengthInBits()%8!==0;)t.putBit(0);const s=(l-t.getLengthInBits())/8;for(let a=0;a<s;a++)t.put(a%2?17:236,8);return gn(t,r,e)}function gn(r,e,n){const t=Ce.getSymbolTotalCodewords(e),o=Re.getTotalCodewordsCount(e,n),i=t-o,l=Re.getBlocksCount(e,n),s=t%l,a=l-s,c=Math.floor(t/l),u=Math.floor(i/l),d=u+1,m=c-u,g=new nn(m);let w=0;const C=new Array(l),E=new Array(l);let _=0;const p=new Uint8Array(r.buffer);for(let T=0;T<l;T++){const M=T<a?u:d;C[T]=p.slice(w,w+M),E[T]=g.encode(C[T]),w+=M,_=Math.max(_,M)}const y=new Uint8Array(t);let h=0,B,A;for(B=0;B<_;B++)for(A=0;A<l;A++)B<C[A].length&&(y[h++]=C[A][B]);for(B=0;B<m;B++)for(A=0;A<l;A++)y[h++]=E[A][B];return y}function dn(r,e,n,t){let o;if(Array.isArray(r))o=Se.fromArray(r);else if(typeof r=="string"){let c=e;if(!c){const u=Se.rawSplit(r);c=ye.getBestVersionForData(u,n)}o=Se.fromString(r,c||40)}else throw new Error("Invalid data");const i=ye.getBestVersionForData(o,n);if(!i)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=i;else if(e<i)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+i+`.
`);const l=fn(e,n,o),s=Ce.getSymbolSize(e),a=new xt(s);return ln(a,e),sn(a),an(a,e),Ie(a,n,0),e>=7&&cn(a,e),un(a,l),isNaN(t)&&(t=Pe.getBestMask(a,Ie.bind(null,a,n))),Pe.applyMask(t,a),Ie(a,n,t),{modules:a,version:e,errorCorrectionLevel:n,maskPattern:t,segments:o}}ft.create=function(e,n){if(typeof e>"u"||e==="")throw new Error("No input text");let t=Te.M,o,i;return typeof n<"u"&&(t=Te.from(n.errorCorrectionLevel,Te.M),o=ye.from(n.version),i=Pe.from(n.maskPattern),n.toSJISFunc&&Ce.setToSJISFunction(n.toSJISFunc)),dn(e,o,t,i)};var Bt={},Fe={};(function(r){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let t=n.slice().replace("#","").split("");if(t.length<3||t.length===5||t.length>8)throw new Error("Invalid hex color: "+n);(t.length===3||t.length===4)&&(t=Array.prototype.concat.apply([],t.map(function(i){return[i,i]}))),t.length===6&&t.push("F","F");const o=parseInt(t.join(""),16);return{r:o>>24&255,g:o>>16&255,b:o>>8&255,a:o&255,hex:"#"+t.slice(0,6).join("")}}r.getOptions=function(t){t||(t={}),t.color||(t.color={});const o=typeof t.margin>"u"||t.margin===null||t.margin<0?4:t.margin,i=t.width&&t.width>=21?t.width:void 0,l=t.scale||4;return{width:i,scale:i?4:l,margin:o,color:{dark:e(t.color.dark||"#000000ff"),light:e(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}},r.getScale=function(t,o){return o.width&&o.width>=t+o.margin*2?o.width/(t+o.margin*2):o.scale},r.getImageWidth=function(t,o){const i=r.getScale(t,o);return Math.floor((t+o.margin*2)*i)},r.qrToImageData=function(t,o,i){const l=o.modules.size,s=o.modules.data,a=r.getScale(l,i),c=Math.floor((l+i.margin*2)*a),u=i.margin*a,d=[i.color.light,i.color.dark];for(let m=0;m<c;m++)for(let g=0;g<c;g++){let w=(m*c+g)*4,C=i.color.light;if(m>=u&&g>=u&&m<c-u&&g<c-u){const E=Math.floor((m-u)/a),_=Math.floor((g-u)/a);C=d[s[E*l+_]?1:0]}t[w++]=C.r,t[w++]=C.g,t[w++]=C.b,t[w]=C.a}}})(Fe);(function(r){const e=Fe;function n(o,i,l){o.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=l,i.width=l,i.style.height=l+"px",i.style.width=l+"px"}function t(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}r.render=function(i,l,s){let a=s,c=l;typeof a>"u"&&(!l||!l.getContext)&&(a=l,l=void 0),l||(c=t()),a=e.getOptions(a);const u=e.getImageWidth(i.modules.size,a),d=c.getContext("2d"),m=d.createImageData(u,u);return e.qrToImageData(m.data,i,a),n(d,c,u),d.putImageData(m,0,0),c},r.renderToDataURL=function(i,l,s){let a=s;typeof a>"u"&&(!l||!l.getContext)&&(a=l,l=void 0),a||(a={});const c=r.render(i,l,a),u=a.type||"image/png",d=a.rendererOpts||{};return c.toDataURL(u,d.quality)}})(Bt);var Nt={};const hn=Fe;function Ye(r,e){const n=r.a/255,t=e+'="'+r.hex+'"';return n<1?t+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':t}function ke(r,e,n){let t=r+e;return typeof n<"u"&&(t+=" "+n),t}function mn(r,e,n){let t="",o=0,i=!1,l=0;for(let s=0;s<r.length;s++){const a=Math.floor(s%e),c=Math.floor(s/e);!a&&!i&&(i=!0),r[s]?(l++,s>0&&a>0&&r[s-1]||(t+=i?ke("M",a+n,.5+c+n):ke("m",o,0),o=0,i=!1),a+1<e&&r[s+1]||(t+=ke("h",l),l=0)):o++}return t}Nt.render=function(e,n,t){const o=hn.getOptions(n),i=e.modules.size,l=e.modules.data,s=i+o.margin*2,a=o.color.light.a?"<path "+Ye(o.color.light,"fill")+' d="M0 0h'+s+"v"+s+'H0z"/>':"",c="<path "+Ye(o.color.dark,"stroke")+' d="'+mn(l,i,o.margin)+'"/>',u='viewBox="0 0 '+s+" "+s+'"',m='<svg xmlns="http://www.w3.org/2000/svg" '+(o.width?'width="'+o.width+'" height="'+o.width+'" ':"")+u+' shape-rendering="crispEdges">'+a+c+`</svg>
`;return typeof t=="function"&&t(null,m),m};const pn=kt,Le=ft,At=Bt,_n=Nt;function Ve(r,e,n,t,o){const i=[].slice.call(arguments,1),l=i.length,s=typeof i[l-1]=="function";if(!s&&!pn())throw new Error("Callback required as last argument");if(s){if(l<2)throw new Error("Too few arguments provided");l===2?(o=n,n=e,e=t=void 0):l===3&&(e.getContext&&typeof o>"u"?(o=t,t=void 0):(o=t,t=n,n=e,e=void 0))}else{if(l<1)throw new Error("Too few arguments provided");return l===1?(n=e,e=t=void 0):l===2&&!e.getContext&&(t=n,n=e,e=void 0),new Promise(function(a,c){try{const u=Le.create(n,t);a(r(u,e,t))}catch(u){c(u)}})}try{const a=Le.create(n,t);o(null,r(a,e,t))}catch(a){o(a)}}ge.create=Le.create;ge.toCanvas=Ve.bind(null,At.render);ge.toDataURL=Ve.bind(null,At.renderToDataURL);ge.toString=Ve.bind(null,function(r,e,n){return _n.render(r,n)});function Ge(r,e,n){const t=r.slice();return t[1]=e[n],t[3]=n,t}function Qe(r){var m;let e,n,t=((m=r[1].avatar)==null?void 0:m.emoji)+"",o,i,l,s=r[1].name+"",a,c,u,d;return{c(){var g;e=v("li"),n=v("span"),o=N(t),i=I(),l=v("span"),a=N(s),c=I(),u=v("span"),u.textContent="Ready",d=I(),b(n,"class","player-avatar svelte-1i32wce"),Ne(n,"background",(g=r[1].avatar)==null?void 0:g.color),b(l,"class","player-name svelte-1i32wce"),b(u,"class","player-status svelte-1i32wce"),b(e,"class","player-item svelte-1i32wce"),Ne(e,"animation-delay",r[3]*.1+"s")},m(g,w){P(g,e,w),f(e,n),f(n,o),f(e,i),f(e,l),f(l,a),f(e,c),f(e,u),f(e,d)},p(g,w){var C,E;w&1&&t!==(t=((C=g[1].avatar)==null?void 0:C.emoji)+"")&&k(o,t),w&1&&Ne(n,"background",(E=g[1].avatar)==null?void 0:E.color),w&1&&s!==(s=g[1].name+"")&&k(a,s)},d(g){g&&R(e)}}}function yn(r){let e,n=r[0],t=[];for(let o=0;o<n.length;o+=1)t[o]=Qe(Ge(r,n,o));return{c(){e=v("ul");for(let o=0;o<t.length;o+=1)t[o].c();b(e,"class","player-list svelte-1i32wce")},m(o,i){P(o,e,i);for(let l=0;l<t.length;l+=1)t[l]&&t[l].m(e,null)},p(o,[i]){if(i&1){n=o[0];let l;for(l=0;l<n.length;l+=1){const s=Ge(o,n,l);t[l]?t[l].p(s,i):(t[l]=Qe(s),t[l].c(),t[l].m(e,null))}for(;l<t.length;l+=1)t[l].d(1);t.length=n.length}},i:L,o:L,d(o){o&&R(e),fe(t,o)}}}function wn(r,e,n){let{players:t=[]}=e;return r.$$set=o=>{"players"in o&&n(0,t=o.players)},[t]}class vn extends Y{constructor(e){super(),G(this,e,wn,yn,Q,{players:0})}}function bn(r){let e;return{c(){e=v("div"),e.innerHTML=`<div class="loading-spinner svelte-132s4gl"></div> 
            <p>Generating QR code...</p>`,b(e,"class","qr-placeholder svelte-132s4gl")},m(n,t){P(n,e,t)},p:L,d(n){n&&R(e)}}}function Cn(r){let e,n,t;return{c(){e=v("div"),n=v("img"),Ke(n.src,t=r[2])||b(n,"src",t),b(n,"alt","QR Code to join game"),b(n,"class","svelte-132s4gl"),b(e,"class","qr-code svelte-132s4gl")},m(o,i){P(o,e,i),f(e,n)},p(o,i){i&4&&!Ke(n.src,t=o[2])&&b(n,"src",t)},d(o){o&&R(e)}}}function En(r){let e;return{c(){e=v("div"),e.innerHTML=`<p class="svelte-132s4gl">Waiting for players...</p> 
            <div class="waiting-dots svelte-132s4gl"><span class="svelte-132s4gl"></span> 
              <span class="svelte-132s4gl"></span> 
              <span class="svelte-132s4gl"></span></div>`,b(e,"class","no-players svelte-132s4gl")},m(n,t){P(n,e,t)},p:L,i:L,o:L,d(n){n&&R(e)}}}function Bn(r){let e,n;return e=new vn({props:{players:r[0]}}),{c(){x(e.$$.fragment)},m(t,o){ee(e,t,o),n=!0},p(t,o){const i={};o&1&&(i.players=t[0]),e.$set(i)},i(t){n||(z(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){te(e,t)}}}function Nn(r){let e,n,t,o,i,l,s,a,c,u,d,m,g,w,C,E,_,p,y=r[0].length<2?`Need ${2-r[0].length} more player${2-r[0].length===1?"":"s"}`:"ðŸš€ Start Game",h,B,A,T,M,$,S=r[0].length+"",U,re,F,ae,V,H,W,Ee,qe;function ze(j,K){return j[2]?Cn:bn}let he=ze(r),J=he(r);const He=[Bn,En],Z=[];function je(j,K){return j[0].length>0?0:1}return V=je(r),H=Z[V]=He[V](r),{c(){e=v("section"),n=v("div"),t=v("div"),o=v("h2"),o.textContent="ðŸŽ® Lie-Ability Game",i=I(),l=v("div"),s=v("h3"),s.textContent="Join the Game!",a=I(),c=v("p"),c.textContent="Scan the QR code with your phone",u=I(),J.c(),d=I(),m=v("div"),g=v("p"),g.textContent="Or visit:",w=I(),C=v("p"),E=N(r[3]),_=I(),p=v("button"),h=N(y),A=I(),T=v("div"),M=v("h3"),$=N("Players ("),U=N(S),re=N(")"),F=I(),ae=v("div"),H.c(),b(o,"class","game-title svelte-132s4gl"),b(s,"class","join-title svelte-132s4gl"),b(c,"class","join-subtitle svelte-132s4gl"),b(g,"class","url-label svelte-132s4gl"),b(C,"class","url-text svelte-132s4gl"),b(m,"class","game-url svelte-132s4gl"),b(l,"class","qr-container svelte-132s4gl"),b(p,"class","start-button svelte-132s4gl"),p.disabled=B=r[0].length<2,b(t,"class","qr-section svelte-132s4gl"),b(M,"class","players-title svelte-132s4gl"),b(ae,"class","players-container svelte-132s4gl"),b(T,"class","players-section svelte-132s4gl"),b(n,"class","lobby-content svelte-132s4gl"),b(e,"class","lobby svelte-132s4gl")},m(j,K){P(j,e,K),f(e,n),f(n,t),f(t,o),f(t,i),f(t,l),f(l,s),f(l,a),f(l,c),f(l,u),J.m(l,null),f(l,d),f(l,m),f(m,g),f(m,w),f(m,C),f(C,E),f(t,_),f(t,p),f(p,h),f(n,A),f(n,T),f(T,M),f(M,$),f(M,U),f(M,re),f(T,F),f(T,ae),Z[V].m(ae,null),W=!0,Ee||(qe=Tt(p,"click",function(){St(r[1])&&r[1].apply(this,arguments)}),Ee=!0)},p(j,[K]){r=j,he===(he=ze(r))&&J?J.p(r,K):(J.d(1),J=he(r),J&&(J.c(),J.m(l,d))),(!W||K&8)&&k(E,r[3]),(!W||K&1)&&y!==(y=r[0].length<2?`Need ${2-r[0].length} more player${2-r[0].length===1?"":"s"}`:"ðŸš€ Start Game")&&k(h,y),(!W||K&1&&B!==(B=r[0].length<2))&&(p.disabled=B),(!W||K&1)&&S!==(S=r[0].length+"")&&k(U,S);let Be=V;V=je(r),V===Be?Z[V].p(r,K):(st(),q(Z[Be],1,1,()=>{Z[Be]=null}),at(),H=Z[V],H?H.p(r,K):(H=Z[V]=He[V](r),H.c()),z(H,1),H.m(ae,null))},i(j){W||(z(H),W=!0)},o(j){q(H),W=!1},d(j){j&&R(e),J.d(),Z[V].d(),Ee=!1,qe()}}}function An(r,e,n){let{players:t=[]}=e,{onStart:o=()=>{}}=e,i="",l="";return ct(async()=>{try{const a=await(await fetch("/api/server-info")).json();n(3,l=a.publicUrl?`${a.publicUrl}/player`:`${window.location.origin}/player`)}catch{n(3,l=`${window.location.origin}/player`)}try{n(2,i=await ge.toDataURL(l,{width:300,margin:2,color:{dark:"#2d3748",light:"#ffffff"}}))}catch(s){console.error("Failed to generate QR code:",s)}}),r.$$set=s=>{"players"in s&&n(0,t=s.players),"onStart"in s&&n(1,o=s.onStart)},[t,o,i,l]}class Tn extends Y{constructor(e){super(),G(this,e,An,Nn,Q,{players:0,onStart:1})}}function We(r,e,n){const t=r.slice();return t[3]=e[n],t}function Ze(r){let e,n=r[3].category+"",t;return{c(){e=v("li"),t=N(n),b(e,"class","svelte-ivaeo0")},m(o,i){P(o,e,i),f(e,t)},p(o,i){i&1&&n!==(n=o[3].category+"")&&k(t,n)},d(o){o&&R(e)}}}function Sn(r){let e,n,t=r[2]?"You choose the category":`${r[1]} is choosing the category...`,o,i,l,s=r[0],a=[];for(let c=0;c<s.length;c+=1)a[c]=Ze(We(r,s,c));return{c(){e=v("section"),n=v("h3"),o=N(t),i=I(),l=v("ul");for(let c=0;c<a.length;c+=1)a[c].c();b(l,"class","svelte-ivaeo0"),b(e,"class","category")},m(c,u){P(c,e,u),f(e,n),f(n,o),f(e,i),f(e,l);for(let d=0;d<a.length;d+=1)a[d]&&a[d].m(l,null)},p(c,[u]){if(u&6&&t!==(t=c[2]?"You choose the category":`${c[1]} is choosing the category...`)&&k(o,t),u&1){s=c[0];let d;for(d=0;d<s.length;d+=1){const m=We(c,s,d);a[d]?a[d].p(m,u):(a[d]=Ze(m),a[d].c(),a[d].m(l,null))}for(;d<a.length;d+=1)a[d].d(1);a.length=s.length}},i:L,o:L,d(c){c&&R(e),fe(a,c)}}}function In(r,e,n){let{categories:t=[]}=e,{selectorName:o=""}=e,{isSelector:i=!1}=e;return r.$$set=l=>{"categories"in l&&n(0,t=l.categories),"selectorName"in l&&n(1,o=l.selectorName),"isSelector"in l&&n(2,i=l.isSelector)},[t,o,i]}class kn extends Y{constructor(e){super(),G(this,e,In,Sn,Q,{categories:0,selectorName:1,isSelector:2})}}function Xe(r){let e,n,t=r[0].category+"",o,i,l,s=r[0].question+"",a;return{c(){e=v("section"),n=v("div"),o=N(t),i=I(),l=v("h3"),a=N(s),b(n,"class","category svelte-pbs4uu"),b(e,"class","question")},m(c,u){P(c,e,u),f(e,n),f(n,o),f(e,i),f(e,l),f(l,a)},p(c,u){u&1&&t!==(t=c[0].category+"")&&k(o,t),u&1&&s!==(s=c[0].question+"")&&k(a,s)},d(c){c&&R(e)}}}function Mn(r){let e,n=r[0]&&Xe(r);return{c(){n&&n.c(),e=ut()},m(t,o){n&&n.m(t,o),P(t,e,o)},p(t,[o]){t[0]?n?n.p(t,o):(n=Xe(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:L,o:L,d(t){n&&n.d(t),t&&R(e)}}}function Pn(r,e,n){let{question:t=null}=e;return r.$$set=o=>{"question"in o&&n(0,t=o.question)},[t]}class Rn extends Y{constructor(e){super(),G(this,e,Pn,Mn,Q,{question:0})}}function Ln(r){let e;return{c(){e=v("section"),e.innerHTML=`<h2>Players are crafting their lies</h2> 
  <div class="dots svelte-m9yp2n"><span class="svelte-m9yp2n"></span><span class="svelte-m9yp2n"></span><span class="svelte-m9yp2n"></span></div>`,b(e,"class","waiting svelte-m9yp2n")},m(n,t){P(n,e,t)},p:L,i:L,o:L,d(n){n&&R(e)}}}class $n extends Y{constructor(e){super(),G(this,e,null,Ln,Q,{})}}function xe(r,e,n){const t=r.slice();return t[1]=e[n],t[3]=n,t}function et(r){let e,n=r[1].text+"",t,o;return{c(){e=v("li"),t=N(n),b(e,"data-letter",Dn[r[3]]||r[3]+1),b(e,"data-length",o=r[1].text.length>50?"very-long":r[1].text.length>25?"long":void 0),b(e,"class","svelte-ivaeo0")},m(i,l){P(i,e,l),f(e,t)},p(i,l){l&1&&n!==(n=i[1].text+"")&&k(t,n),l&1&&o!==(o=i[1].text.length>50?"very-long":i[1].text.length>25?"long":void 0)&&b(e,"data-length",o)},d(i){i&&R(e)}}}function Un(r){let e,n,t,o,i=r[0],l=[];for(let s=0;s<i.length;s+=1)l[s]=et(xe(r,i,s));return{c(){e=v("section"),n=v("h3"),n.textContent="Which answer is the truth?",t=I(),o=v("ul");for(let s=0;s<l.length;s+=1)l[s].c();b(o,"class","svelte-ivaeo0"),b(e,"class","options")},m(s,a){P(s,e,a),f(e,n),f(e,t),f(e,o);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(o,null)},p(s,[a]){if(a&1){i=s[0];let c;for(c=0;c<i.length;c+=1){const u=xe(s,i,c);l[c]?l[c].p(u,a):(l[c]=et(u),l[c].c(),l[c].m(o,null))}for(;c<l.length;c+=1)l[c].d(1);l.length=i.length}},i:L,o:L,d(s){s&&R(e),fe(l,s)}}}const Dn="ABCDEFGH";function Fn(r,e,n){let{options:t=[]}=e;return r.$$set=o=>{"options"in o&&n(0,t=o.options)},[t]}class Vn extends Y{constructor(e){super(),G(this,e,Fn,Un,Q,{options:0})}}function tt(r,e,n){const t=r.slice();return t[1]=e[n],t}function nt(r){let e,n,t=r[0].question+"",o,i,l,s,a,c,u=r[0].truth.answer+"",d,m,g=r[0].truth.voteCount+"",w,C,E=r[0].lies,_=[];for(let p=0;p<E.length;p+=1)_[p]=rt(tt(r,E,p));return{c(){e=v("section"),n=v("h3"),o=N(t),i=I(),l=v("ul");for(let p=0;p<_.length;p+=1)_[p].c();s=I(),a=v("li"),c=N("Truth: "),d=N(u),m=N(" - "),w=N(g),C=N(" correct"),b(a,"class","truth svelte-4698l4"),b(l,"class","svelte-4698l4"),b(e,"class","reveal")},m(p,y){P(p,e,y),f(e,n),f(n,o),f(e,i),f(e,l);for(let h=0;h<_.length;h+=1)_[h]&&_[h].m(l,null);f(l,s),f(l,a),f(a,c),f(a,d),f(a,m),f(a,w),f(a,C)},p(p,y){if(y&1&&t!==(t=p[0].question+"")&&k(o,t),y&1){E=p[0].lies;let h;for(h=0;h<E.length;h+=1){const B=tt(p,E,h);_[h]?_[h].p(B,y):(_[h]=rt(B),_[h].c(),_[h].m(l,s))}for(;h<_.length;h+=1)_[h].d(1);_.length=E.length}y&1&&u!==(u=p[0].truth.answer+"")&&k(d,u),y&1&&g!==(g=p[0].truth.voteCount+"")&&k(w,g)},d(p){p&&R(e),fe(_,p)}}}function rt(r){let e,n=r[1].lie+"",t,o,i=r[1].voteCount+"",l,s,a=r[1].voteCount===1?"vote":"votes",c;return{c(){e=v("li"),t=N(n),o=N(" - "),l=N(i),s=I(),c=N(a)},m(u,d){P(u,e,d),f(e,t),f(e,o),f(e,l),f(e,s),f(e,c)},p(u,d){d&1&&n!==(n=u[1].lie+"")&&k(t,n),d&1&&i!==(i=u[1].voteCount+"")&&k(l,i),d&1&&a!==(a=u[1].voteCount===1?"vote":"votes")&&k(c,a)},d(u){u&&R(e)}}}function qn(r){let e,n=r[0]&&nt(r);return{c(){n&&n.c(),e=ut()},m(t,o){n&&n.m(t,o),P(t,e,o)},p(t,[o]){t[0]?n?n.p(t,o):(n=nt(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:L,o:L,d(t){n&&n.d(t),t&&R(e)}}}function zn(r,e,n){let{reveal:t=null}=e;return r.$$set=o=>{"reveal"in o&&n(0,t=o.reveal)},[t]}class Hn extends Y{constructor(e){super(),G(this,e,zn,qn,Q,{reveal:0})}}function ot(r,e,n){const t=r.slice();return t[2]=e[n],t[4]=n,t}function jn(r){let e,n,t=r[2].rank+"",o;return{c(){e=v("span"),n=N("#"),o=N(t)},m(i,l){P(i,e,l),f(e,n),f(e,o)},p(i,l){l&1&&t!==(t=i[2].rank+"")&&k(o,t)},d(i){i&&R(e)}}}function it(r){let e,n,t,o=(r[1][r[4]]||"")+"",i,l,s,a,c=r[2].name+"",u,d,m,g=(r[2].lastLie||"No lie submitted")+"",w,C,E,_=r[2].playersFooled+"",p,y,h,B,A=r[2].points+"",T,M,$=r[4]>=3&&jn(r);return{c(){e=v("div"),n=v("div"),t=v("span"),i=N(o),l=I(),$&&$.c(),s=I(),a=v("div"),u=N(c),d=I(),m=v("div"),w=N(g),C=I(),E=v("div"),p=N(_),y=N(" fooled"),h=I(),B=v("div"),T=N(A),M=I(),b(t,"class","rank-medal svelte-l6yjgn"),b(n,"class","rank-cell svelte-l6yjgn"),b(a,"class","name-cell"),b(m,"class","lie-cell"),b(E,"class","fooled-cell"),b(B,"class","score-cell"),b(e,"class","score-row svelte-l6yjgn")},m(S,U){P(S,e,U),f(e,n),f(n,t),f(t,i),f(n,l),$&&$.m(n,null),f(e,s),f(e,a),f(a,u),f(e,d),f(e,m),f(m,w),f(e,C),f(e,E),f(E,p),f(E,y),f(e,h),f(e,B),f(B,T),f(e,M)},p(S,U){S[4]>=3&&$.p(S,U),U&1&&c!==(c=S[2].name+"")&&k(u,c),U&1&&g!==(g=(S[2].lastLie||"No lie submitted")+"")&&k(w,g),U&1&&_!==(_=S[2].playersFooled+"")&&k(p,_),U&1&&A!==(A=S[2].points+"")&&k(T,A)},d(S){S&&R(e),$&&$.d()}}}function Kn(r){let e,n,t,o,i=r[0],l=[];for(let s=0;s<i.length;s+=1)l[s]=it(ot(r,i,s));return{c(){e=v("section"),n=v("h2"),n.textContent="Scoreboard",t=I(),o=v("div");for(let s=0;s<l.length;s+=1)l[s].c();b(o,"class","scoreboard-list svelte-l6yjgn"),b(e,"class","scoreboard")},m(s,a){P(s,e,a),f(e,n),f(e,t),f(e,o);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(o,null)},p(s,[a]){if(a&3){i=s[0];let c;for(c=0;c<i.length;c+=1){const u=ot(s,i,c);l[c]?l[c].p(u,a):(l[c]=it(u),l[c].c(),l[c].m(o,null))}for(;c<l.length;c+=1)l[c].d(1);l.length=i.length}},i:L,o:L,d(s){s&&R(e),fe(l,s)}}}function Jn(r,e,n){let{players:t=[]}=e;const o=["ðŸ¥‡","ðŸ¥ˆ","ðŸ¥‰"];return r.$$set=i=>{"players"in i&&n(0,t=i.players)},[t,o]}class On extends Y{constructor(e){super(),G(this,e,Jn,Kn,Q,{players:0})}}function Yn(r){var t;let e,n;return e=new On({props:{players:((t=r[4])==null?void 0:t.players)||[]}}),{c(){x(e.$$.fragment)},m(o,i){ee(e,o,i),n=!0},p(o,i){var s;const l={};i&16&&(l.players=((s=o[4])==null?void 0:s.players)||[]),e.$set(l)},i(o){n||(z(e.$$.fragment,o),n=!0)},o(o){q(e.$$.fragment,o),n=!1},d(o){te(e,o)}}}function Gn(r){let e,n;return e=new Hn({props:{reveal:r[3]}}),{c(){x(e.$$.fragment)},m(t,o){ee(e,t,o),n=!0},p(t,o){const i={};o&8&&(i.reveal=t[3]),e.$set(i)},i(t){n||(z(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){te(e,t)}}}function Qn(r){let e,n;return e=new Vn({props:{options:r[5]}}),{c(){x(e.$$.fragment)},m(t,o){ee(e,t,o),n=!0},p(t,o){const i={};o&32&&(i.options=t[5]),e.$set(i)},i(t){n||(z(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){te(e,t)}}}function Wn(r){let e,n;return e=new $n({}),{c(){x(e.$$.fragment)},m(t,o){ee(e,t,o),n=!0},p:L,i(t){n||(z(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){te(e,t)}}}function Zn(r){let e,n;return e=new Rn({props:{question:r[7]}}),{c(){x(e.$$.fragment)},m(t,o){ee(e,t,o),n=!0},p(t,o){const i={};o&128&&(i.question=t[7]),e.$set(i)},i(t){n||(z(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){te(e,t)}}}function Xn(r){var t,o;let e,n;return e=new kn({props:{categories:r[6],selectorName:(t=r[9].find(r[11]))==null?void 0:t.name,isSelector:(o=r[1])==null?void 0:o.isSelector}}),{c(){x(e.$$.fragment)},m(i,l){ee(e,i,l),n=!0},p(i,l){var a,c;const s={};l&64&&(s.categories=i[6]),l&513&&(s.selectorName=(a=i[9].find(i[11]))==null?void 0:a.name),l&2&&(s.isSelector=(c=i[1])==null?void 0:c.isSelector),e.$set(s)},i(i){n||(z(e.$$.fragment,i),n=!0)},o(i){q(e.$$.fragment,i),n=!1},d(i){te(e,i)}}}function xn(r){let e,n;return e=new Tn({props:{players:r[9],onStart:r[10]}}),{c(){x(e.$$.fragment)},m(t,o){ee(e,t,o),n=!0},p(t,o){const i={};o&512&&(i.players=t[9]),e.$set(i)},i(t){n||(z(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){te(e,t)}}}function lt(r){let e,n,t,o;return{c(){e=v("div"),n=N("â± "),t=N(r[2]),o=N("s"),b(e,"class","timer svelte-1g325e7")},m(i,l){P(i,e,l),f(e,n),f(e,t),f(e,o)},p(i,l){l&4&&k(t,i[2])},d(i){i&&R(e)}}}function er(r){let e,n,t,o,i;const l=[xn,Xn,Zn,Wn,Qn,Gn,Yn],s=[];function a(u,d){return u[8]==="lobby"?0:u[8]==="category_selection"?1:u[8]==="question_reading"?2:u[8]==="lie_submission"?3:u[8]==="option_selection"?4:u[8]==="truth_reveal"?5:u[8]==="scoreboard"||u[8]==="game_ended"?6:-1}~(n=a(r))&&(t=s[n]=l[n](r));let c=r[2]&&lt(r);return{c(){e=v("main"),t&&t.c(),o=I(),c&&c.c(),b(e,"class","svelte-1g325e7")},m(u,d){P(u,e,d),~n&&s[n].m(e,null),f(e,o),c&&c.m(e,null),i=!0},p(u,[d]){let m=n;n=a(u),n===m?~n&&s[n].p(u,d):(t&&(st(),q(s[m],1,1,()=>{s[m]=null}),at()),~n?(t=s[n],t?t.p(u,d):(t=s[n]=l[n](u),t.c()),z(t,1),t.m(e,o)):t=null),u[2]?c?c.p(u,d):(c=lt(u),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},i(u){i||(z(t),i=!0)},o(u){q(t),i=!1},d(u){u&&R(e),~n&&s[n].d(),c&&c.d()}}}function tr(r,e,n){let t,o,i,l,s,a,c=null,u=null,d=0,m=null,g=null;const w=()=>a.emit("start_game");ct(()=>{a=It(),a.on("connect",()=>a.emit("request_game_state")),a.on("game_state_update",E=>{n(0,c=E)}),a.on("host_sub_step_info",E=>{n(1,u=E)}),a.on("timer_update",E=>{n(2,d=E.secondsRemaining)}),a.on("truth_reveal_start",E=>{n(3,m=E)}),a.on("scoreboard_update",E=>{n(4,g=E)}),a.on("player_joined",()=>a.emit("request_game_state")),a.on("player_left",()=>a.emit("request_game_state"))});const C=E=>E.id===c.categorySelector;return r.$$.update=()=>{r.$$.dirty&1&&n(9,t=(c==null?void 0:c.players)||[]),r.$$.dirty&1&&n(8,o=c==null?void 0:c.state),r.$$.dirty&3&&n(7,i=(u==null?void 0:u.question)||(c==null?void 0:c.currentQuestionData)),r.$$.dirty&2&&n(6,l=(u==null?void 0:u.categories)||[]),r.$$.dirty&2&&n(5,s=(u==null?void 0:u.options)||[])},[c,u,d,m,g,s,l,i,o,t,w,C]}class nr extends Y{constructor(e){super(),G(this,e,tr,er,Q,{})}}new nr({target:document.getElementById("host")});
