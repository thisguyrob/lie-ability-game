import{S as ve,i as pe,s as me,e as d,a as E,t as T,b as f,c as Qe,d as P,f as a,l as Cn,g as N,n as X,h as q,j as ce,k as O,m as En,o as kt,p as ln,q as re,r as kn,u as ae,v as Tn,w as Bn,x as Sn,y as _e,z as ye,A as we,B as jn}from"./index-2606d1e0.js";var Ce={},zn=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},sn={},le={};let ct;const An=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];le.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};le.getSymbolTotalCodewords=function(e){return An[e]};le.getBCHDigit=function(n){let e=0;for(;n!==0;)e++,n>>>=1;return e};le.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');ct=e};le.isKanjiModeEnabled=function(){return typeof ct<"u"};le.toSJIS=function(e){return ct(e)};var Je={};(function(n){n.L={bit:1},n.M={bit:0},n.Q={bit:3},n.H={bit:2};function e(l){if(typeof l!="string")throw new Error("Param is not a string");switch(l.toLowerCase()){case"l":case"low":return n.L;case"m":case"medium":return n.M;case"q":case"quartile":return n.Q;case"h":case"high":return n.H;default:throw new Error("Unknown EC Level: "+l)}}n.isValid=function(t){return t&&typeof t.bit<"u"&&t.bit>=0&&t.bit<4},n.from=function(t,s){if(n.isValid(t))return t;try{return e(t)}catch{return s}}})(Je);function on(){this.buffer=[],this.length=0}on.prototype={get:function(n){const e=Math.floor(n/8);return(this.buffer[e]>>>7-n%8&1)===1},put:function(n,e){for(let l=0;l<e;l++)this.putBit((n>>>e-l-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(n){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),n&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var Mn=on;function ze(n){if(!n||n<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=n,this.data=new Uint8Array(n*n),this.reservedBit=new Uint8Array(n*n)}ze.prototype.set=function(n,e,l,t){const s=n*this.size+e;this.data[s]=l,t&&(this.reservedBit[s]=!0)};ze.prototype.get=function(n,e){return this.data[n*this.size+e]};ze.prototype.xor=function(n,e,l){this.data[n*this.size+e]^=l};ze.prototype.isReserved=function(n,e){return this.reservedBit[n*this.size+e]};var Rn=ze,rn={};(function(n){const e=le.getSymbolSize;n.getRowColCoords=function(t){if(t===1)return[];const s=Math.floor(t/7)+2,i=e(t),o=i===145?26:Math.ceil((i-13)/(2*s-2))*2,r=[i-7];for(let c=1;c<s-1;c++)r[c]=r[c-1]-o;return r.push(6),r.reverse()},n.getPositions=function(t){const s=[],i=n.getRowColCoords(t),o=i.length;for(let r=0;r<o;r++)for(let c=0;c<o;c++)r===0&&c===0||r===0&&c===o-1||r===o-1&&c===0||s.push([i[r],i[c]]);return s}})(rn);var an={};const Ln=le.getSymbolSize,Tt=7;an.getPositions=function(e){const l=Ln(e);return[[0,0],[l-Tt,0],[0,l-Tt]]};var cn={};(function(n){n.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};n.isValid=function(s){return s!=null&&s!==""&&!isNaN(s)&&s>=0&&s<=7},n.from=function(s){return n.isValid(s)?parseInt(s,10):void 0},n.getPenaltyN1=function(s){const i=s.size;let o=0,r=0,c=0,u=null,v=null;for(let g=0;g<i;g++){r=c=0,u=v=null;for(let h=0;h<i;h++){let p=s.get(g,h);p===u?r++:(r>=5&&(o+=e.N1+(r-5)),u=p,r=1),p=s.get(h,g),p===v?c++:(c>=5&&(o+=e.N1+(c-5)),v=p,c=1)}r>=5&&(o+=e.N1+(r-5)),c>=5&&(o+=e.N1+(c-5))}return o},n.getPenaltyN2=function(s){const i=s.size;let o=0;for(let r=0;r<i-1;r++)for(let c=0;c<i-1;c++){const u=s.get(r,c)+s.get(r,c+1)+s.get(r+1,c)+s.get(r+1,c+1);(u===4||u===0)&&o++}return o*e.N2},n.getPenaltyN3=function(s){const i=s.size;let o=0,r=0,c=0;for(let u=0;u<i;u++){r=c=0;for(let v=0;v<i;v++)r=r<<1&2047|s.get(u,v),v>=10&&(r===1488||r===93)&&o++,c=c<<1&2047|s.get(v,u),v>=10&&(c===1488||c===93)&&o++}return o*e.N3},n.getPenaltyN4=function(s){let i=0;const o=s.data.length;for(let c=0;c<o;c++)i+=s.data[c];return Math.abs(Math.ceil(i*100/o/5)-10)*e.N4};function l(t,s,i){switch(t){case n.Patterns.PATTERN000:return(s+i)%2===0;case n.Patterns.PATTERN001:return s%2===0;case n.Patterns.PATTERN010:return i%3===0;case n.Patterns.PATTERN011:return(s+i)%3===0;case n.Patterns.PATTERN100:return(Math.floor(s/2)+Math.floor(i/3))%2===0;case n.Patterns.PATTERN101:return s*i%2+s*i%3===0;case n.Patterns.PATTERN110:return(s*i%2+s*i%3)%2===0;case n.Patterns.PATTERN111:return(s*i%3+(s+i)%2)%2===0;default:throw new Error("bad maskPattern:"+t)}}n.applyMask=function(s,i){const o=i.size;for(let r=0;r<o;r++)for(let c=0;c<o;c++)i.isReserved(c,r)||i.xor(c,r,l(s,c,r))},n.getBestMask=function(s,i){const o=Object.keys(n.Patterns).length;let r=0,c=1/0;for(let u=0;u<o;u++){i(u),n.applyMask(u,s);const v=n.getPenaltyN1(s)+n.getPenaltyN2(s)+n.getPenaltyN3(s)+n.getPenaltyN4(s);n.applyMask(u,s),v<c&&(c=v,r=u)}return r}})(cn);var Ye={};const de=Je,Ve=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],$e=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Ye.getBlocksCount=function(e,l){switch(l){case de.L:return Ve[(e-1)*4+0];case de.M:return Ve[(e-1)*4+1];case de.Q:return Ve[(e-1)*4+2];case de.H:return Ve[(e-1)*4+3];default:return}};Ye.getTotalCodewordsCount=function(e,l){switch(l){case de.L:return $e[(e-1)*4+0];case de.M:return $e[(e-1)*4+1];case de.Q:return $e[(e-1)*4+2];case de.H:return $e[(e-1)*4+3];default:return}};var un={},Oe={};const Se=new Uint8Array(512),Ge=new Uint8Array(256);(function(){let e=1;for(let l=0;l<255;l++)Se[l]=e,Ge[e]=l,e<<=1,e&256&&(e^=285);for(let l=255;l<512;l++)Se[l]=Se[l-255]})();Oe.log=function(e){if(e<1)throw new Error("log("+e+")");return Ge[e]};Oe.exp=function(e){return Se[e]};Oe.mul=function(e,l){return e===0||l===0?0:Se[Ge[e]+Ge[l]]};(function(n){const e=Oe;n.mul=function(t,s){const i=new Uint8Array(t.length+s.length-1);for(let o=0;o<t.length;o++)for(let r=0;r<s.length;r++)i[o+r]^=e.mul(t[o],s[r]);return i},n.mod=function(t,s){let i=new Uint8Array(t);for(;i.length-s.length>=0;){const o=i[0];for(let c=0;c<s.length;c++)i[c]^=e.mul(s[c],o);let r=0;for(;r<i.length&&i[r]===0;)r++;i=i.slice(r)}return i},n.generateECPolynomial=function(t){let s=new Uint8Array([1]);for(let i=0;i<t;i++)s=n.mul(s,new Uint8Array([1,e.exp(i)]));return s}})(un);const fn=un;function ut(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}ut.prototype.initialize=function(e){this.degree=e,this.genPoly=fn.generateECPolynomial(this.degree)};ut.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const l=new Uint8Array(e.length+this.degree);l.set(e);const t=fn.mod(l,this.genPoly),s=this.degree-t.length;if(s>0){const i=new Uint8Array(this.degree);return i.set(t,s),i}return t};var Nn=ut,dn={},ge={},ft={};ft.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var oe={};const gn="[0-9]+",In="[A-Z $%*+\\-./:]+";let je="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";je=je.replace(/u/g,"\\u");const Pn="(?:(?![A-Z0-9 $%*+\\-./:]|"+je+`)(?:.|[\r
]))+`;oe.KANJI=new RegExp(je,"g");oe.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");oe.BYTE=new RegExp(Pn,"g");oe.NUMERIC=new RegExp(gn,"g");oe.ALPHANUMERIC=new RegExp(In,"g");const qn=new RegExp("^"+je+"$"),Un=new RegExp("^"+gn+"$"),Dn=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");oe.testKanji=function(e){return qn.test(e)};oe.testNumeric=function(e){return Un.test(e)};oe.testAlphanumeric=function(e){return Dn.test(e)};(function(n){const e=ft,l=oe;n.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},n.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},n.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},n.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},n.MIXED={bit:-1},n.getCharCountIndicator=function(i,o){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?i.ccBits[0]:o<27?i.ccBits[1]:i.ccBits[2]},n.getBestModeForData=function(i){return l.testNumeric(i)?n.NUMERIC:l.testAlphanumeric(i)?n.ALPHANUMERIC:l.testKanji(i)?n.KANJI:n.BYTE},n.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},n.isValid=function(i){return i&&i.bit&&i.ccBits};function t(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"numeric":return n.NUMERIC;case"alphanumeric":return n.ALPHANUMERIC;case"kanji":return n.KANJI;case"byte":return n.BYTE;default:throw new Error("Unknown mode: "+s)}}n.from=function(i,o){if(n.isValid(i))return i;try{return t(i)}catch{return o}}})(ge);(function(n){const e=le,l=Ye,t=Je,s=ge,i=ft,o=7973,r=e.getBCHDigit(o);function c(h,p,b){for(let m=1;m<=40;m++)if(p<=n.getCapacity(m,b,h))return m}function u(h,p){return s.getCharCountIndicator(h,p)+4}function v(h,p){let b=0;return h.forEach(function(m){const B=u(m.mode,p);b+=B+m.getBitsLength()}),b}function g(h,p){for(let b=1;b<=40;b++)if(v(h,b)<=n.getCapacity(b,p,s.MIXED))return b}n.from=function(p,b){return i.isValid(p)?parseInt(p,10):b},n.getCapacity=function(p,b,m){if(!i.isValid(p))throw new Error("Invalid QR Code version");typeof m>"u"&&(m=s.BYTE);const B=e.getSymbolTotalCodewords(p),C=l.getTotalCodewordsCount(p,b),y=(B-C)*8;if(m===s.MIXED)return y;const _=y-u(m,p);switch(m){case s.NUMERIC:return Math.floor(_/10*3);case s.ALPHANUMERIC:return Math.floor(_/11*2);case s.KANJI:return Math.floor(_/13);case s.BYTE:default:return Math.floor(_/8)}},n.getBestVersionForData=function(p,b){let m;const B=t.from(b,t.M);if(Array.isArray(p)){if(p.length>1)return g(p,B);if(p.length===0)return 1;m=p[0]}else m=p;return c(m.mode,m.getLength(),B)},n.getEncodedBits=function(p){if(!i.isValid(p)||p<7)throw new Error("Invalid QR Code version");let b=p<<12;for(;e.getBCHDigit(b)-r>=0;)b^=o<<e.getBCHDigit(b)-r;return p<<12|b}})(dn);var hn={};const it=le,vn=1335,Fn=21522,Bt=it.getBCHDigit(vn);hn.getEncodedBits=function(e,l){const t=e.bit<<3|l;let s=t<<10;for(;it.getBCHDigit(s)-Bt>=0;)s^=vn<<it.getBCHDigit(s)-Bt;return(t<<10|s)^Fn};var pn={};const Hn=ge;function Ee(n){this.mode=Hn.NUMERIC,this.data=n.toString()}Ee.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};Ee.prototype.getLength=function(){return this.data.length};Ee.prototype.getBitsLength=function(){return Ee.getBitsLength(this.data.length)};Ee.prototype.write=function(e){let l,t,s;for(l=0;l+3<=this.data.length;l+=3)t=this.data.substr(l,3),s=parseInt(t,10),e.put(s,10);const i=this.data.length-l;i>0&&(t=this.data.substr(l),s=parseInt(t,10),e.put(s,i*3+1))};var Vn=Ee;const $n=ge,et=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function ke(n){this.mode=$n.ALPHANUMERIC,this.data=n}ke.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};ke.prototype.getLength=function(){return this.data.length};ke.prototype.getBitsLength=function(){return ke.getBitsLength(this.data.length)};ke.prototype.write=function(e){let l;for(l=0;l+2<=this.data.length;l+=2){let t=et.indexOf(this.data[l])*45;t+=et.indexOf(this.data[l+1]),e.put(t,11)}this.data.length%2&&e.put(et.indexOf(this.data[l]),6)};var Qn=ke;const Gn=ge;function Te(n){this.mode=Gn.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}Te.getBitsLength=function(e){return e*8};Te.prototype.getLength=function(){return this.data.length};Te.prototype.getBitsLength=function(){return Te.getBitsLength(this.data.length)};Te.prototype.write=function(n){for(let e=0,l=this.data.length;e<l;e++)n.put(this.data[e],8)};var Kn=Te;const Jn=ge,Yn=le;function Be(n){this.mode=Jn.KANJI,this.data=n}Be.getBitsLength=function(e){return e*13};Be.prototype.getLength=function(){return this.data.length};Be.prototype.getBitsLength=function(){return Be.getBitsLength(this.data.length)};Be.prototype.write=function(n){let e;for(e=0;e<this.data.length;e++){let l=Yn.toSJIS(this.data[e]);if(l>=33088&&l<=40956)l-=33088;else if(l>=57408&&l<=60351)l-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);l=(l>>>8&255)*192+(l&255),n.put(l,13)}};var On=Be,mn={exports:{}};(function(n){var e={single_source_shortest_paths:function(l,t,s){var i={},o={};o[t]=0;var r=e.PriorityQueue.make();r.push(t,0);for(var c,u,v,g,h,p,b,m,B;!r.empty();){c=r.pop(),u=c.value,g=c.cost,h=l[u]||{};for(v in h)h.hasOwnProperty(v)&&(p=h[v],b=g+p,m=o[v],B=typeof o[v]>"u",(B||m>b)&&(o[v]=b,r.push(v,b),i[v]=u))}if(typeof s<"u"&&typeof o[s]>"u"){var C=["Could not find a path from ",t," to ",s,"."].join("");throw new Error(C)}return i},extract_shortest_path_from_predecessor_list:function(l,t){for(var s=[],i=t;i;)s.push(i),l[i],i=l[i];return s.reverse(),s},find_path:function(l,t,s){var i=e.single_source_shortest_paths(l,t,s);return e.extract_shortest_path_from_predecessor_list(i,s)},PriorityQueue:{make:function(l){var t=e.PriorityQueue,s={},i;l=l||{};for(i in t)t.hasOwnProperty(i)&&(s[i]=t[i]);return s.queue=[],s.sorter=l.sorter||t.default_sorter,s},default_sorter:function(l,t){return l.cost-t.cost},push:function(l,t){var s={value:l,cost:t};this.queue.push(s),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};n.exports=e})(mn);var Wn=mn.exports;(function(n){const e=ge,l=Vn,t=Qn,s=Kn,i=On,o=oe,r=le,c=Wn;function u(C){return unescape(encodeURIComponent(C)).length}function v(C,y,_){const w=[];let S;for(;(S=C.exec(_))!==null;)w.push({data:S[0],index:S.index,mode:y,length:S[0].length});return w}function g(C){const y=v(o.NUMERIC,e.NUMERIC,C),_=v(o.ALPHANUMERIC,e.ALPHANUMERIC,C);let w,S;return r.isKanjiModeEnabled()?(w=v(o.BYTE,e.BYTE,C),S=v(o.KANJI,e.KANJI,C)):(w=v(o.BYTE_KANJI,e.BYTE,C),S=[]),y.concat(_,w,S).sort(function(z,I){return z.index-I.index}).map(function(z){return{data:z.data,mode:z.mode,length:z.length}})}function h(C,y){switch(y){case e.NUMERIC:return l.getBitsLength(C);case e.ALPHANUMERIC:return t.getBitsLength(C);case e.KANJI:return i.getBitsLength(C);case e.BYTE:return s.getBitsLength(C)}}function p(C){return C.reduce(function(y,_){const w=y.length-1>=0?y[y.length-1]:null;return w&&w.mode===_.mode?(y[y.length-1].data+=_.data,y):(y.push(_),y)},[])}function b(C){const y=[];for(let _=0;_<C.length;_++){const w=C[_];switch(w.mode){case e.NUMERIC:y.push([w,{data:w.data,mode:e.ALPHANUMERIC,length:w.length},{data:w.data,mode:e.BYTE,length:w.length}]);break;case e.ALPHANUMERIC:y.push([w,{data:w.data,mode:e.BYTE,length:w.length}]);break;case e.KANJI:y.push([w,{data:w.data,mode:e.BYTE,length:u(w.data)}]);break;case e.BYTE:y.push([{data:w.data,mode:e.BYTE,length:u(w.data)}])}}return y}function m(C,y){const _={},w={start:{}};let S=["start"];for(let A=0;A<C.length;A++){const z=C[A],I=[];for(let F=0;F<z.length;F++){const L=z[F],k=""+A+F;I.push(k),_[k]={node:L,lastCount:0},w[k]={};for(let M=0;M<S.length;M++){const j=S[M];_[j]&&_[j].node.mode===L.mode?(w[j][k]=h(_[j].lastCount+L.length,L.mode)-h(_[j].lastCount,L.mode),_[j].lastCount+=L.length):(_[j]&&(_[j].lastCount=L.length),w[j][k]=h(L.length,L.mode)+4+e.getCharCountIndicator(L.mode,y))}}S=I}for(let A=0;A<S.length;A++)w[S[A]].end=0;return{map:w,table:_}}function B(C,y){let _;const w=e.getBestModeForData(C);if(_=e.from(y,w),_!==e.BYTE&&_.bit<w.bit)throw new Error('"'+C+'" cannot be encoded with mode '+e.toString(_)+`.
 Suggested mode is: `+e.toString(w));switch(_===e.KANJI&&!r.isKanjiModeEnabled()&&(_=e.BYTE),_){case e.NUMERIC:return new l(C);case e.ALPHANUMERIC:return new t(C);case e.KANJI:return new i(C);case e.BYTE:return new s(C)}}n.fromArray=function(y){return y.reduce(function(_,w){return typeof w=="string"?_.push(B(w,null)):w.data&&_.push(B(w.data,w.mode)),_},[])},n.fromString=function(y,_){const w=g(y,r.isKanjiModeEnabled()),S=b(w),A=m(S,_),z=c.find_path(A.map,"start","end"),I=[];for(let F=1;F<z.length-1;F++)I.push(A.table[z[F]].node);return n.fromArray(p(I))},n.rawSplit=function(y){return n.fromArray(g(y,r.isKanjiModeEnabled()))}})(pn);const We=le,tt=Je,Zn=Mn,Xn=Rn,xn=rn,el=an,ot=cn,rt=Ye,tl=Nn,Ke=dn,nl=hn,ll=ge,nt=pn;function sl(n,e){const l=n.size,t=el.getPositions(e);for(let s=0;s<t.length;s++){const i=t[s][0],o=t[s][1];for(let r=-1;r<=7;r++)if(!(i+r<=-1||l<=i+r))for(let c=-1;c<=7;c++)o+c<=-1||l<=o+c||(r>=0&&r<=6&&(c===0||c===6)||c>=0&&c<=6&&(r===0||r===6)||r>=2&&r<=4&&c>=2&&c<=4?n.set(i+r,o+c,!0,!0):n.set(i+r,o+c,!1,!0))}}function il(n){const e=n.size;for(let l=8;l<e-8;l++){const t=l%2===0;n.set(l,6,t,!0),n.set(6,l,t,!0)}}function ol(n,e){const l=xn.getPositions(e);for(let t=0;t<l.length;t++){const s=l[t][0],i=l[t][1];for(let o=-2;o<=2;o++)for(let r=-2;r<=2;r++)o===-2||o===2||r===-2||r===2||o===0&&r===0?n.set(s+o,i+r,!0,!0):n.set(s+o,i+r,!1,!0)}}function rl(n,e){const l=n.size,t=Ke.getEncodedBits(e);let s,i,o;for(let r=0;r<18;r++)s=Math.floor(r/3),i=r%3+l-8-3,o=(t>>r&1)===1,n.set(s,i,o,!0),n.set(i,s,o,!0)}function lt(n,e,l){const t=n.size,s=nl.getEncodedBits(e,l);let i,o;for(i=0;i<15;i++)o=(s>>i&1)===1,i<6?n.set(i,8,o,!0):i<8?n.set(i+1,8,o,!0):n.set(t-15+i,8,o,!0),i<8?n.set(8,t-i-1,o,!0):i<9?n.set(8,15-i-1+1,o,!0):n.set(8,15-i-1,o,!0);n.set(t-8,8,1,!0)}function al(n,e){const l=n.size;let t=-1,s=l-1,i=7,o=0;for(let r=l-1;r>0;r-=2)for(r===6&&r--;;){for(let c=0;c<2;c++)if(!n.isReserved(s,r-c)){let u=!1;o<e.length&&(u=(e[o]>>>i&1)===1),n.set(s,r-c,u),i--,i===-1&&(o++,i=7)}if(s+=t,s<0||l<=s){s-=t,t=-t;break}}}function cl(n,e,l){const t=new Zn;l.forEach(function(c){t.put(c.mode.bit,4),t.put(c.getLength(),ll.getCharCountIndicator(c.mode,n)),c.write(t)});const s=We.getSymbolTotalCodewords(n),i=rt.getTotalCodewordsCount(n,e),o=(s-i)*8;for(t.getLengthInBits()+4<=o&&t.put(0,4);t.getLengthInBits()%8!==0;)t.putBit(0);const r=(o-t.getLengthInBits())/8;for(let c=0;c<r;c++)t.put(c%2?17:236,8);return ul(t,n,e)}function ul(n,e,l){const t=We.getSymbolTotalCodewords(e),s=rt.getTotalCodewordsCount(e,l),i=t-s,o=rt.getBlocksCount(e,l),r=t%o,c=o-r,u=Math.floor(t/o),v=Math.floor(i/o),g=v+1,h=u-v,p=new tl(h);let b=0;const m=new Array(o),B=new Array(o);let C=0;const y=new Uint8Array(n.buffer);for(let z=0;z<o;z++){const I=z<c?v:g;m[z]=y.slice(b,b+I),B[z]=p.encode(m[z]),b+=I,C=Math.max(C,I)}const _=new Uint8Array(t);let w=0,S,A;for(S=0;S<C;S++)for(A=0;A<o;A++)S<m[A].length&&(_[w++]=m[A][S]);for(S=0;S<h;S++)for(A=0;A<o;A++)_[w++]=B[A][S];return _}function fl(n,e,l,t){let s;if(Array.isArray(n))s=nt.fromArray(n);else if(typeof n=="string"){let u=e;if(!u){const v=nt.rawSplit(n);u=Ke.getBestVersionForData(v,l)}s=nt.fromString(n,u||40)}else throw new Error("Invalid data");const i=Ke.getBestVersionForData(s,l);if(!i)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=i;else if(e<i)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+i+`.
`);const o=cl(e,l,s),r=We.getSymbolSize(e),c=new Xn(r);return sl(c,e),il(c),ol(c,e),lt(c,l,0),e>=7&&rl(c,e),al(c,o),isNaN(t)&&(t=ot.getBestMask(c,lt.bind(null,c,l))),ot.applyMask(t,c),lt(c,l,t),{modules:c,version:e,errorCorrectionLevel:l,maskPattern:t,segments:s}}sn.create=function(e,l){if(typeof e>"u"||e==="")throw new Error("No input text");let t=tt.M,s,i;return typeof l<"u"&&(t=tt.from(l.errorCorrectionLevel,tt.M),s=Ke.from(l.version),i=ot.from(l.maskPattern),l.toSJISFunc&&We.setToSJISFunction(l.toSJISFunc)),fl(e,s,t,i)};var _n={},dt={};(function(n){function e(l){if(typeof l=="number"&&(l=l.toString()),typeof l!="string")throw new Error("Color should be defined as hex string");let t=l.slice().replace("#","").split("");if(t.length<3||t.length===5||t.length>8)throw new Error("Invalid hex color: "+l);(t.length===3||t.length===4)&&(t=Array.prototype.concat.apply([],t.map(function(i){return[i,i]}))),t.length===6&&t.push("F","F");const s=parseInt(t.join(""),16);return{r:s>>24&255,g:s>>16&255,b:s>>8&255,a:s&255,hex:"#"+t.slice(0,6).join("")}}n.getOptions=function(t){t||(t={}),t.color||(t.color={});const s=typeof t.margin>"u"||t.margin===null||t.margin<0?4:t.margin,i=t.width&&t.width>=21?t.width:void 0,o=t.scale||4;return{width:i,scale:i?4:o,margin:s,color:{dark:e(t.color.dark||"#000000ff"),light:e(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}},n.getScale=function(t,s){return s.width&&s.width>=t+s.margin*2?s.width/(t+s.margin*2):s.scale},n.getImageWidth=function(t,s){const i=n.getScale(t,s);return Math.floor((t+s.margin*2)*i)},n.qrToImageData=function(t,s,i){const o=s.modules.size,r=s.modules.data,c=n.getScale(o,i),u=Math.floor((o+i.margin*2)*c),v=i.margin*c,g=[i.color.light,i.color.dark];for(let h=0;h<u;h++)for(let p=0;p<u;p++){let b=(h*u+p)*4,m=i.color.light;if(h>=v&&p>=v&&h<u-v&&p<u-v){const B=Math.floor((h-v)/c),C=Math.floor((p-v)/c);m=g[r[B*o+C]?1:0]}t[b++]=m.r,t[b++]=m.g,t[b++]=m.b,t[b]=m.a}}})(dt);(function(n){const e=dt;function l(s,i,o){s.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=o,i.width=o,i.style.height=o+"px",i.style.width=o+"px"}function t(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}n.render=function(i,o,r){let c=r,u=o;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),o||(u=t()),c=e.getOptions(c);const v=e.getImageWidth(i.modules.size,c),g=u.getContext("2d"),h=g.createImageData(v,v);return e.qrToImageData(h.data,i,c),l(g,u,v),g.putImageData(h,0,0),u},n.renderToDataURL=function(i,o,r){let c=r;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),c||(c={});const u=n.render(i,o,c),v=c.type||"image/png",g=c.rendererOpts||{};return u.toDataURL(v,g.quality)}})(_n);var yn={};const dl=dt;function St(n,e){const l=n.a/255,t=e+'="'+n.hex+'"';return l<1?t+" "+e+'-opacity="'+l.toFixed(2).slice(1)+'"':t}function st(n,e,l){let t=n+e;return typeof l<"u"&&(t+=" "+l),t}function gl(n,e,l){let t="",s=0,i=!1,o=0;for(let r=0;r<n.length;r++){const c=Math.floor(r%e),u=Math.floor(r/e);!c&&!i&&(i=!0),n[r]?(o++,r>0&&c>0&&n[r-1]||(t+=i?st("M",c+l,.5+u+l):st("m",s,0),s=0,i=!1),c+1<e&&n[r+1]||(t+=st("h",o),o=0)):s++}return t}yn.render=function(e,l,t){const s=dl.getOptions(l),i=e.modules.size,o=e.modules.data,r=i+s.margin*2,c=s.color.light.a?"<path "+St(s.color.light,"fill")+' d="M0 0h'+r+"v"+r+'H0z"/>':"",u="<path "+St(s.color.dark,"stroke")+' d="'+gl(o,i,s.margin)+'"/>',v='viewBox="0 0 '+r+" "+r+'"',h='<svg xmlns="http://www.w3.org/2000/svg" '+(s.width?'width="'+s.width+'" height="'+s.width+'" ':"")+v+' shape-rendering="crispEdges">'+c+u+`</svg>
`;return typeof t=="function"&&t(null,h),h};const hl=zn,at=sn,wn=_n,vl=yn;function gt(n,e,l,t,s){const i=[].slice.call(arguments,1),o=i.length,r=typeof i[o-1]=="function";if(!r&&!hl())throw new Error("Callback required as last argument");if(r){if(o<2)throw new Error("Too few arguments provided");o===2?(s=l,l=e,e=t=void 0):o===3&&(e.getContext&&typeof s>"u"?(s=t,t=void 0):(s=t,t=l,l=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(l=e,e=t=void 0):o===2&&!e.getContext&&(t=l,l=e,e=void 0),new Promise(function(c,u){try{const v=at.create(l,t);c(n(v,e,t))}catch(v){u(v)}})}try{const c=at.create(l,t);s(null,n(c,e,t))}catch(c){s(c)}}Ce.create=at.create;Ce.toCanvas=gt.bind(null,wn.render);Ce.toDataURL=gt.bind(null,wn.renderToDataURL);Ce.toString=gt.bind(null,function(n,e,l){return vl.render(n,l)});function jt(n,e,l){const t=n.slice();return t[5]=e[l],t[7]=l,t}function pl(n){let e;return{c(){e=d("div"),e.innerHTML=`<div class="loading-spinner svelte-ewo0z"></div> 
            <p>Generating QR Code...</p>`,f(e,"class","qr-placeholder svelte-ewo0z")},m(l,t){P(l,e,t)},p:X,d(l){l&&q(e)}}}function ml(n){let e,l;return{c(){e=d("img"),kt(e.src,l=n[1])||f(e,"src",l),f(e,"alt","QR Code to join game"),f(e,"class","qr-code svelte-ewo0z")},m(t,s){P(t,e,s)},p(t,s){s&2&&!kt(e.src,l=t[1])&&f(e,"src",l)},d(t){t&&q(e)}}}function zt(n){let e;return{c(){e=d("span"),e.textContent="Minimum 2 players needed",f(e,"class","min-players svelte-ewo0z")},m(l,t){P(l,e,t)},d(l){l&&q(e)}}}function At(n){let e,l,t,s=n[5].avatar.emoji+"",i,o,r,c,u=n[5].name+"",v;return{c(){e=d("div"),l=d("div"),t=d("span"),i=T(s),o=E(),r=d("div"),c=d("span"),v=T(u),f(t,"class","player-emoji svelte-ewo0z"),f(l,"class","player-avatar svelte-ewo0z"),O(l,"background-color",n[5].avatar.color),f(c,"class","player-name svelte-ewo0z"),f(r,"class","player-details svelte-ewo0z"),f(e,"class","player-card svelte-ewo0z"),O(e,"animation-delay",n[7]*.1+"s"),O(e,"background-color",n[5].avatar.color)},m(g,h){P(g,e,h),a(e,l),a(l,t),a(t,i),a(e,o),a(e,r),a(r,c),a(c,v)},p(g,h){h&1&&s!==(s=g[5].avatar.emoji+"")&&N(i,s),h&1&&O(l,"background-color",g[5].avatar.color),h&1&&u!==(u=g[5].name+"")&&N(v,u),h&1&&O(e,"background-color",g[5].avatar.color)},d(g){g&&q(e)}}}function Mt(n){let e;return{c(){e=d("div"),e.innerHTML=`<div class="empty-icon svelte-ewo0z">üë•</div> 
          <p class="svelte-ewo0z">Waiting for players to join...</p> 
          <p class="empty-hint svelte-ewo0z">Share the QR code or URL!</p>`,f(e,"class","empty-state svelte-ewo0z")},m(l,t){P(l,e,t)},d(l){l&&q(e)}}}function _l(n){let e,l;return{c(){e=d("span"),e.textContent="üöÄ",l=T(`
        Start Game`),f(e,"class","button-icon svelte-ewo0z")},m(t,s){P(t,e,s),P(t,l,s)},d(t){t&&q(e),t&&q(l)}}}function yl(n){let e,l;return{c(){e=d("span"),e.textContent="‚è≥",l=T(`
        Waiting for Players`),f(e,"class","button-icon svelte-ewo0z")},m(t,s){P(t,e,s),P(t,l,s)},d(t){t&&q(e),t&&q(l)}}}function wl(n){let e;return{c(){e=d("p"),e.textContent="Need at least 2 players to start",f(e,"class","start-hint svelte-ewo0z")},m(l,t){P(l,e,t)},d(l){l&&q(e)}}}function bl(n){let e;return{c(){e=d("p"),e.textContent="Ready to begin? Let the lies commence! üé≠",f(e,"class","start-hint svelte-ewo0z")},m(l,t){P(l,e,t)},d(l){l&&q(e)}}}function Cl(n){let e,l,t,s,i,o,r,c,u,v,g,h,p,b,m,B=n[0].players.length+"",C,y,_,w,S,A,z,I,F,L,k,M;function j($,Y){return $[1]?ml:pl}let U=j(n),V=U(n),D=n[0].players.length<2&&zt(),Q=n[0].players,R=[];for(let $=0;$<Q.length;$+=1)R[$]=At(jt(n,Q,$));let H=n[0].players.length===0&&Mt();function G($,Y){return $[4]?_l:yl}let x=G(n),W=x(n);function ie($,Y){return $[4]?bl:wl}let ne=ie(n),te=ne(n);return{c(){e=d("div"),l=d("div"),l.innerHTML=`<h2 class="welcome-title svelte-ewo0z">Welcome to Lie-Ability!</h2> 
    <p class="welcome-subtitle svelte-ewo0z">A party game where creativity meets deception. 
      Create convincing lies and spot the truth!</p>`,t=E(),s=d("div"),i=d("div"),o=d("div"),r=d("h3"),r.textContent="Scan to Join",c=E(),V.c(),u=E(),v=d("p"),g=T(n[2]),h=E(),p=d("div"),b=d("h3"),m=T("Players ("),C=T(B),y=T(`)
      `),D&&D.c(),_=E(),w=d("div");for(let $=0;$<R.length;$+=1)R[$].c();S=E(),H&&H.c(),A=E(),z=d("div"),I=d("button"),W.c(),L=E(),te.c(),f(l,"class","welcome-section svelte-ewo0z"),f(r,"class","svelte-ewo0z"),f(v,"class","join-url svelte-ewo0z"),f(o,"class","qr-card svelte-ewo0z"),f(i,"class","qr-container svelte-ewo0z"),f(s,"class","join-section svelte-ewo0z"),f(b,"class","players-title svelte-ewo0z"),f(w,"class","players-grid svelte-ewo0z"),f(p,"class","players-section svelte-ewo0z"),f(I,"class","start-button svelte-ewo0z"),I.disabled=F=!n[4],Qe(I,"disabled",!n[4]),f(z,"class","start-section svelte-ewo0z"),f(e,"class","lobby-container svelte-ewo0z")},m($,Y){P($,e,Y),a(e,l),a(e,t),a(e,s),a(s,i),a(i,o),a(o,r),a(o,c),V.m(o,null),a(o,u),a(o,v),a(v,g),a(e,h),a(e,p),a(p,b),a(b,m),a(b,C),a(b,y),D&&D.m(b,null),a(p,_),a(p,w);for(let K=0;K<R.length;K+=1)R[K]&&R[K].m(w,null);a(w,S),H&&H.m(w,null),a(e,A),a(e,z),a(z,I),W.m(I,null),a(z,L),te.m(z,null),k||(M=Cn(I,"click",function(){En(n[3])&&n[3].apply(this,arguments)}),k=!0)},p($,[Y]){if(n=$,U===(U=j(n))&&V?V.p(n,Y):(V.d(1),V=U(n),V&&(V.c(),V.m(o,u))),Y&4&&N(g,n[2]),Y&1&&B!==(B=n[0].players.length+"")&&N(C,B),n[0].players.length<2?D||(D=zt(),D.c(),D.m(b,null)):D&&(D.d(1),D=null),Y&1){Q=n[0].players;let K;for(K=0;K<Q.length;K+=1){const he=jt(n,Q,K);R[K]?R[K].p(he,Y):(R[K]=At(he),R[K].c(),R[K].m(w,S))}for(;K<R.length;K+=1)R[K].d(1);R.length=Q.length}n[0].players.length===0?H||(H=Mt(),H.c(),H.m(w,null)):H&&(H.d(1),H=null),x!==(x=G(n))&&(W.d(1),W=x(n),W&&(W.c(),W.m(I,null))),Y&16&&F!==(F=!n[4])&&(I.disabled=F),Y&16&&Qe(I,"disabled",!n[4]),ne!==(ne=ie(n))&&(te.d(1),te=ne(n),te&&(te.c(),te.m(z,null)))},i:X,o:X,d($){$&&q(e),V.d(),D&&D.d(),ce(R,$),H&&H.d(),W.d(),te.d(),k=!1,M()}}}function El(n,e,l){let t,{gameState:s}=e,{qrCodeUrl:i}=e,{serverUrl:o}=e,{onStart:r}=e;return n.$$set=c=>{"gameState"in c&&l(0,s=c.gameState),"qrCodeUrl"in c&&l(1,i=c.qrCodeUrl),"serverUrl"in c&&l(2,o=c.serverUrl),"onStart"in c&&l(3,r=c.onStart)},n.$$.update=()=>{n.$$.dirty&1&&l(4,t=s.players.length>=2)},[s,i,o,r,t]}class kl extends ve{constructor(e){super(),pe(this,e,El,Cl,me,{gameState:0,qrCodeUrl:1,serverUrl:2,onStart:3})}}function Rt(n,e,l){const t=n.slice();return t[3]=e[l],t[5]=l,t}function Lt(n){let e,l,t=n[1](n[3].category)+"",s,i,o,r=n[3].category+"",c,u,v,g;return{c(){e=d("div"),l=d("div"),s=T(t),i=E(),o=d("div"),c=T(r),u=E(),v=d("div"),g=E(),f(l,"class","category-emoji svelte-4cbdtp"),f(o,"class","category-name svelte-4cbdtp"),f(v,"class","category-pulse svelte-4cbdtp"),f(e,"class","category-card svelte-4cbdtp"),O(e,"animation-delay",n[5]*.1+"s")},m(h,p){P(h,e,p),a(e,l),a(l,s),a(e,i),a(e,o),a(o,c),a(e,u),a(e,v),a(e,g)},p(h,p){p&1&&t!==(t=h[1](h[3].category)+"")&&N(s,t),p&1&&r!==(r=h[3].category+"")&&N(c,r)},d(h){h&&q(e)}}}function Tl(n){let e,l,t,s,i,o,r=n[0].selectorName+"",c,u,v,g,h,p,b=n[0].categories,m=[];for(let B=0;B<b.length;B+=1)m[B]=Lt(Rt(n,b,B));return{c(){e=d("div"),l=d("div"),t=d("h2"),t.textContent="Category Selection",s=E(),i=d("p"),o=d("span"),c=T(r),u=T(" is choosing the category"),v=E(),g=d("div");for(let B=0;B<m.length;B+=1)m[B].c();h=E(),p=d("div"),p.innerHTML=`<div class="dots svelte-4cbdtp"><span class="svelte-4cbdtp"></span> 
      <span class="svelte-4cbdtp"></span> 
      <span class="svelte-4cbdtp"></span></div> 
    <p class="svelte-4cbdtp">Waiting for selection...</p>`,f(t,"class","title svelte-4cbdtp"),f(o,"class","selector-name svelte-4cbdtp"),f(i,"class","selector-info svelte-4cbdtp"),f(l,"class","header svelte-4cbdtp"),f(g,"class","categories-grid svelte-4cbdtp"),f(p,"class","waiting-indicator svelte-4cbdtp"),f(e,"class","category-container svelte-4cbdtp")},m(B,C){P(B,e,C),a(e,l),a(l,t),a(l,s),a(l,i),a(i,o),a(o,c),a(i,u),a(e,v),a(e,g);for(let y=0;y<m.length;y+=1)m[y]&&m[y].m(g,null);a(e,h),a(e,p)},p(B,[C]){if(C&1&&r!==(r=B[0].selectorName+"")&&N(c,r),C&3){b=B[0].categories;let y;for(y=0;y<b.length;y+=1){const _=Rt(B,b,y);m[y]?m[y].p(_,C):(m[y]=Lt(_),m[y].c(),m[y].m(g,null))}for(;y<m.length;y+=1)m[y].d(1);m.length=b.length}},i:X,o:X,d(B){B&&q(e),ce(m,B)}}}function Bl(n,e,l){let{currentQuestion:t}=e;const s={History:"üìö",Animals:"üêæ",Food:"üçé",Sports:"‚öΩ",Geography:"üåç",Music:"üéµ",Science:"üî¨",Literature:"üìñ",Inventions:"üí°",TV:"üì∫",Art:"üé®",Language:"üó£Ô∏è",Movies:"üé¨",Tech:"üíª",Fashion:"üëó",Mythology:"‚ö°",Games:"üéÆ",Space:"üöÄ",Comics:"üí•",Misc:"üéØ",Bonus:"‚ú®",Entertainment:"üé≠",Nature:"üåø",Travel:"‚úàÔ∏è"};function i(o){return s[o]||"‚ùì"}return n.$$set=o=>{"currentQuestion"in o&&l(0,t=o.currentQuestion)},[t,i]}class Sl extends ve{constructor(e){super(),pe(this,e,Bl,Tl,me,{currentQuestion:0})}}function Nt(n,e,l){const t=n.slice();return t[4]=e[l],t[6]=l,t}function jl(n){let e,l,t,s,i=n[0].options,o=[];for(let r=0;r<i.length;r+=1)o[r]=It(Nt(n,i,r));return{c(){e=d("div"),l=d("h4"),l.textContent="Vote for the Real Answer",t=E(),s=d("div");for(let r=0;r<o.length;r+=1)o[r].c();f(l,"class","options-title svelte-nfjqqc"),f(s,"class","options-grid svelte-nfjqqc"),f(e,"class","options-section svelte-nfjqqc")},m(r,c){P(r,e,c),a(e,l),a(e,t),a(e,s);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(s,null)},p(r,c){if(c&1){i=r[0].options;let u;for(u=0;u<i.length;u+=1){const v=Nt(r,i,u);o[u]?o[u].p(v,c):(o[u]=It(v),o[u].c(),o[u].m(s,null))}for(;u<o.length;u+=1)o[u].d(1);o.length=i.length}},d(r){r&&q(e),ce(o,r)}}}function zl(n){let e;return{c(){e=d("div"),e.innerHTML=`<div class="activity-icon svelte-nfjqqc">‚úçÔ∏è</div> 
        <p class="svelte-nfjqqc">Players are writing their lies...</p>`,f(e,"class","activity-indicator svelte-nfjqqc")},m(l,t){P(l,e,t)},p:X,d(l){l&&q(e)}}}function Al(n){let e;return{c(){e=d("div"),e.innerHTML=`<div class="reading-dots svelte-nfjqqc"><span class="svelte-nfjqqc"></span> 
          <span class="svelte-nfjqqc"></span> 
          <span class="svelte-nfjqqc"></span></div> 
        <p class="svelte-nfjqqc">Everyone read carefully...</p>`,f(e,"class","reading-indicator svelte-nfjqqc")},m(l,t){P(l,e,t)},p:X,d(l){l&&q(e)}}}function It(n){let e,l,t=n[4].text+"",s,i;return{c(){e=d("div"),l=d("div"),s=T(t),i=E(),f(l,"class","option-text svelte-nfjqqc"),f(e,"class","option-card svelte-nfjqqc"),O(e,"animation-delay",n[6]*.1+"s")},m(o,r){P(o,e,r),a(e,l),a(l,s),a(e,i)},p(o,r){r&1&&t!==(t=o[4].text+"")&&N(s,t)},d(o){o&&q(e)}}}function Ml(n){let e,l,t,s,i=n[2](n[0].category)+"",o,r,c,u=n[0].category+"",v,g,h,p,b=n[0].question+"",m,B;function C(w,S){if(w[1]==="question_reading")return Al;if(w[1]==="lie_submission")return zl;if(w[1]==="option_selection"&&w[0].options)return jl}let y=C(n),_=y&&y(n);return{c(){e=d("div"),l=d("div"),t=d("div"),s=d("span"),o=T(i),r=E(),c=d("span"),v=T(u),g=E(),h=d("div"),p=d("h3"),m=T(b),B=E(),_&&_.c(),f(s,"class","category-emoji svelte-nfjqqc"),f(c,"class","category-name"),f(t,"class","category-badge svelte-nfjqqc"),f(p,"class","question-text svelte-nfjqqc"),f(h,"class","question-content svelte-nfjqqc"),f(l,"class","question-card svelte-nfjqqc"),f(e,"class","question-container svelte-nfjqqc")},m(w,S){P(w,e,S),a(e,l),a(l,t),a(t,s),a(s,o),a(t,r),a(t,c),a(c,v),a(l,g),a(l,h),a(h,p),a(p,m),a(l,B),_&&_.m(l,null)},p(w,[S]){S&1&&i!==(i=w[2](w[0].category)+"")&&N(o,i),S&1&&u!==(u=w[0].category+"")&&N(v,u),S&1&&b!==(b=w[0].question+"")&&N(m,b),y===(y=C(w))&&_?_.p(w,S):(_&&_.d(1),_=y&&y(w),_&&(_.c(),_.m(l,null)))},i:X,o:X,d(w){w&&q(e),_&&_.d()}}}function Rl(n,e,l){let{currentQuestion:t}=e,{state:s}=e;const i={History:"üìö",Animals:"üêæ",Food:"üçé",Sports:"‚öΩ",Geography:"üåç",Music:"üéµ",Science:"üî¨",Literature:"üìñ",Inventions:"üí°",TV:"üì∫",Art:"üé®",Language:"üó£Ô∏è",Movies:"üé¨",Tech:"üíª",Fashion:"üëó",Mythology:"‚ö°",Games:"üéÆ",Space:"üöÄ",Comics:"üí•",Misc:"üéØ",Bonus:"‚ú®",Entertainment:"üé≠",Nature:"üåø",Travel:"‚úàÔ∏è"};function o(r){return i[r]||"‚ùì"}return n.$$set=r=>{"currentQuestion"in r&&l(0,t=r.currentQuestion),"state"in r&&l(1,s=r.state)},[t,s,o]}class bn extends ve{constructor(e){super(),pe(this,e,Rl,Ml,me,{currentQuestion:0,state:1})}}function Pt(n,e,l){const t=n.slice();return t[4]=e[l],t[6]=l,t}function qt(n,e,l){const t=n.slice();return t[7]=e[l],t[6]=l,t}function Ut(n,e,l){const t=n.slice();return t[4]=e[l],t[10]=l,t}function Dt(n,e,l){const t=n.slice();return t[11]=e[l],t[13]=l,t}function Ft(n){let e,l,t,s,i=n[0].lies,o=[];for(let r=0;r<i.length;r+=1)o[r]=Kt(qt(n,i,r));return{c(){e=d("div"),l=d("h3"),l.textContent="The Lies That Fooled You",t=E(),s=d("div");for(let r=0;r<o.length;r+=1)o[r].c();f(l,"class","lies-title svelte-ufutjc"),f(s,"class","lies-grid svelte-ufutjc"),f(e,"class","lies-section svelte-ufutjc")},m(r,c){P(r,e,c),a(e,l),a(e,t),a(e,s);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(s,null)},p(r,c){if(c&1){i=r[0].lies;let u;for(u=0;u<i.length;u+=1){const v=qt(r,i,u);o[u]?o[u].p(v,c):(o[u]=Kt(v),o[u].c(),o[u].m(s,null))}for(;u<o.length;u+=1)o[u].d(1);o.length=i.length}},d(r){r&&q(e),ce(o,r)}}}function Ht(n){let e;return{c(){e=T(",")},m(l,t){P(l,e,t)},d(l){l&&q(e)}}}function Vt(n){var v;let e,l=(((v=n[11].avatar)==null?void 0:v.emoji)||"üòÄ")+"",t,s,i=n[11].name+"",o,r,c,u=n[13]<(n[7].authors||[]).length-1&&Ht();return{c(){var g;e=d("span"),t=T(l),s=E(),o=T(i),r=E(),u&&u.c(),c=ln(),f(e,"class","author svelte-ufutjc"),O(e,"color",((g=n[11].avatar)==null?void 0:g.color)||"#666")},m(g,h){P(g,e,h),a(e,t),a(e,s),a(e,o),P(g,r,h),u&&u.m(g,h),P(g,c,h)},p(g,h){var p,b;h&1&&l!==(l=(((p=g[11].avatar)==null?void 0:p.emoji)||"üòÄ")+"")&&N(t,l),h&1&&i!==(i=g[11].name+"")&&N(o,i),h&1&&O(e,"color",((b=g[11].avatar)==null?void 0:b.color)||"#666"),g[13]<(g[7].authors||[]).length-1?u||(u=Ht(),u.c(),u.m(c.parentNode,c)):u&&(u.d(1),u=null)},d(g){g&&q(e),g&&q(r),u&&u.d(g),g&&q(c)}}}function $t(n){let e,l,t,s=n[7].voters,i=[];for(let o=0;o<s.length;o+=1)i[o]=Gt(Ut(n,s,o));return{c(){e=d("div"),l=d("span"),l.textContent="Fooled:",t=E();for(let o=0;o<i.length;o+=1)i[o].c();f(l,"class","voters-label svelte-ufutjc"),f(e,"class","voters svelte-ufutjc")},m(o,r){P(o,e,r),a(e,l),a(e,t);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(e,null)},p(o,r){if(r&1){s=o[7].voters;let c;for(c=0;c<s.length;c+=1){const u=Ut(o,s,c);i[c]?i[c].p(u,r):(i[c]=Gt(u),i[c].c(),i[c].m(e,null))}for(;c<i.length;c+=1)i[c].d(1);i.length=s.length}},d(o){o&&q(e),ce(i,o)}}}function Qt(n){let e;return{c(){e=T(",")},m(l,t){P(l,e,t)},d(l){l&&q(e)}}}function Gt(n){var v;let e,l=(((v=n[4].avatar)==null?void 0:v.emoji)||"üòÄ")+"",t,s,i=n[4].name+"",o,r,c,u=n[10]<n[7].voters.length-1&&Qt();return{c(){var g;e=d("span"),t=T(l),s=E(),o=T(i),r=E(),u&&u.c(),c=ln(),f(e,"class","voter svelte-ufutjc"),O(e,"color",((g=n[4].avatar)==null?void 0:g.color)||"#666")},m(g,h){P(g,e,h),a(e,t),a(e,s),a(e,o),P(g,r,h),u&&u.m(g,h),P(g,c,h)},p(g,h){var p,b;h&1&&l!==(l=(((p=g[4].avatar)==null?void 0:p.emoji)||"üòÄ")+"")&&N(t,l),h&1&&i!==(i=g[4].name+"")&&N(o,i),h&1&&O(e,"color",((b=g[4].avatar)==null?void 0:b.color)||"#666"),g[10]<g[7].voters.length-1?u||(u=Qt(),u.c(),u.m(c.parentNode,c)):u&&(u.d(1),u=null)},d(g){g&&q(e),g&&q(r),u&&u.d(g),g&&q(c)}}}function Kt(n){let e,l,t,s,i,o,r=n[7].votes+"",c,u,v=n[7].votes!==1?"s":"",g,h,p,b,m=n[7].points+"",B,C,y,_,w,S=n[7].text+"",A,z,I,F,L,k,M,j,U,V=n[7].authors||[],D=[];for(let R=0;R<V.length;R+=1)D[R]=Vt(Dt(n,V,R));let Q=n[7].voters&&n[7].voters.length>0&&$t(n);return{c(){e=d("div"),l=d("div"),t=d("div"),s=d("span"),s.textContent="üó≥Ô∏è",i=E(),o=d("span"),c=T(r),u=T(" vote"),g=T(v),h=E(),p=d("div"),b=T("+"),B=T(m),C=T("pts"),y=E(),_=d("div"),w=T('"'),A=T(S),z=T('"'),I=E(),F=d("div"),L=d("div"),k=d("span"),k.textContent="By:",M=E();for(let R=0;R<D.length;R+=1)D[R].c();j=E(),Q&&Q.c(),U=E(),f(s,"class","votes-icon svelte-ufutjc"),f(o,"class","votes-count"),f(t,"class","lie-votes svelte-ufutjc"),f(p,"class","lie-points svelte-ufutjc"),f(l,"class","lie-header svelte-ufutjc"),f(_,"class","lie-text svelte-ufutjc"),f(k,"class","authors-label svelte-ufutjc"),f(L,"class","authors svelte-ufutjc"),f(F,"class","lie-attribution svelte-ufutjc"),f(e,"class","lie-card svelte-ufutjc"),O(e,"animation-delay",n[6]*.15+"s")},m(R,H){P(R,e,H),a(e,l),a(l,t),a(t,s),a(t,i),a(t,o),a(o,c),a(o,u),a(o,g),a(l,h),a(l,p),a(p,b),a(p,B),a(p,C),a(e,y),a(e,_),a(_,w),a(_,A),a(_,z),a(e,I),a(e,F),a(F,L),a(L,k),a(L,M);for(let G=0;G<D.length;G+=1)D[G]&&D[G].m(L,null);a(F,j),Q&&Q.m(F,null),a(e,U)},p(R,H){if(H&1&&r!==(r=R[7].votes+"")&&N(c,r),H&1&&v!==(v=R[7].votes!==1?"s":"")&&N(g,v),H&1&&m!==(m=R[7].points+"")&&N(B,m),H&1&&S!==(S=R[7].text+"")&&N(A,S),H&1){V=R[7].authors||[];let G;for(G=0;G<V.length;G+=1){const x=Dt(R,V,G);D[G]?D[G].p(x,H):(D[G]=Vt(x),D[G].c(),D[G].m(L,null))}for(;G<D.length;G+=1)D[G].d(1);D.length=V.length}R[7].voters&&R[7].voters.length>0?Q?Q.p(R,H):(Q=$t(R),Q.c(),Q.m(F,null)):Q&&(Q.d(1),Q=null)},d(R){R&&q(e),ce(D,R),Q&&Q.d()}}}function Jt(n){let e,l,t,s,i=n[0].truthVoters,o=[];for(let r=0;r<i.length;r+=1)o[r]=Yt(Pt(n,i,r));return{c(){e=d("div"),l=d("h3"),l.textContent="Truth Detectives üïµÔ∏è",t=E(),s=d("div");for(let r=0;r<o.length;r+=1)o[r].c();f(l,"class","truth-voters-title svelte-ufutjc"),f(s,"class","truth-voters svelte-ufutjc"),f(e,"class","truth-voters-section svelte-ufutjc")},m(r,c){P(r,e,c),a(e,l),a(e,t),a(e,s);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(s,null)},p(r,c){if(c&1){i=r[0].truthVoters;let u;for(u=0;u<i.length;u+=1){const v=Pt(r,i,u);o[u]?o[u].p(v,c):(o[u]=Yt(v),o[u].c(),o[u].m(s,null))}for(;u<o.length;u+=1)o[u].d(1);o.length=i.length}},d(r){r&&q(e),ce(o,r)}}}function Yt(n){var C;let e,l,t,s=(((C=n[4].avatar)==null?void 0:C.emoji)||"üïµÔ∏è")+"",i,o,r,c=n[4].name+"",u,v,g,h,p=(n[0].truthPoints||1e3)+"",b,m,B;return{c(){var y;e=d("div"),l=d("div"),t=d("span"),i=T(s),o=E(),r=d("div"),u=T(c),v=E(),g=d("div"),h=T("+"),b=T(p),m=T(" pts"),B=E(),f(t,"class","voter-emoji svelte-ufutjc"),f(l,"class","voter-avatar svelte-ufutjc"),O(l,"background-color",((y=n[4].avatar)==null?void 0:y.color)||"#667eea"),f(r,"class","voter-name svelte-ufutjc"),f(g,"class","voter-bonus svelte-ufutjc"),f(e,"class","truth-voter svelte-ufutjc"),O(e,"animation-delay",n[6]*.1+"s")},m(y,_){P(y,e,_),a(e,l),a(l,t),a(t,i),a(e,o),a(e,r),a(r,u),a(e,v),a(e,g),a(g,h),a(g,b),a(g,m),a(e,B)},p(y,_){var w,S;_&1&&s!==(s=(((w=y[4].avatar)==null?void 0:w.emoji)||"üïµÔ∏è")+"")&&N(i,s),_&1&&O(l,"background-color",((S=y[4].avatar)==null?void 0:S.color)||"#667eea"),_&1&&c!==(c=y[4].name+"")&&N(u,c),_&1&&p!==(p=(y[0].truthPoints||1e3)+"")&&N(b,p)},d(y){y&&q(e)}}}function Ll(n){let e,l,t,s,i=n[1](n[0].category)+"",o,r,c,u=n[0].category+"",v,g,h,p=n[0].question+"",b,m,B,C,y,_,w,S=n[0].truth.answer+"",A,z,I,F,L,k=n[0].lies&&n[0].lies.length>0&&Ft(n),M=n[0].truthVoters&&n[0].truthVoters.length>0&&Jt(n);return{c(){e=d("div"),l=d("div"),t=d("div"),s=d("span"),o=T(i),r=E(),c=d("span"),v=T(u),g=E(),h=d("h2"),b=T(p),m=E(),B=d("div"),C=d("div"),y=d("div"),y.textContent="The Truth",_=E(),w=d("div"),A=T(S),z=E(),I=d("div"),I.textContent="üéØ",F=E(),k&&k.c(),L=E(),M&&M.c(),f(s,"class","category-emoji svelte-ufutjc"),f(c,"class","category-name"),f(t,"class","category-badge svelte-ufutjc"),f(h,"class","question-text svelte-ufutjc"),f(l,"class","question-section svelte-ufutjc"),f(y,"class","answer-label svelte-ufutjc"),f(w,"class","answer-text svelte-ufutjc"),f(I,"class","answer-celebration svelte-ufutjc"),f(C,"class","answer-card svelte-ufutjc"),f(B,"class","answer-reveal svelte-ufutjc"),f(e,"class","reveal-container svelte-ufutjc")},m(j,U){P(j,e,U),a(e,l),a(l,t),a(t,s),a(s,o),a(t,r),a(t,c),a(c,v),a(l,g),a(l,h),a(h,b),a(e,m),a(e,B),a(B,C),a(C,y),a(C,_),a(C,w),a(w,A),a(C,z),a(C,I),a(e,F),k&&k.m(e,null),a(e,L),M&&M.m(e,null)},p(j,[U]){U&1&&i!==(i=j[1](j[0].category)+"")&&N(o,i),U&1&&u!==(u=j[0].category+"")&&N(v,u),U&1&&p!==(p=j[0].question+"")&&N(b,p),U&1&&S!==(S=j[0].truth.answer+"")&&N(A,S),j[0].lies&&j[0].lies.length>0?k?k.p(j,U):(k=Ft(j),k.c(),k.m(e,L)):k&&(k.d(1),k=null),j[0].truthVoters&&j[0].truthVoters.length>0?M?M.p(j,U):(M=Jt(j),M.c(),M.m(e,null)):M&&(M.d(1),M=null)},i:X,o:X,d(j){j&&q(e),k&&k.d(),M&&M.d()}}}function Nl(n,e,l){let t,{data:s}=e;const i={History:"üìö",Animals:"üêæ",Food:"üçé",Sports:"‚öΩ",Geography:"üåç",Music:"üéµ",Science:"üî¨",Literature:"üìñ",Inventions:"üí°",TV:"üì∫",Art:"üé®",Language:"üó£Ô∏è",Movies:"üé¨",Tech:"üíª",Fashion:"üëó",Mythology:"‚ö°",Games:"üéÆ",Space:"üöÄ",Comics:"üí•",Misc:"üéØ",Bonus:"‚ú®",Entertainment:"üé≠",Nature:"üåø",Travel:"‚úàÔ∏è"};function o(r){return i[r]||"‚ùì"}return n.$$set=r=>{"data"in r&&l(2,s=r.data)},n.$$.update=()=>{n.$$.dirty&4&&l(0,t=s||{category:"Unknown",question:"Loading...",truth:{answer:"Loading..."},lies:[],truthVoters:[],truthPoints:1e3})},[t,o,s]}class Il extends ve{constructor(e){super(),pe(this,e,Nl,Ll,me,{data:2})}}function Ot(n,e,l){const t=n.slice();return t[3]=e[l],t[5]=l,t}function Wt(n){let e,l,t=n[3].lastLie+"",s,i,o=n[3].likesReceived&&n[3].likesReceived>0&&Zt();return{c(){e=d("div"),l=T('"'),s=T(t),i=T(`" 
                  `),o&&o.c(),f(e,"class","last-lie svelte-4jyf6x")},m(r,c){P(r,e,c),a(e,l),a(e,s),a(e,i),o&&o.m(e,null)},p(r,c){c&2&&t!==(t=r[3].lastLie+"")&&N(s,t),r[3].likesReceived&&r[3].likesReceived>0?o||(o=Zt(),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},d(r){r&&q(e),o&&o.d()}}}function Zt(n){let e;return{c(){e=d("span"),e.textContent="üëçüèª",f(e,"class","likes-indicator svelte-4jyf6x")},m(l,t){P(l,e,t)},d(l){l&&q(e)}}}function Xt(n){let e,l,t=n[3].pointsThisRound+"",s;return{c(){e=d("div"),l=T("+"),s=T(t),f(e,"class","points-gained svelte-4jyf6x")},m(i,o){P(i,e,o),a(e,l),a(e,s)},p(i,o){o&2&&t!==(t=i[3].pointsThisRound+"")&&N(s,t)},d(i){i&&q(e)}}}function xt(n){var j;let e,l,t,s=Dl(n[5]+1)+"",i,o,r,c,u,v=(((j=n[3].avatar)==null?void 0:j.emoji)||"üòÄ")+"",g,h,p,b,m=n[3].name+"",B,C,y,_,w,S=n[3].points+"",A,z,I,F,L,k=n[3].lastLie&&Wt(n),M=n[3].pointsThisRound&&Xt(n);return{c(){var U;e=d("div"),l=d("div"),t=d("span"),i=T(s),o=E(),r=d("div"),c=d("div"),u=d("span"),g=T(v),h=E(),p=d("div"),b=d("div"),B=T(m),C=E(),k&&k.c(),y=E(),_=d("div"),w=d("div"),A=T(S),z=E(),I=d("div"),I.textContent="points",F=E(),M&&M.c(),L=E(),f(t,"class","rank-display svelte-4jyf6x"),f(l,"class","player-rank svelte-4jyf6x"),f(u,"class","player-emoji svelte-4jyf6x"),f(c,"class","player-avatar svelte-4jyf6x"),O(c,"background-color",((U=n[3].avatar)==null?void 0:U.color)||"#667eea"),f(b,"class","player-name svelte-4jyf6x"),f(p,"class","player-details svelte-4jyf6x"),f(r,"class","player-info svelte-4jyf6x"),f(w,"class","points-total svelte-4jyf6x"),f(I,"class","points-label svelte-4jyf6x"),f(_,"class","player-stats svelte-4jyf6x"),f(e,"class","player-row "+Fl(n[5]+1)+" svelte-4jyf6x"),O(e,"animation-delay",n[5]*.1+"s")},m(U,V){P(U,e,V),a(e,l),a(l,t),a(t,i),a(e,o),a(e,r),a(r,c),a(c,u),a(u,g),a(r,h),a(r,p),a(p,b),a(b,B),a(p,C),k&&k.m(p,null),a(e,y),a(e,_),a(_,w),a(w,A),a(_,z),a(_,I),a(_,F),M&&M.m(_,null),a(e,L)},p(U,V){var D,Q;V&2&&v!==(v=(((D=U[3].avatar)==null?void 0:D.emoji)||"üòÄ")+"")&&N(g,v),V&2&&O(c,"background-color",((Q=U[3].avatar)==null?void 0:Q.color)||"#667eea"),V&2&&m!==(m=U[3].name+"")&&N(B,m),U[3].lastLie?k?k.p(U,V):(k=Wt(U),k.c(),k.m(p,null)):k&&(k.d(1),k=null),V&2&&S!==(S=U[3].points+"")&&N(A,S),U[3].pointsThisRound?M?M.p(U,V):(M=Xt(U),M.c(),M.m(_,null)):M&&(M.d(1),M=null)},d(U){U&&q(e),k&&k.d(),M&&M.d()}}}function Pl(n){let e;return{c(){e=T("Preparing final results...")},m(l,t){P(l,e,t)},p:X,d(l){l&&q(e)}}}function ql(n){let e,l=n[0].round+1+"",t,s;return{c(){e=T("Get ready for Round "),t=T(l),s=T("...")},m(i,o){P(i,e,o),P(i,t,o),P(i,s,o)},p(i,o){o&1&&l!==(l=i[0].round+1+"")&&N(t,l)},d(i){i&&q(e),i&&q(t),i&&q(s)}}}function Ul(n){let e,l,t,s,i=(n[0].question||1)+"",o,r,c,u,v=n[2]()+"",g,h,p,b,m,B,C,y,_,w,S,A=n[1],z=[];for(let k=0;k<A.length;k+=1)z[k]=xt(Ot(n,A,k));function I(k,M){return k[0].round<k[0].totalRounds?ql:Pl}let F=I(n),L=F(n);return{c(){e=d("div"),l=d("div"),t=d("h2"),s=T("Question "),o=T(i),r=T(" Complete!"),c=E(),u=d("p"),g=T(v),h=E(),p=d("div"),b=d("div"),b.innerHTML='<h3 class="leaderboard-title svelte-4jyf6x">üèÜ Leaderboard</h3>',m=E(),B=d("div");for(let k=0;k<z.length;k+=1)z[k].c();C=E(),y=d("div"),_=d("div"),_.innerHTML=`<span class="svelte-4jyf6x"></span> 
      <span class="svelte-4jyf6x"></span> 
      <span class="svelte-4jyf6x"></span>`,w=E(),S=d("p"),L.c(),f(t,"class","scoreboard-title svelte-4jyf6x"),f(u,"class","round-progress svelte-4jyf6x"),f(l,"class","scoreboard-header svelte-4jyf6x"),f(b,"class","leaderboard-header svelte-4jyf6x"),f(B,"class","players-list svelte-4jyf6x"),f(p,"class","leaderboard svelte-4jyf6x"),f(_,"class","continue-dots svelte-4jyf6x"),f(S,"class","svelte-4jyf6x"),f(y,"class","continue-indicator svelte-4jyf6x"),f(e,"class","scoreboard-container svelte-4jyf6x")},m(k,M){P(k,e,M),a(e,l),a(l,t),a(t,s),a(t,o),a(t,r),a(l,c),a(l,u),a(u,g),a(e,h),a(e,p),a(p,b),a(p,m),a(p,B);for(let j=0;j<z.length;j+=1)z[j]&&z[j].m(B,null);a(e,C),a(e,y),a(y,_),a(y,w),a(y,S),L.m(S,null)},p(k,[M]){if(M&1&&i!==(i=(k[0].question||1)+"")&&N(o,i),M&1&&v!==(v=k[2]()+"")&&N(g,v),M&2){A=k[1];let j;for(j=0;j<A.length;j+=1){const U=Ot(k,A,j);z[j]?z[j].p(U,M):(z[j]=xt(U),z[j].c(),z[j].m(B,null))}for(;j<z.length;j+=1)z[j].d(1);z.length=A.length}F===(F=I(k))&&L?L.p(k,M):(L.d(1),L=F(k),L&&(L.c(),L.m(S,null)))},i:X,o:X,d(k){k&&q(e),ce(z,k),L.d()}}}function Dl(n){switch(n){case 1:return"ü•á";case 2:return"ü•à";case 3:return"ü•â";default:return`#${n}`}}function Fl(n){switch(n){case 1:return"rank-first";case 2:return"rank-second";case 3:return"rank-third";default:return"rank-other"}}function Hl(n,e,l){let t,{data:s}=e;const i=()=>{const o=s.round||1,r=s.question||1,c=s.totalRounds||3,v=(s.questionsPerRound||8)-r,g=c-o;let h="";return v>0&&(h+=`${v} question${v!==1?"s":""} left in round`),g>0?(h&&(h+=" ‚Ä¢ "),g===1?h+="Next up: The Big Lie!":h+=`${g} round${g!==1?"s":""} until The Big Lie`):o===c&&(h&&(h+=" ‚Ä¢ "),h+="The Big Lie!"),h||"Final question complete!"};return n.$$set=o=>{"data"in o&&l(0,s=o.data)},n.$$.update=()=>{n.$$.dirty&1&&l(1,t=[...(s==null?void 0:s.players)||[]].sort((o,r)=>r.points-o.points))},[s,t,i]}class Vl extends ve{constructor(e){super(),pe(this,e,Hl,Ul,me,{data:0})}}function en(n,e,l){const t=n.slice();return t[2]=e[l],t[4]=l,t}function tn(n){let e,l,t,s=Ql(n[4]+1)+"",i,o,r,c=n[4]+1+"",u,v,g,h,p,b=n[2].avatar.emoji+"",m,B,C,y,_=n[2].name+"",w,S,A,z,I,F=(n[2].liesSubmitted||0)+"",L,k,M,j,U,V=(n[2].truthsFound||0)+"",D,Q,R,H,G,x=n[2].points+"",W,ie,ne,te;return{c(){e=d("div"),l=d("div"),t=d("span"),i=T(s),o=E(),r=d("span"),u=T(c),v=E(),g=d("div"),h=d("div"),p=d("span"),m=T(b),B=E(),C=d("div"),y=d("div"),w=T(_),S=E(),A=d("div"),z=d("span"),I=T("ü§• "),L=T(F),k=T(" lies"),M=E(),j=d("span"),U=T("üéØ "),D=T(V),Q=T(" truths"),R=E(),H=d("div"),G=d("div"),W=T(x),ie=E(),ne=d("div"),ne.textContent="pts",te=E(),f(t,"class","rank-icon svelte-2zrfpu"),f(r,"class","rank-number svelte-2zrfpu"),f(l,"class","standing-rank svelte-2zrfpu"),f(p,"class","standing-emoji svelte-2zrfpu"),f(h,"class","standing-avatar svelte-2zrfpu"),O(h,"background-color",n[2].avatar.color),f(y,"class","standing-name svelte-2zrfpu"),f(z,"class","lies-stat"),f(j,"class","truth-stat"),f(A,"class","standing-stats svelte-2zrfpu"),f(C,"class","standing-info"),f(g,"class","standing-player svelte-2zrfpu"),f(G,"class","points-value svelte-2zrfpu"),f(ne,"class","points-label svelte-2zrfpu"),f(H,"class","standing-points svelte-2zrfpu"),f(e,"class","standing-card "+Gl(n[4]+1)+" svelte-2zrfpu"),O(e,"animation-delay",n[4]*.15+"s")},m($,Y){P($,e,Y),a(e,l),a(l,t),a(t,i),a(l,o),a(l,r),a(r,u),a(e,v),a(e,g),a(g,h),a(h,p),a(p,m),a(g,B),a(g,C),a(C,y),a(y,w),a(C,S),a(C,A),a(A,z),a(z,I),a(z,L),a(z,k),a(A,M),a(A,j),a(j,U),a(j,D),a(j,Q),a(e,R),a(e,H),a(H,G),a(G,W),a(H,ie),a(H,ne),a(e,te)},p($,Y){Y&2&&b!==(b=$[2].avatar.emoji+"")&&N(m,b),Y&2&&O(h,"background-color",$[2].avatar.color),Y&2&&_!==(_=$[2].name+"")&&N(w,_),Y&2&&F!==(F=($[2].liesSubmitted||0)+"")&&N(L,F),Y&2&&V!==(V=($[2].truthsFound||0)+"")&&N(D,V),Y&2&&x!==(x=$[2].points+"")&&N(W,x)},d($){$&&q(e)}}}function $l(n){let e,l,t,s,i,o,r,c,u,v=n[0].winner.avatar.emoji+"",g,h,p,b=n[0].winner.name+"",m,B,C,y,_,w=n[0].winner.points+"",S,A,z,I,F,L,k,M,j,U,V,D,Q,R,H,G,x,W,ie=n[0].totalRounds+"",ne,te,$,Y,K,he,ht,Ae,Me=(n[0].totalQuestions||0)+"",Ze,vt,Re,pt,ue,Le,mt,Ne,Ie=(n[0].totalLies||0)+"",Xe,_t,Pe,yt,fe,qe,wt,Ue,De=(n[0].totalPlayers||n[1].length)+"",xe,bt,Fe,Ct,He,be=n[1],ee=[];for(let J=0;J<be.length;J+=1)ee[J]=tn(en(n,be,J));return{c(){e=d("div"),l=d("div"),l.innerHTML=`<div class="celebration-icon svelte-2zrfpu">üéä</div> 
    <h1 class="game-complete-title svelte-2zrfpu">Game Complete!</h1> 
    <div class="confetti svelte-2zrfpu"></div>`,t=E(),s=d("div"),i=d("div"),o=d("div"),o.textContent="üëë",r=E(),c=d("div"),u=d("span"),g=T(v),h=E(),p=d("h2"),m=T(b),B=E(),C=d("div"),C.textContent="Champion Liar!",y=E(),_=d("div"),S=T(w),A=T(" points"),z=E(),I=d("div"),I.innerHTML=`<div class="sparkle svelte-2zrfpu">‚ú®</div> 
        <div class="sparkle svelte-2zrfpu">‚ú®</div> 
        <div class="sparkle svelte-2zrfpu">‚ú®</div>`,F=E(),L=d("div"),k=d("h3"),k.textContent="Final Standings",M=E(),j=d("div");for(let J=0;J<ee.length;J+=1)ee[J].c();U=E(),V=d("div"),D=d("h3"),D.textContent="Game Statistics",Q=E(),R=d("div"),H=d("div"),G=d("div"),G.textContent="üéÆ",x=E(),W=d("div"),ne=T(ie),te=E(),$=d("div"),$.textContent="Rounds Played",Y=E(),K=d("div"),he=d("div"),he.textContent="‚ùì",ht=E(),Ae=d("div"),Ze=T(Me),vt=E(),Re=d("div"),Re.textContent="Questions Asked",pt=E(),ue=d("div"),Le=d("div"),Le.textContent="ü§•",mt=E(),Ne=d("div"),Xe=T(Ie),_t=E(),Pe=d("div"),Pe.textContent="Lies Created",yt=E(),fe=d("div"),qe=d("div"),qe.textContent="üë•",wt=E(),Ue=d("div"),xe=T(De),bt=E(),Fe=d("div"),Fe.textContent="Players",Ct=E(),He=d("div"),He.innerHTML=`<div class="thanks-message svelte-2zrfpu"><h3 class="svelte-2zrfpu">Thanks for Playing Lie-Ability! üéâ</h3> 
      <p class="svelte-2zrfpu">Hope you had a blast creating lies and hunting for truth!</p></div> 
    
    <div class="play-again-hint svelte-2zrfpu"><p class="svelte-2zrfpu">Want to play again? Refresh the page to start a new game!</p></div>`,f(l,"class","celebration-header svelte-2zrfpu"),f(o,"class","winner-crown svelte-2zrfpu"),f(u,"class","winner-emoji svelte-2zrfpu"),f(c,"class","winner-avatar svelte-2zrfpu"),O(c,"background-color",n[0].winner.avatar.color),f(p,"class","winner-name svelte-2zrfpu"),f(C,"class","winner-title svelte-2zrfpu"),f(_,"class","winner-points svelte-2zrfpu"),f(I,"class","winner-celebration svelte-2zrfpu"),f(i,"class","winner-card svelte-2zrfpu"),f(s,"class","winner-spotlight svelte-2zrfpu"),f(k,"class","standings-title svelte-2zrfpu"),f(j,"class","standings-grid svelte-2zrfpu"),f(L,"class","final-standings svelte-2zrfpu"),f(D,"class","stats-title svelte-2zrfpu"),f(G,"class","stat-icon svelte-2zrfpu"),f(W,"class","stat-value svelte-2zrfpu"),f($,"class","stat-label svelte-2zrfpu"),f(H,"class","stat-card svelte-2zrfpu"),f(he,"class","stat-icon svelte-2zrfpu"),f(Ae,"class","stat-value svelte-2zrfpu"),f(Re,"class","stat-label svelte-2zrfpu"),f(K,"class","stat-card svelte-2zrfpu"),f(Le,"class","stat-icon svelte-2zrfpu"),f(Ne,"class","stat-value svelte-2zrfpu"),f(Pe,"class","stat-label svelte-2zrfpu"),f(ue,"class","stat-card svelte-2zrfpu"),f(qe,"class","stat-icon svelte-2zrfpu"),f(Ue,"class","stat-value svelte-2zrfpu"),f(Fe,"class","stat-label svelte-2zrfpu"),f(fe,"class","stat-card svelte-2zrfpu"),f(R,"class","stats-grid svelte-2zrfpu"),f(V,"class","game-stats svelte-2zrfpu"),f(He,"class","play-again-section svelte-2zrfpu"),f(e,"class","game-end-container svelte-2zrfpu")},m(J,se){P(J,e,se),a(e,l),a(e,t),a(e,s),a(s,i),a(i,o),a(i,r),a(i,c),a(c,u),a(u,g),a(i,h),a(i,p),a(p,m),a(i,B),a(i,C),a(i,y),a(i,_),a(_,S),a(_,A),a(i,z),a(i,I),a(e,F),a(e,L),a(L,k),a(L,M),a(L,j);for(let Z=0;Z<ee.length;Z+=1)ee[Z]&&ee[Z].m(j,null);a(e,U),a(e,V),a(V,D),a(V,Q),a(V,R),a(R,H),a(H,G),a(H,x),a(H,W),a(W,ne),a(H,te),a(H,$),a(R,Y),a(R,K),a(K,he),a(K,ht),a(K,Ae),a(Ae,Ze),a(K,vt),a(K,Re),a(R,pt),a(R,ue),a(ue,Le),a(ue,mt),a(ue,Ne),a(Ne,Xe),a(ue,_t),a(ue,Pe),a(R,yt),a(R,fe),a(fe,qe),a(fe,wt),a(fe,Ue),a(Ue,xe),a(fe,bt),a(fe,Fe),a(e,Ct),a(e,He)},p(J,[se]){if(se&1&&v!==(v=J[0].winner.avatar.emoji+"")&&N(g,v),se&1&&O(c,"background-color",J[0].winner.avatar.color),se&1&&b!==(b=J[0].winner.name+"")&&N(m,b),se&1&&w!==(w=J[0].winner.points+"")&&N(S,w),se&2){be=J[1];let Z;for(Z=0;Z<be.length;Z+=1){const Et=en(J,be,Z);ee[Z]?ee[Z].p(Et,se):(ee[Z]=tn(Et),ee[Z].c(),ee[Z].m(j,null))}for(;Z<ee.length;Z+=1)ee[Z].d(1);ee.length=be.length}se&1&&ie!==(ie=J[0].totalRounds+"")&&N(ne,ie),se&1&&Me!==(Me=(J[0].totalQuestions||0)+"")&&N(Ze,Me),se&1&&Ie!==(Ie=(J[0].totalLies||0)+"")&&N(Xe,Ie),se&3&&De!==(De=(J[0].totalPlayers||J[1].length)+"")&&N(xe,De)},i:X,o:X,d(J){J&&q(e),ce(ee,J)}}}function Ql(n){switch(n){case 1:return"üèÜ";case 2:return"ü•à";case 3:return"ü•â";default:return`#${n}`}}function Gl(n){switch(n){case 1:return"winner";case 2:return"second";case 3:return"third";default:return"other"}}function Kl(n,e,l){let t,{data:s}=e;return n.$$set=i=>{"data"in i&&l(0,s=i.data)},n.$$.update=()=>{n.$$.dirty&1&&l(1,t=[...s.finalStandings].sort((i,o)=>o.points-i.points))},[s,t]}class Jl extends ve{constructor(e){super(),pe(this,e,Kl,$l,me,{data:0})}}function nn(n){let e,l,t,s;return{c(){e=d("div"),l=d("div"),t=d("span"),s=T(n[2]),f(t,"class","timer-text svelte-6p6yxa"),f(l,"class","timer-circle svelte-6p6yxa"),f(e,"class","timer-display svelte-6p6yxa"),Qe(e,"urgent",n[2]<=5)},m(i,o){P(i,e,o),a(e,l),a(l,t),a(t,s)},p(i,o){o&4&&N(s,i[2]),o&4&&Qe(e,"urgent",i[2]<=5)},d(i){i&&q(e)}}}function Yl(n){let e,l;return e=new Jl({props:{data:n[7]}}),{c(){_e(e.$$.fragment)},m(t,s){ye(e,t,s),l=!0},p(t,s){const i={};s&128&&(i.data=t[7]),e.$set(i)},i(t){l||(ae(e.$$.fragment,t),l=!0)},o(t){re(e.$$.fragment,t),l=!1},d(t){we(e,t)}}}function Ol(n){let e,l;return e=new Vl({props:{data:n[6]}}),{c(){_e(e.$$.fragment)},m(t,s){ye(e,t,s),l=!0},p(t,s){const i={};s&64&&(i.data=t[6]),e.$set(i)},i(t){l||(ae(e.$$.fragment,t),l=!0)},o(t){re(e.$$.fragment,t),l=!1},d(t){we(e,t)}}}function Wl(n){let e,l;return e=new Il({props:{data:n[5]}}),{c(){_e(e.$$.fragment)},m(t,s){ye(e,t,s),l=!0},p(t,s){const i={};s&32&&(i.data=t[5]),e.$set(i)},i(t){l||(ae(e.$$.fragment,t),l=!0)},o(t){re(e.$$.fragment,t),l=!1},d(t){we(e,t)}}}function Zl(n){let e,l;return e=new bn({props:{currentQuestion:n[1],state:n[0].state}}),{c(){_e(e.$$.fragment)},m(t,s){ye(e,t,s),l=!0},p(t,s){const i={};s&2&&(i.currentQuestion=t[1]),s&1&&(i.state=t[0].state),e.$set(i)},i(t){l||(ae(e.$$.fragment,t),l=!0)},o(t){re(e.$$.fragment,t),l=!1},d(t){we(e,t)}}}function Xl(n){let e,l;return e=new bn({props:{currentQuestion:n[1],state:n[0].state}}),{c(){_e(e.$$.fragment)},m(t,s){ye(e,t,s),l=!0},p(t,s){const i={};s&2&&(i.currentQuestion=t[1]),s&1&&(i.state=t[0].state),e.$set(i)},i(t){l||(ae(e.$$.fragment,t),l=!0)},o(t){re(e.$$.fragment,t),l=!1},d(t){we(e,t)}}}function xl(n){let e,l;return e=new Sl({props:{currentQuestion:n[1]}}),{c(){_e(e.$$.fragment)},m(t,s){ye(e,t,s),l=!0},p(t,s){const i={};s&2&&(i.currentQuestion=t[1]),e.$set(i)},i(t){l||(ae(e.$$.fragment,t),l=!0)},o(t){re(e.$$.fragment,t),l=!1},d(t){we(e,t)}}}function es(n){let e,l;return e=new kl({props:{gameState:n[0],qrCodeUrl:n[3],serverUrl:n[4],onStart:n[8]}}),{c(){_e(e.$$.fragment)},m(t,s){ye(e,t,s),l=!0},p(t,s){const i={};s&1&&(i.gameState=t[0]),s&8&&(i.qrCodeUrl=t[3]),s&16&&(i.serverUrl=t[4]),e.$set(i)},i(t){l||(ae(e.$$.fragment,t),l=!0)},o(t){re(e.$$.fragment,t),l=!1},d(t){we(e,t)}}}function ts(n){let e,l,t,s,i,o,r=n[2]>0&&nn(n);const c=[es,xl,Xl,Zl,Wl,Ol,Yl],u=[];function v(g,h){return g[0].state==="lobby"?0:g[0].state==="category_selection"?1:g[0].state==="question_reading"||g[0].state==="lie_submission"?2:g[0].state==="option_selection"?3:g[0].state==="truth_reveal"?4:g[0].state==="scoreboard"?5:g[0].state==="game_ended"?6:-1}return~(s=v(n))&&(i=u[s]=c[s](n)),{c(){e=d("main"),r&&r.c(),l=E(),t=d("div"),i&&i.c(),f(t,"class","game-content svelte-6p6yxa"),f(e,"class","host-container svelte-6p6yxa")},m(g,h){P(g,e,h),r&&r.m(e,null),a(e,l),a(e,t),~s&&u[s].m(t,null),o=!0},p(g,[h]){g[2]>0?r?r.p(g,h):(r=nn(g),r.c(),r.m(e,l)):r&&(r.d(1),r=null);let p=s;s=v(g),s===p?~s&&u[s].p(g,h):(i&&(Sn(),re(u[p],1,1,()=>{u[p]=null}),kn()),~s?(i=u[s],i?i.p(g,h):(i=u[s]=c[s](g),i.c()),ae(i,1),i.m(t,null)):i=null)},i(g){o||(ae(i),o=!0)},o(g){re(i),o=!1},d(g){g&&q(e),r&&r.d(),~s&&u[s].d()}}}function ns(n,e,l){let t,s={state:"lobby",players:[],currentRound:1,totalRounds:3,currentQuestion:1},i=null,o=0,r="",c="",u=null,v={players:[]},g=null;async function h(){try{const B=await(await fetch("/api/server-info")).json();l(4,c=B.playerUrl),l(3,r=await Ce.toDataURL(c))}catch(m){console.error("Failed to get server info:",m),l(4,c=window.location.origin+"/player"),l(3,r=await Ce.toDataURL(c))}}function p(){t=jn(),t.on("connect",()=>{console.log("Host connected to server"),t.emit("request_game_state")}),t.on("game_state_update",m=>{l(0,s={...m})}),t.on("category_selection_start",m=>{l(0,s={...s,state:"category_selection"}),l(1,i={categories:m.categories,selectorName:m.selectorName})}),t.on("question_reading_start",m=>{l(0,s={...s,state:"question_reading"}),l(1,i=m)}),t.on("lie_submission_start",m=>{l(0,s={...s,state:"lie_submission"})}),t.on("option_selection_start",m=>{l(0,s={...s,state:"option_selection"}),l(1,i={...i,options:m.options})}),t.on("host_sub_step_info",m=>{m.state==="option_selection"&&m.options&&l(1,i={...i,options:m.options})}),t.on("truth_reveal_start",m=>{l(5,u=m||{category:"Unknown",question:"Loading...",truth:{answer:"Loading..."},lies:[],truthVoters:[],truthPoints:1e3}),l(0,s={...s,state:"truth_reveal"})}),t.on("scoreboard_update",m=>{l(6,v=m||{players:[]}),l(0,s={...s,state:"scoreboard"})}),t.on("game_ended",m=>{l(0,s={...s,state:"game_ended"}),l(7,g=m)}),t.on("timer_update",m=>{l(2,o=m.secondsRemaining)}),t.on("player_joined",m=>{m.gameState&&l(0,s=m.gameState)}),t.on("player_left",m=>{m.gameState&&l(0,s=m.gameState)})}function b(){t.emit("start_game")}return Tn(async()=>{await h(),p()}),Bn(()=>{t&&t.disconnect()}),n.$$.update=()=>{n.$$.dirty&1&&console.log("Host gameState changed:",s)},[s,i,o,r,c,u,v,g,b]}class ls extends ve{constructor(e){super(),pe(this,e,ns,ts,me,{})}}new ls({target:document.getElementById("app")});
