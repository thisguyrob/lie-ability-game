import{S as fe,i as de,s as ge,e as p,a as S,t as B,b as h,c as Ee,d as M,f as u,l as Ht,g as q,n as Y,h as R,j as le,k as K,m as Vt,o as Ke,p as Et,q as te,r as Qt,u as ne,v as $t,w as Gt,x as Kt,y as he,z as me,A as pe,B as Jt}from"./index-2606d1e0.js";var ie={},Yt=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},kt={},O={};let De;const Ot=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];O.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};O.getSymbolTotalCodewords=function(e){return Ot[e]};O.getBCHDigit=function(l){let e=0;for(;l!==0;)e++,l>>>=1;return e};O.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');De=e};O.isKanjiModeEnabled=function(){return typeof De<"u"};O.toSJIS=function(e){return De(e)};var Be={};(function(l){l.L={bit:1},l.M={bit:0},l.Q={bit:3},l.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return l.L;case"m":case"medium":return l.M;case"q":case"quartile":return l.Q;case"h":case"high":return l.H;default:throw new Error("Unknown EC Level: "+n)}}l.isValid=function(t){return t&&typeof t.bit<"u"&&t.bit>=0&&t.bit<4},l.from=function(t,o){if(l.isValid(t))return t;try{return e(t)}catch{return o}}})(Be);function Tt(){this.buffer=[],this.length=0}Tt.prototype={get:function(l){const e=Math.floor(l/8);return(this.buffer[e]>>>7-l%8&1)===1},put:function(l,e){for(let n=0;n<e;n++)this.putBit((l>>>e-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(l){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),l&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var Wt=Tt;function we(l){if(!l||l<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=l,this.data=new Uint8Array(l*l),this.reservedBit=new Uint8Array(l*l)}we.prototype.set=function(l,e,n,t){const o=l*this.size+e;this.data[o]=n,t&&(this.reservedBit[o]=!0)};we.prototype.get=function(l,e){return this.data[l*this.size+e]};we.prototype.xor=function(l,e,n){this.data[l*this.size+e]^=n};we.prototype.isReserved=function(l,e){return this.reservedBit[l*this.size+e]};var Zt=we,Bt={};(function(l){const e=O.getSymbolSize;l.getRowColCoords=function(t){if(t===1)return[];const o=Math.floor(t/7)+2,s=e(t),i=s===145?26:Math.ceil((s-13)/(2*o-2))*2,r=[s-7];for(let a=1;a<o-1;a++)r[a]=r[a-1]-i;return r.push(6),r.reverse()},l.getPositions=function(t){const o=[],s=l.getRowColCoords(t),i=s.length;for(let r=0;r<i;r++)for(let a=0;a<i;a++)r===0&&a===0||r===0&&a===i-1||r===i-1&&a===0||o.push([s[r],s[a]]);return o}})(Bt);var St={};const Xt=O.getSymbolSize,Je=7;St.getPositions=function(e){const n=Xt(e);return[[0,0],[n-Je,0],[0,n-Je]]};var At={};(function(l){l.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};l.isValid=function(o){return o!=null&&o!==""&&!isNaN(o)&&o>=0&&o<=7},l.from=function(o){return l.isValid(o)?parseInt(o,10):void 0},l.getPenaltyN1=function(o){const s=o.size;let i=0,r=0,a=0,c=null,d=null;for(let f=0;f<s;f++){r=a=0,c=d=null;for(let g=0;g<s;g++){let v=o.get(f,g);v===c?r++:(r>=5&&(i+=e.N1+(r-5)),c=v,r=1),v=o.get(g,f),v===d?a++:(a>=5&&(i+=e.N1+(a-5)),d=v,a=1)}r>=5&&(i+=e.N1+(r-5)),a>=5&&(i+=e.N1+(a-5))}return i},l.getPenaltyN2=function(o){const s=o.size;let i=0;for(let r=0;r<s-1;r++)for(let a=0;a<s-1;a++){const c=o.get(r,a)+o.get(r,a+1)+o.get(r+1,a)+o.get(r+1,a+1);(c===4||c===0)&&i++}return i*e.N2},l.getPenaltyN3=function(o){const s=o.size;let i=0,r=0,a=0;for(let c=0;c<s;c++){r=a=0;for(let d=0;d<s;d++)r=r<<1&2047|o.get(c,d),d>=10&&(r===1488||r===93)&&i++,a=a<<1&2047|o.get(d,c),d>=10&&(a===1488||a===93)&&i++}return i*e.N3},l.getPenaltyN4=function(o){let s=0;const i=o.data.length;for(let a=0;a<i;a++)s+=o.data[a];return Math.abs(Math.ceil(s*100/i/5)-10)*e.N4};function n(t,o,s){switch(t){case l.Patterns.PATTERN000:return(o+s)%2===0;case l.Patterns.PATTERN001:return o%2===0;case l.Patterns.PATTERN010:return s%3===0;case l.Patterns.PATTERN011:return(o+s)%3===0;case l.Patterns.PATTERN100:return(Math.floor(o/2)+Math.floor(s/3))%2===0;case l.Patterns.PATTERN101:return o*s%2+o*s%3===0;case l.Patterns.PATTERN110:return(o*s%2+o*s%3)%2===0;case l.Patterns.PATTERN111:return(o*s%3+(o+s)%2)%2===0;default:throw new Error("bad maskPattern:"+t)}}l.applyMask=function(o,s){const i=s.size;for(let r=0;r<i;r++)for(let a=0;a<i;a++)s.isReserved(a,r)||s.xor(a,r,n(o,a,r))},l.getBestMask=function(o,s){const i=Object.keys(l.Patterns).length;let r=0,a=1/0;for(let c=0;c<i;c++){s(c),l.applyMask(c,o);const d=l.getPenaltyN1(o)+l.getPenaltyN2(o)+l.getPenaltyN3(o)+l.getPenaltyN4(o);l.applyMask(c,o),d<a&&(a=d,r=c)}return r}})(At);var Se={};const ee=Be,be=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Ce=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Se.getBlocksCount=function(e,n){switch(n){case ee.L:return be[(e-1)*4+0];case ee.M:return be[(e-1)*4+1];case ee.Q:return be[(e-1)*4+2];case ee.H:return be[(e-1)*4+3];default:return}};Se.getTotalCodewordsCount=function(e,n){switch(n){case ee.L:return Ce[(e-1)*4+0];case ee.M:return Ce[(e-1)*4+1];case ee.Q:return Ce[(e-1)*4+2];case ee.H:return Ce[(e-1)*4+3];default:return}};var Mt={},Ae={};const ve=new Uint8Array(512),ke=new Uint8Array(256);(function(){let e=1;for(let n=0;n<255;n++)ve[n]=e,ke[e]=n,e<<=1,e&256&&(e^=285);for(let n=255;n<512;n++)ve[n]=ve[n-255]})();Ae.log=function(e){if(e<1)throw new Error("log("+e+")");return ke[e]};Ae.exp=function(e){return ve[e]};Ae.mul=function(e,n){return e===0||n===0?0:ve[ke[e]+ke[n]]};(function(l){const e=Ae;l.mul=function(t,o){const s=new Uint8Array(t.length+o.length-1);for(let i=0;i<t.length;i++)for(let r=0;r<o.length;r++)s[i+r]^=e.mul(t[i],o[r]);return s},l.mod=function(t,o){let s=new Uint8Array(t);for(;s.length-o.length>=0;){const i=s[0];for(let a=0;a<o.length;a++)s[a]^=e.mul(o[a],i);let r=0;for(;r<s.length&&s[r]===0;)r++;s=s.slice(r)}return s},l.generateECPolynomial=function(t){let o=new Uint8Array([1]);for(let s=0;s<t;s++)o=l.mul(o,new Uint8Array([1,e.exp(s)]));return o}})(Mt);const Rt=Mt;function Fe(l){this.genPoly=void 0,this.degree=l,this.degree&&this.initialize(this.degree)}Fe.prototype.initialize=function(e){this.degree=e,this.genPoly=Rt.generateECPolynomial(this.degree)};Fe.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(e.length+this.degree);n.set(e);const t=Rt.mod(n,this.genPoly),o=this.degree-t.length;if(o>0){const s=new Uint8Array(this.degree);return s.set(t,o),s}return t};var xt=Fe,Nt={},oe={},He={};He.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var Z={};const Lt="[0-9]+",en="[A-Z $%*+\\-./:]+";let _e="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";_e=_e.replace(/u/g,"\\u");const tn="(?:(?![A-Z0-9 $%*+\\-./:]|"+_e+`)(?:.|[\r
]))+`;Z.KANJI=new RegExp(_e,"g");Z.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Z.BYTE=new RegExp(tn,"g");Z.NUMERIC=new RegExp(Lt,"g");Z.ALPHANUMERIC=new RegExp(en,"g");const nn=new RegExp("^"+_e+"$"),ln=new RegExp("^"+Lt+"$"),on=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Z.testKanji=function(e){return nn.test(e)};Z.testNumeric=function(e){return ln.test(e)};Z.testAlphanumeric=function(e){return on.test(e)};(function(l){const e=He,n=Z;l.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},l.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},l.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},l.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},l.MIXED={bit:-1},l.getCharCountIndicator=function(s,i){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(i))throw new Error("Invalid version: "+i);return i>=1&&i<10?s.ccBits[0]:i<27?s.ccBits[1]:s.ccBits[2]},l.getBestModeForData=function(s){return n.testNumeric(s)?l.NUMERIC:n.testAlphanumeric(s)?l.ALPHANUMERIC:n.testKanji(s)?l.KANJI:l.BYTE},l.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},l.isValid=function(s){return s&&s.bit&&s.ccBits};function t(o){if(typeof o!="string")throw new Error("Param is not a string");switch(o.toLowerCase()){case"numeric":return l.NUMERIC;case"alphanumeric":return l.ALPHANUMERIC;case"kanji":return l.KANJI;case"byte":return l.BYTE;default:throw new Error("Unknown mode: "+o)}}l.from=function(s,i){if(l.isValid(s))return s;try{return t(s)}catch{return i}}})(oe);(function(l){const e=O,n=Se,t=Be,o=oe,s=He,i=7973,r=e.getBCHDigit(i);function a(g,v,m){for(let b=1;b<=40;b++)if(v<=l.getCapacity(b,m,g))return b}function c(g,v){return o.getCharCountIndicator(g,v)+4}function d(g,v){let m=0;return g.forEach(function(b){const E=c(b.mode,v);m+=E+b.getBitsLength()}),m}function f(g,v){for(let m=1;m<=40;m++)if(d(g,m)<=l.getCapacity(m,v,o.MIXED))return m}l.from=function(v,m){return s.isValid(v)?parseInt(v,10):m},l.getCapacity=function(v,m,b){if(!s.isValid(v))throw new Error("Invalid QR Code version");typeof b>"u"&&(b=o.BYTE);const E=e.getSymbolTotalCodewords(v),C=n.getTotalCodewordsCount(v,m),_=(E-C)*8;if(b===o.MIXED)return _;const w=_-c(b,v);switch(b){case o.NUMERIC:return Math.floor(w/10*3);case o.ALPHANUMERIC:return Math.floor(w/11*2);case o.KANJI:return Math.floor(w/13);case o.BYTE:default:return Math.floor(w/8)}},l.getBestVersionForData=function(v,m){let b;const E=t.from(m,t.M);if(Array.isArray(v)){if(v.length>1)return f(v,E);if(v.length===0)return 1;b=v[0]}else b=v;return a(b.mode,b.getLength(),E)},l.getEncodedBits=function(v){if(!s.isValid(v)||v<7)throw new Error("Invalid QR Code version");let m=v<<12;for(;e.getBCHDigit(m)-r>=0;)m^=i<<e.getBCHDigit(m)-r;return v<<12|m}})(Nt);var It={};const je=O,Pt=1335,sn=21522,Ye=je.getBCHDigit(Pt);It.getEncodedBits=function(e,n){const t=e.bit<<3|n;let o=t<<10;for(;je.getBCHDigit(o)-Ye>=0;)o^=Pt<<je.getBCHDigit(o)-Ye;return(t<<10|o)^sn};var jt={};const rn=oe;function re(l){this.mode=rn.NUMERIC,this.data=l.toString()}re.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};re.prototype.getLength=function(){return this.data.length};re.prototype.getBitsLength=function(){return re.getBitsLength(this.data.length)};re.prototype.write=function(e){let n,t,o;for(n=0;n+3<=this.data.length;n+=3)t=this.data.substr(n,3),o=parseInt(t,10),e.put(o,10);const s=this.data.length-n;s>0&&(t=this.data.substr(n),o=parseInt(t,10),e.put(o,s*3+1))};var an=re;const cn=oe,Re=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function ae(l){this.mode=cn.ALPHANUMERIC,this.data=l}ae.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};ae.prototype.getLength=function(){return this.data.length};ae.prototype.getBitsLength=function(){return ae.getBitsLength(this.data.length)};ae.prototype.write=function(e){let n;for(n=0;n+2<=this.data.length;n+=2){let t=Re.indexOf(this.data[n])*45;t+=Re.indexOf(this.data[n+1]),e.put(t,11)}this.data.length%2&&e.put(Re.indexOf(this.data[n]),6)};var un=ae;const fn=oe;function ce(l){this.mode=fn.BYTE,typeof l=="string"?this.data=new TextEncoder().encode(l):this.data=new Uint8Array(l)}ce.getBitsLength=function(e){return e*8};ce.prototype.getLength=function(){return this.data.length};ce.prototype.getBitsLength=function(){return ce.getBitsLength(this.data.length)};ce.prototype.write=function(l){for(let e=0,n=this.data.length;e<n;e++)l.put(this.data[e],8)};var dn=ce;const gn=oe,hn=O;function ue(l){this.mode=gn.KANJI,this.data=l}ue.getBitsLength=function(e){return e*13};ue.prototype.getLength=function(){return this.data.length};ue.prototype.getBitsLength=function(){return ue.getBitsLength(this.data.length)};ue.prototype.write=function(l){let e;for(e=0;e<this.data.length;e++){let n=hn.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),l.put(n,13)}};var mn=ue,qt={exports:{}};(function(l){var e={single_source_shortest_paths:function(n,t,o){var s={},i={};i[t]=0;var r=e.PriorityQueue.make();r.push(t,0);for(var a,c,d,f,g,v,m,b,E;!r.empty();){a=r.pop(),c=a.value,f=a.cost,g=n[c]||{};for(d in g)g.hasOwnProperty(d)&&(v=g[d],m=f+v,b=i[d],E=typeof i[d]>"u",(E||b>m)&&(i[d]=m,r.push(d,m),s[d]=c))}if(typeof o<"u"&&typeof i[o]>"u"){var C=["Could not find a path from ",t," to ",o,"."].join("");throw new Error(C)}return s},extract_shortest_path_from_predecessor_list:function(n,t){for(var o=[],s=t;s;)o.push(s),n[s],s=n[s];return o.reverse(),o},find_path:function(n,t,o){var s=e.single_source_shortest_paths(n,t,o);return e.extract_shortest_path_from_predecessor_list(s,o)},PriorityQueue:{make:function(n){var t=e.PriorityQueue,o={},s;n=n||{};for(s in t)t.hasOwnProperty(s)&&(o[s]=t[s]);return o.queue=[],o.sorter=n.sorter||t.default_sorter,o},default_sorter:function(n,t){return n.cost-t.cost},push:function(n,t){var o={value:n,cost:t};this.queue.push(o),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};l.exports=e})(qt);var pn=qt.exports;(function(l){const e=oe,n=an,t=un,o=dn,s=mn,i=Z,r=O,a=pn;function c(C){return unescape(encodeURIComponent(C)).length}function d(C,_,w){const y=[];let k;for(;(k=C.exec(w))!==null;)y.push({data:k[0],index:k.index,mode:_,length:k[0].length});return y}function f(C){const _=d(i.NUMERIC,e.NUMERIC,C),w=d(i.ALPHANUMERIC,e.ALPHANUMERIC,C);let y,k;return r.isKanjiModeEnabled()?(y=d(i.BYTE,e.BYTE,C),k=d(i.KANJI,e.KANJI,C)):(y=d(i.BYTE_KANJI,e.BYTE,C),k=[]),_.concat(w,y,k).sort(function(N,A){return N.index-A.index}).map(function(N){return{data:N.data,mode:N.mode,length:N.length}})}function g(C,_){switch(_){case e.NUMERIC:return n.getBitsLength(C);case e.ALPHANUMERIC:return t.getBitsLength(C);case e.KANJI:return s.getBitsLength(C);case e.BYTE:return o.getBitsLength(C)}}function v(C){return C.reduce(function(_,w){const y=_.length-1>=0?_[_.length-1]:null;return y&&y.mode===w.mode?(_[_.length-1].data+=w.data,_):(_.push(w),_)},[])}function m(C){const _=[];for(let w=0;w<C.length;w++){const y=C[w];switch(y.mode){case e.NUMERIC:_.push([y,{data:y.data,mode:e.ALPHANUMERIC,length:y.length},{data:y.data,mode:e.BYTE,length:y.length}]);break;case e.ALPHANUMERIC:_.push([y,{data:y.data,mode:e.BYTE,length:y.length}]);break;case e.KANJI:_.push([y,{data:y.data,mode:e.BYTE,length:c(y.data)}]);break;case e.BYTE:_.push([{data:y.data,mode:e.BYTE,length:c(y.data)}])}}return _}function b(C,_){const w={},y={start:{}};let k=["start"];for(let T=0;T<C.length;T++){const N=C[T],A=[];for(let D=0;D<N.length;D++){const F=N[D],L=""+T+D;A.push(L),w[L]={node:F,lastCount:0},y[L]={};for(let P=0;P<k.length;P++){const j=k[P];w[j]&&w[j].node.mode===F.mode?(y[j][L]=g(w[j].lastCount+F.length,F.mode)-g(w[j].lastCount,F.mode),w[j].lastCount+=F.length):(w[j]&&(w[j].lastCount=F.length),y[j][L]=g(F.length,F.mode)+4+e.getCharCountIndicator(F.mode,_))}}k=A}for(let T=0;T<k.length;T++)y[k[T]].end=0;return{map:y,table:w}}function E(C,_){let w;const y=e.getBestModeForData(C);if(w=e.from(_,y),w!==e.BYTE&&w.bit<y.bit)throw new Error('"'+C+'" cannot be encoded with mode '+e.toString(w)+`.
 Suggested mode is: `+e.toString(y));switch(w===e.KANJI&&!r.isKanjiModeEnabled()&&(w=e.BYTE),w){case e.NUMERIC:return new n(C);case e.ALPHANUMERIC:return new t(C);case e.KANJI:return new s(C);case e.BYTE:return new o(C)}}l.fromArray=function(_){return _.reduce(function(w,y){return typeof y=="string"?w.push(E(y,null)):y.data&&w.push(E(y.data,y.mode)),w},[])},l.fromString=function(_,w){const y=f(_,r.isKanjiModeEnabled()),k=m(y),T=b(k,w),N=a.find_path(T.map,"start","end"),A=[];for(let D=1;D<N.length-1;D++)A.push(T.table[N[D]].node);return l.fromArray(v(A))},l.rawSplit=function(_){return l.fromArray(f(_,r.isKanjiModeEnabled()))}})(jt);const Me=O,Ne=Be,vn=Wt,_n=Zt,wn=Bt,yn=St,qe=At,Ue=Se,bn=xt,Te=Nt,Cn=It,En=oe,Le=jt;function kn(l,e){const n=l.size,t=yn.getPositions(e);for(let o=0;o<t.length;o++){const s=t[o][0],i=t[o][1];for(let r=-1;r<=7;r++)if(!(s+r<=-1||n<=s+r))for(let a=-1;a<=7;a++)i+a<=-1||n<=i+a||(r>=0&&r<=6&&(a===0||a===6)||a>=0&&a<=6&&(r===0||r===6)||r>=2&&r<=4&&a>=2&&a<=4?l.set(s+r,i+a,!0,!0):l.set(s+r,i+a,!1,!0))}}function Tn(l){const e=l.size;for(let n=8;n<e-8;n++){const t=n%2===0;l.set(n,6,t,!0),l.set(6,n,t,!0)}}function Bn(l,e){const n=wn.getPositions(e);for(let t=0;t<n.length;t++){const o=n[t][0],s=n[t][1];for(let i=-2;i<=2;i++)for(let r=-2;r<=2;r++)i===-2||i===2||r===-2||r===2||i===0&&r===0?l.set(o+i,s+r,!0,!0):l.set(o+i,s+r,!1,!0)}}function Sn(l,e){const n=l.size,t=Te.getEncodedBits(e);let o,s,i;for(let r=0;r<18;r++)o=Math.floor(r/3),s=r%3+n-8-3,i=(t>>r&1)===1,l.set(o,s,i,!0),l.set(s,o,i,!0)}function Ie(l,e,n){const t=l.size,o=Cn.getEncodedBits(e,n);let s,i;for(s=0;s<15;s++)i=(o>>s&1)===1,s<6?l.set(s,8,i,!0):s<8?l.set(s+1,8,i,!0):l.set(t-15+s,8,i,!0),s<8?l.set(8,t-s-1,i,!0):s<9?l.set(8,15-s-1+1,i,!0):l.set(8,15-s-1,i,!0);l.set(t-8,8,1,!0)}function An(l,e){const n=l.size;let t=-1,o=n-1,s=7,i=0;for(let r=n-1;r>0;r-=2)for(r===6&&r--;;){for(let a=0;a<2;a++)if(!l.isReserved(o,r-a)){let c=!1;i<e.length&&(c=(e[i]>>>s&1)===1),l.set(o,r-a,c),s--,s===-1&&(i++,s=7)}if(o+=t,o<0||n<=o){o-=t,t=-t;break}}}function Mn(l,e,n){const t=new vn;n.forEach(function(a){t.put(a.mode.bit,4),t.put(a.getLength(),En.getCharCountIndicator(a.mode,l)),a.write(t)});const o=Me.getSymbolTotalCodewords(l),s=Ue.getTotalCodewordsCount(l,e),i=(o-s)*8;for(t.getLengthInBits()+4<=i&&t.put(0,4);t.getLengthInBits()%8!==0;)t.putBit(0);const r=(i-t.getLengthInBits())/8;for(let a=0;a<r;a++)t.put(a%2?17:236,8);return Rn(t,l,e)}function Rn(l,e,n){const t=Me.getSymbolTotalCodewords(e),o=Ue.getTotalCodewordsCount(e,n),s=t-o,i=Ue.getBlocksCount(e,n),r=t%i,a=i-r,c=Math.floor(t/i),d=Math.floor(s/i),f=d+1,g=c-d,v=new bn(g);let m=0;const b=new Array(i),E=new Array(i);let C=0;const _=new Uint8Array(l.buffer);for(let N=0;N<i;N++){const A=N<a?d:f;b[N]=_.slice(m,m+A),E[N]=v.encode(b[N]),m+=A,C=Math.max(C,A)}const w=new Uint8Array(t);let y=0,k,T;for(k=0;k<C;k++)for(T=0;T<i;T++)k<b[T].length&&(w[y++]=b[T][k]);for(k=0;k<g;k++)for(T=0;T<i;T++)w[y++]=E[T][k];return w}function Nn(l,e,n,t){let o;if(Array.isArray(l))o=Le.fromArray(l);else if(typeof l=="string"){let c=e;if(!c){const d=Le.rawSplit(l);c=Te.getBestVersionForData(d,n)}o=Le.fromString(l,c||40)}else throw new Error("Invalid data");const s=Te.getBestVersionForData(o,n);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=s;else if(e<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);const i=Mn(e,n,o),r=Me.getSymbolSize(e),a=new _n(r);return kn(a,e),Tn(a),Bn(a,e),Ie(a,n,0),e>=7&&Sn(a,e),An(a,i),isNaN(t)&&(t=qe.getBestMask(a,Ie.bind(null,a,n))),qe.applyMask(t,a),Ie(a,n,t),{modules:a,version:e,errorCorrectionLevel:n,maskPattern:t,segments:o}}kt.create=function(e,n){if(typeof e>"u"||e==="")throw new Error("No input text");let t=Ne.M,o,s;return typeof n<"u"&&(t=Ne.from(n.errorCorrectionLevel,Ne.M),o=Te.from(n.version),s=qe.from(n.maskPattern),n.toSJISFunc&&Me.setToSJISFunction(n.toSJISFunc)),Nn(e,o,t,s)};var Ut={},Ve={};(function(l){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let t=n.slice().replace("#","").split("");if(t.length<3||t.length===5||t.length>8)throw new Error("Invalid hex color: "+n);(t.length===3||t.length===4)&&(t=Array.prototype.concat.apply([],t.map(function(s){return[s,s]}))),t.length===6&&t.push("F","F");const o=parseInt(t.join(""),16);return{r:o>>24&255,g:o>>16&255,b:o>>8&255,a:o&255,hex:"#"+t.slice(0,6).join("")}}l.getOptions=function(t){t||(t={}),t.color||(t.color={});const o=typeof t.margin>"u"||t.margin===null||t.margin<0?4:t.margin,s=t.width&&t.width>=21?t.width:void 0,i=t.scale||4;return{width:s,scale:s?4:i,margin:o,color:{dark:e(t.color.dark||"#000000ff"),light:e(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}},l.getScale=function(t,o){return o.width&&o.width>=t+o.margin*2?o.width/(t+o.margin*2):o.scale},l.getImageWidth=function(t,o){const s=l.getScale(t,o);return Math.floor((t+o.margin*2)*s)},l.qrToImageData=function(t,o,s){const i=o.modules.size,r=o.modules.data,a=l.getScale(i,s),c=Math.floor((i+s.margin*2)*a),d=s.margin*a,f=[s.color.light,s.color.dark];for(let g=0;g<c;g++)for(let v=0;v<c;v++){let m=(g*c+v)*4,b=s.color.light;if(g>=d&&v>=d&&g<c-d&&v<c-d){const E=Math.floor((g-d)/a),C=Math.floor((v-d)/a);b=f[r[E*i+C]?1:0]}t[m++]=b.r,t[m++]=b.g,t[m++]=b.b,t[m]=b.a}}})(Ve);(function(l){const e=Ve;function n(o,s,i){o.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=i,s.width=i,s.style.height=i+"px",s.style.width=i+"px"}function t(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}l.render=function(s,i,r){let a=r,c=i;typeof a>"u"&&(!i||!i.getContext)&&(a=i,i=void 0),i||(c=t()),a=e.getOptions(a);const d=e.getImageWidth(s.modules.size,a),f=c.getContext("2d"),g=f.createImageData(d,d);return e.qrToImageData(g.data,s,a),n(f,c,d),f.putImageData(g,0,0),c},l.renderToDataURL=function(s,i,r){let a=r;typeof a>"u"&&(!i||!i.getContext)&&(a=i,i=void 0),a||(a={});const c=l.render(s,i,a),d=a.type||"image/png",f=a.rendererOpts||{};return c.toDataURL(d,f.quality)}})(Ut);var zt={};const Ln=Ve;function Oe(l,e){const n=l.a/255,t=e+'="'+l.hex+'"';return n<1?t+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':t}function Pe(l,e,n){let t=l+e;return typeof n<"u"&&(t+=" "+n),t}function In(l,e,n){let t="",o=0,s=!1,i=0;for(let r=0;r<l.length;r++){const a=Math.floor(r%e),c=Math.floor(r/e);!a&&!s&&(s=!0),l[r]?(i++,r>0&&a>0&&l[r-1]||(t+=s?Pe("M",a+n,.5+c+n):Pe("m",o,0),o=0,s=!1),a+1<e&&l[r+1]||(t+=Pe("h",i),i=0)):o++}return t}zt.render=function(e,n,t){const o=Ln.getOptions(n),s=e.modules.size,i=e.modules.data,r=s+o.margin*2,a=o.color.light.a?"<path "+Oe(o.color.light,"fill")+' d="M0 0h'+r+"v"+r+'H0z"/>':"",c="<path "+Oe(o.color.dark,"stroke")+' d="'+In(i,s,o.margin)+'"/>',d='viewBox="0 0 '+r+" "+r+'"',g='<svg xmlns="http://www.w3.org/2000/svg" '+(o.width?'width="'+o.width+'" height="'+o.width+'" ':"")+d+' shape-rendering="crispEdges">'+a+c+`</svg>
`;return typeof t=="function"&&t(null,g),g};const Pn=Yt,ze=kt,Dt=Ut,jn=zt;function Qe(l,e,n,t,o){const s=[].slice.call(arguments,1),i=s.length,r=typeof s[i-1]=="function";if(!r&&!Pn())throw new Error("Callback required as last argument");if(r){if(i<2)throw new Error("Too few arguments provided");i===2?(o=n,n=e,e=t=void 0):i===3&&(e.getContext&&typeof o>"u"?(o=t,t=void 0):(o=t,t=n,n=e,e=void 0))}else{if(i<1)throw new Error("Too few arguments provided");return i===1?(n=e,e=t=void 0):i===2&&!e.getContext&&(t=n,n=e,e=void 0),new Promise(function(a,c){try{const d=ze.create(n,t);a(l(d,e,t))}catch(d){c(d)}})}try{const a=ze.create(n,t);o(null,l(a,e,t))}catch(a){o(a)}}ie.create=ze.create;ie.toCanvas=Qe.bind(null,Dt.render);ie.toDataURL=Qe.bind(null,Dt.renderToDataURL);ie.toString=Qe.bind(null,function(l,e,n){return jn.render(l,n)});function We(l,e,n){const t=l.slice();return t[5]=e[n],t[7]=n,t}function qn(l){let e;return{c(){e=p("div"),e.innerHTML=`<div class="loading-spinner svelte-ewo0z"></div> 
            <p>Generating QR Code...</p>`,h(e,"class","qr-placeholder svelte-ewo0z")},m(n,t){M(n,e,t)},p:Y,d(n){n&&R(e)}}}function Un(l){let e,n;return{c(){e=p("img"),Ke(e.src,n=l[1])||h(e,"src",n),h(e,"alt","QR Code to join game"),h(e,"class","qr-code svelte-ewo0z")},m(t,o){M(t,e,o)},p(t,o){o&2&&!Ke(e.src,n=t[1])&&h(e,"src",n)},d(t){t&&R(e)}}}function Ze(l){let e;return{c(){e=p("span"),e.textContent="Minimum 2 players needed",h(e,"class","min-players svelte-ewo0z")},m(n,t){M(n,e,t)},d(n){n&&R(e)}}}function Xe(l){let e,n,t,o=l[5].avatar.emoji+"",s,i,r,a,c=l[5].name+"",d;return{c(){e=p("div"),n=p("div"),t=p("span"),s=B(o),i=S(),r=p("div"),a=p("span"),d=B(c),h(t,"class","player-emoji svelte-ewo0z"),h(n,"class","player-avatar svelte-ewo0z"),K(n,"background-color",l[5].avatar.color),h(a,"class","player-name svelte-ewo0z"),h(r,"class","player-details svelte-ewo0z"),h(e,"class","player-card svelte-ewo0z"),K(e,"animation-delay",l[7]*.1+"s"),K(e,"background-color",l[5].avatar.color)},m(f,g){M(f,e,g),u(e,n),u(n,t),u(t,s),u(e,i),u(e,r),u(r,a),u(a,d)},p(f,g){g&1&&o!==(o=f[5].avatar.emoji+"")&&q(s,o),g&1&&K(n,"background-color",f[5].avatar.color),g&1&&c!==(c=f[5].name+"")&&q(d,c),g&1&&K(e,"background-color",f[5].avatar.color)},d(f){f&&R(e)}}}function xe(l){let e;return{c(){e=p("div"),e.innerHTML=`<div class="empty-icon svelte-ewo0z">👥</div> 
          <p class="svelte-ewo0z">Waiting for players to join...</p> 
          <p class="empty-hint svelte-ewo0z">Share the QR code or URL!</p>`,h(e,"class","empty-state svelte-ewo0z")},m(n,t){M(n,e,t)},d(n){n&&R(e)}}}function zn(l){let e,n;return{c(){e=p("span"),e.textContent="🚀",n=B(`
        Start Game`),h(e,"class","button-icon svelte-ewo0z")},m(t,o){M(t,e,o),M(t,n,o)},d(t){t&&R(e),t&&R(n)}}}function Dn(l){let e,n;return{c(){e=p("span"),e.textContent="⏳",n=B(`
        Waiting for Players`),h(e,"class","button-icon svelte-ewo0z")},m(t,o){M(t,e,o),M(t,n,o)},d(t){t&&R(e),t&&R(n)}}}function Fn(l){let e;return{c(){e=p("p"),e.textContent="Need at least 2 players to start",h(e,"class","start-hint svelte-ewo0z")},m(n,t){M(n,e,t)},d(n){n&&R(e)}}}function Hn(l){let e;return{c(){e=p("p"),e.textContent="Ready to begin? Let the lies commence! 🎭",h(e,"class","start-hint svelte-ewo0z")},m(n,t){M(n,e,t)},d(n){n&&R(e)}}}function Vn(l){let e,n,t,o,s,i,r,a,c,d,f,g,v,m,b,E=l[0].players.length+"",C,_,w,y,k,T,N,A,D,F,L,P;function j($,W){return $[1]?Un:qn}let U=j(l),H=U(l),z=l[0].players.length<2&&Ze(),V=l[0].players,I=[];for(let $=0;$<V.length;$+=1)I[$]=Xe(We(l,V,$));let Q=l[0].players.length===0&&xe();function G($,W){return $[4]?zn:Dn}let se=G(l),X=se(l);function $e($,W){return $[4]?Hn:Fn}let ye=$e(l),x=ye(l);return{c(){e=p("div"),n=p("div"),n.innerHTML=`<h2 class="welcome-title svelte-ewo0z">Welcome to Lie-Ability!</h2> 
    <p class="welcome-subtitle svelte-ewo0z">A party game where creativity meets deception. 
      Create convincing lies and spot the truth!</p>`,t=S(),o=p("div"),s=p("div"),i=p("div"),r=p("h3"),r.textContent="Scan to Join",a=S(),H.c(),c=S(),d=p("p"),f=B(l[2]),g=S(),v=p("div"),m=p("h3"),b=B("Players ("),C=B(E),_=B(`)
      `),z&&z.c(),w=S(),y=p("div");for(let $=0;$<I.length;$+=1)I[$].c();k=S(),Q&&Q.c(),T=S(),N=p("div"),A=p("button"),X.c(),F=S(),x.c(),h(n,"class","welcome-section svelte-ewo0z"),h(r,"class","svelte-ewo0z"),h(d,"class","join-url svelte-ewo0z"),h(i,"class","qr-card svelte-ewo0z"),h(s,"class","qr-container svelte-ewo0z"),h(o,"class","join-section svelte-ewo0z"),h(m,"class","players-title svelte-ewo0z"),h(y,"class","players-grid svelte-ewo0z"),h(v,"class","players-section svelte-ewo0z"),h(A,"class","start-button svelte-ewo0z"),A.disabled=D=!l[4],Ee(A,"disabled",!l[4]),h(N,"class","start-section svelte-ewo0z"),h(e,"class","lobby-container svelte-ewo0z")},m($,W){M($,e,W),u(e,n),u(e,t),u(e,o),u(o,s),u(s,i),u(i,r),u(i,a),H.m(i,null),u(i,c),u(i,d),u(d,f),u(e,g),u(e,v),u(v,m),u(m,b),u(m,C),u(m,_),z&&z.m(m,null),u(v,w),u(v,y);for(let J=0;J<I.length;J+=1)I[J]&&I[J].m(y,null);u(y,k),Q&&Q.m(y,null),u(e,T),u(e,N),u(N,A),X.m(A,null),u(N,F),x.m(N,null),L||(P=Ht(A,"click",function(){Vt(l[3])&&l[3].apply(this,arguments)}),L=!0)},p($,[W]){if(l=$,U===(U=j(l))&&H?H.p(l,W):(H.d(1),H=U(l),H&&(H.c(),H.m(i,c))),W&4&&q(f,l[2]),W&1&&E!==(E=l[0].players.length+"")&&q(C,E),l[0].players.length<2?z||(z=Ze(),z.c(),z.m(m,null)):z&&(z.d(1),z=null),W&1){V=l[0].players;let J;for(J=0;J<V.length;J+=1){const Ge=We(l,V,J);I[J]?I[J].p(Ge,W):(I[J]=Xe(Ge),I[J].c(),I[J].m(y,k))}for(;J<I.length;J+=1)I[J].d(1);I.length=V.length}l[0].players.length===0?Q||(Q=xe(),Q.c(),Q.m(y,null)):Q&&(Q.d(1),Q=null),se!==(se=G(l))&&(X.d(1),X=se(l),X&&(X.c(),X.m(A,null))),W&16&&D!==(D=!l[4])&&(A.disabled=D),W&16&&Ee(A,"disabled",!l[4]),ye!==(ye=$e(l))&&(x.d(1),x=ye(l),x&&(x.c(),x.m(N,null)))},i:Y,o:Y,d($){$&&R(e),H.d(),z&&z.d(),le(I,$),Q&&Q.d(),X.d(),x.d(),L=!1,P()}}}function Qn(l,e,n){let t,{gameState:o}=e,{qrCodeUrl:s}=e,{serverUrl:i}=e,{onStart:r}=e;return l.$$set=a=>{"gameState"in a&&n(0,o=a.gameState),"qrCodeUrl"in a&&n(1,s=a.qrCodeUrl),"serverUrl"in a&&n(2,i=a.serverUrl),"onStart"in a&&n(3,r=a.onStart)},l.$$.update=()=>{l.$$.dirty&1&&n(4,t=o.players.length>=2)},[o,s,i,r,t]}class $n extends fe{constructor(e){super(),de(this,e,Qn,Vn,ge,{gameState:0,qrCodeUrl:1,serverUrl:2,onStart:3})}}function et(l,e,n){const t=l.slice();return t[3]=e[n],t[5]=n,t}function tt(l){let e,n,t=l[1](l[3].category)+"",o,s,i,r=l[3].category+"",a,c,d,f;return{c(){e=p("div"),n=p("div"),o=B(t),s=S(),i=p("div"),a=B(r),c=S(),d=p("div"),f=S(),h(n,"class","category-emoji svelte-4cbdtp"),h(i,"class","category-name svelte-4cbdtp"),h(d,"class","category-pulse svelte-4cbdtp"),h(e,"class","category-card svelte-4cbdtp"),K(e,"animation-delay",l[5]*.1+"s")},m(g,v){M(g,e,v),u(e,n),u(n,o),u(e,s),u(e,i),u(i,a),u(e,c),u(e,d),u(e,f)},p(g,v){v&1&&t!==(t=g[1](g[3].category)+"")&&q(o,t),v&1&&r!==(r=g[3].category+"")&&q(a,r)},d(g){g&&R(e)}}}function Gn(l){let e,n,t,o,s,i,r=l[0].selectorName+"",a,c,d,f,g,v,m=l[0].categories,b=[];for(let E=0;E<m.length;E+=1)b[E]=tt(et(l,m,E));return{c(){e=p("div"),n=p("div"),t=p("h2"),t.textContent="Category Selection",o=S(),s=p("p"),i=p("span"),a=B(r),c=B(" is choosing the category"),d=S(),f=p("div");for(let E=0;E<b.length;E+=1)b[E].c();g=S(),v=p("div"),v.innerHTML=`<div class="dots svelte-4cbdtp"><span class="svelte-4cbdtp"></span> 
      <span class="svelte-4cbdtp"></span> 
      <span class="svelte-4cbdtp"></span></div> 
    <p class="svelte-4cbdtp">Waiting for selection...</p>`,h(t,"class","title svelte-4cbdtp"),h(i,"class","selector-name svelte-4cbdtp"),h(s,"class","selector-info svelte-4cbdtp"),h(n,"class","header svelte-4cbdtp"),h(f,"class","categories-grid svelte-4cbdtp"),h(v,"class","waiting-indicator svelte-4cbdtp"),h(e,"class","category-container svelte-4cbdtp")},m(E,C){M(E,e,C),u(e,n),u(n,t),u(n,o),u(n,s),u(s,i),u(i,a),u(s,c),u(e,d),u(e,f);for(let _=0;_<b.length;_+=1)b[_]&&b[_].m(f,null);u(e,g),u(e,v)},p(E,[C]){if(C&1&&r!==(r=E[0].selectorName+"")&&q(a,r),C&3){m=E[0].categories;let _;for(_=0;_<m.length;_+=1){const w=et(E,m,_);b[_]?b[_].p(w,C):(b[_]=tt(w),b[_].c(),b[_].m(f,null))}for(;_<b.length;_+=1)b[_].d(1);b.length=m.length}},i:Y,o:Y,d(E){E&&R(e),le(b,E)}}}function Kn(l,e,n){let{currentQuestion:t}=e;const o={History:"📚",Animals:"🐾",Food:"🍎",Sports:"⚽",Geography:"🌍",Music:"🎵",Science:"🔬",Literature:"📖",Inventions:"💡",TV:"📺",Art:"🎨",Language:"🗣️",Movies:"🎬",Tech:"💻",Fashion:"👗",Mythology:"⚡",Games:"🎮",Space:"🚀",Comics:"💥",Misc:"🎯",Bonus:"✨",Entertainment:"🎭",Nature:"🌿",Travel:"✈️"};function s(i){return o[i]||"❓"}return l.$$set=i=>{"currentQuestion"in i&&n(0,t=i.currentQuestion)},[t,s]}class Jn extends fe{constructor(e){super(),de(this,e,Kn,Gn,ge,{currentQuestion:0})}}function nt(l,e,n){const t=l.slice();return t[4]=e[n],t[6]=n,t}function Yn(l){let e,n,t,o,s=l[0].options,i=[];for(let r=0;r<s.length;r+=1)i[r]=lt(nt(l,s,r));return{c(){e=p("div"),n=p("h4"),n.textContent="Vote for the Real Answer",t=S(),o=p("div");for(let r=0;r<i.length;r+=1)i[r].c();h(n,"class","options-title svelte-nfjqqc"),h(o,"class","options-grid svelte-nfjqqc"),h(e,"class","options-section svelte-nfjqqc")},m(r,a){M(r,e,a),u(e,n),u(e,t),u(e,o);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(o,null)},p(r,a){if(a&1){s=r[0].options;let c;for(c=0;c<s.length;c+=1){const d=nt(r,s,c);i[c]?i[c].p(d,a):(i[c]=lt(d),i[c].c(),i[c].m(o,null))}for(;c<i.length;c+=1)i[c].d(1);i.length=s.length}},d(r){r&&R(e),le(i,r)}}}function On(l){let e;return{c(){e=p("div"),e.innerHTML=`<div class="activity-icon svelte-nfjqqc">✍️</div> 
        <p class="svelte-nfjqqc">Players are writing their lies...</p>`,h(e,"class","activity-indicator svelte-nfjqqc")},m(n,t){M(n,e,t)},p:Y,d(n){n&&R(e)}}}function Wn(l){let e;return{c(){e=p("div"),e.innerHTML=`<div class="reading-dots svelte-nfjqqc"><span class="svelte-nfjqqc"></span> 
          <span class="svelte-nfjqqc"></span> 
          <span class="svelte-nfjqqc"></span></div> 
        <p class="svelte-nfjqqc">Everyone read carefully...</p>`,h(e,"class","reading-indicator svelte-nfjqqc")},m(n,t){M(n,e,t)},p:Y,d(n){n&&R(e)}}}function lt(l){let e,n,t=l[4].text+"",o,s;return{c(){e=p("div"),n=p("div"),o=B(t),s=S(),h(n,"class","option-text svelte-nfjqqc"),h(e,"class","option-card svelte-nfjqqc"),K(e,"animation-delay",l[6]*.1+"s")},m(i,r){M(i,e,r),u(e,n),u(n,o),u(e,s)},p(i,r){r&1&&t!==(t=i[4].text+"")&&q(o,t)},d(i){i&&R(e)}}}function Zn(l){let e,n,t,o,s=l[2](l[0].category)+"",i,r,a,c=l[0].category+"",d,f,g,v,m=l[0].question+"",b,E;function C(y,k){if(y[1]==="question_reading")return Wn;if(y[1]==="lie_submission")return On;if(y[1]==="option_selection"&&y[0].options)return Yn}let _=C(l),w=_&&_(l);return{c(){e=p("div"),n=p("div"),t=p("div"),o=p("span"),i=B(s),r=S(),a=p("span"),d=B(c),f=S(),g=p("div"),v=p("h3"),b=B(m),E=S(),w&&w.c(),h(o,"class","category-emoji svelte-nfjqqc"),h(a,"class","category-name"),h(t,"class","category-badge svelte-nfjqqc"),h(v,"class","question-text svelte-nfjqqc"),h(g,"class","question-content svelte-nfjqqc"),h(n,"class","question-card svelte-nfjqqc"),h(e,"class","question-container svelte-nfjqqc")},m(y,k){M(y,e,k),u(e,n),u(n,t),u(t,o),u(o,i),u(t,r),u(t,a),u(a,d),u(n,f),u(n,g),u(g,v),u(v,b),u(n,E),w&&w.m(n,null)},p(y,[k]){k&1&&s!==(s=y[2](y[0].category)+"")&&q(i,s),k&1&&c!==(c=y[0].category+"")&&q(d,c),k&1&&m!==(m=y[0].question+"")&&q(b,m),_===(_=C(y))&&w?w.p(y,k):(w&&w.d(1),w=_&&_(y),w&&(w.c(),w.m(n,null)))},i:Y,o:Y,d(y){y&&R(e),w&&w.d()}}}function Xn(l,e,n){let{currentQuestion:t}=e,{state:o}=e;const s={History:"📚",Animals:"🐾",Food:"🍎",Sports:"⚽",Geography:"🌍",Music:"🎵",Science:"🔬",Literature:"📖",Inventions:"💡",TV:"📺",Art:"🎨",Language:"🗣️",Movies:"🎬",Tech:"💻",Fashion:"👗",Mythology:"⚡",Games:"🎮",Space:"🚀",Comics:"💥",Misc:"🎯",Bonus:"✨",Entertainment:"🎭",Nature:"🌿",Travel:"✈️"};function i(r){return s[r]||"❓"}return l.$$set=r=>{"currentQuestion"in r&&n(0,t=r.currentQuestion),"state"in r&&n(1,o=r.state)},[t,o,i]}class Ft extends fe{constructor(e){super(),de(this,e,Xn,Zn,ge,{currentQuestion:0,state:1})}}function ot(l,e,n){const t=l.slice();return t[4]=e[n],t[6]=n,t}function st(l,e,n){const t=l.slice();return t[7]=e[n],t[6]=n,t}function it(l,e,n){const t=l.slice();return t[4]=e[n],t[10]=n,t}function rt(l,e,n){const t=l.slice();return t[11]=e[n],t[13]=n,t}function at(l){let e,n,t,o,s=l[0].lies,i=[];for(let r=0;r<s.length;r+=1)i[r]=ht(st(l,s,r));return{c(){e=p("div"),n=p("h3"),n.textContent="The Lies That Fooled You",t=S(),o=p("div");for(let r=0;r<i.length;r+=1)i[r].c();h(n,"class","lies-title svelte-ufutjc"),h(o,"class","lies-grid svelte-ufutjc"),h(e,"class","lies-section svelte-ufutjc")},m(r,a){M(r,e,a),u(e,n),u(e,t),u(e,o);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(o,null)},p(r,a){if(a&1){s=r[0].lies;let c;for(c=0;c<s.length;c+=1){const d=st(r,s,c);i[c]?i[c].p(d,a):(i[c]=ht(d),i[c].c(),i[c].m(o,null))}for(;c<i.length;c+=1)i[c].d(1);i.length=s.length}},d(r){r&&R(e),le(i,r)}}}function ct(l){let e;return{c(){e=B(",")},m(n,t){M(n,e,t)},d(n){n&&R(e)}}}function ut(l){var d;let e,n=(((d=l[11].avatar)==null?void 0:d.emoji)||"😀")+"",t,o,s=l[11].name+"",i,r,a,c=l[13]<(l[7].authors||[]).length-1&&ct();return{c(){var f;e=p("span"),t=B(n),o=S(),i=B(s),r=S(),c&&c.c(),a=Et(),h(e,"class","author svelte-ufutjc"),K(e,"color",((f=l[11].avatar)==null?void 0:f.color)||"#666")},m(f,g){M(f,e,g),u(e,t),u(e,o),u(e,i),M(f,r,g),c&&c.m(f,g),M(f,a,g)},p(f,g){var v,m;g&1&&n!==(n=(((v=f[11].avatar)==null?void 0:v.emoji)||"😀")+"")&&q(t,n),g&1&&s!==(s=f[11].name+"")&&q(i,s),g&1&&K(e,"color",((m=f[11].avatar)==null?void 0:m.color)||"#666"),f[13]<(f[7].authors||[]).length-1?c||(c=ct(),c.c(),c.m(a.parentNode,a)):c&&(c.d(1),c=null)},d(f){f&&R(e),f&&R(r),c&&c.d(f),f&&R(a)}}}function ft(l){let e,n,t,o=l[7].voters,s=[];for(let i=0;i<o.length;i+=1)s[i]=gt(it(l,o,i));return{c(){e=p("div"),n=p("span"),n.textContent="Fooled:",t=S();for(let i=0;i<s.length;i+=1)s[i].c();h(n,"class","voters-label svelte-ufutjc"),h(e,"class","voters svelte-ufutjc")},m(i,r){M(i,e,r),u(e,n),u(e,t);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(e,null)},p(i,r){if(r&1){o=i[7].voters;let a;for(a=0;a<o.length;a+=1){const c=it(i,o,a);s[a]?s[a].p(c,r):(s[a]=gt(c),s[a].c(),s[a].m(e,null))}for(;a<s.length;a+=1)s[a].d(1);s.length=o.length}},d(i){i&&R(e),le(s,i)}}}function dt(l){let e;return{c(){e=B(",")},m(n,t){M(n,e,t)},d(n){n&&R(e)}}}function gt(l){var d;let e,n=(((d=l[4].avatar)==null?void 0:d.emoji)||"😀")+"",t,o,s=l[4].name+"",i,r,a,c=l[10]<l[7].voters.length-1&&dt();return{c(){var f;e=p("span"),t=B(n),o=S(),i=B(s),r=S(),c&&c.c(),a=Et(),h(e,"class","voter svelte-ufutjc"),K(e,"color",((f=l[4].avatar)==null?void 0:f.color)||"#666")},m(f,g){M(f,e,g),u(e,t),u(e,o),u(e,i),M(f,r,g),c&&c.m(f,g),M(f,a,g)},p(f,g){var v,m;g&1&&n!==(n=(((v=f[4].avatar)==null?void 0:v.emoji)||"😀")+"")&&q(t,n),g&1&&s!==(s=f[4].name+"")&&q(i,s),g&1&&K(e,"color",((m=f[4].avatar)==null?void 0:m.color)||"#666"),f[10]<f[7].voters.length-1?c||(c=dt(),c.c(),c.m(a.parentNode,a)):c&&(c.d(1),c=null)},d(f){f&&R(e),f&&R(r),c&&c.d(f),f&&R(a)}}}function ht(l){let e,n,t,o,s,i,r=l[7].votes+"",a,c,d=l[7].votes!==1?"s":"",f,g,v,m,b=l[7].points+"",E,C,_,w,y,k=l[7].text+"",T,N,A,D,F,L,P,j,U,H=l[7].authors||[],z=[];for(let I=0;I<H.length;I+=1)z[I]=ut(rt(l,H,I));let V=l[7].voters&&l[7].voters.length>0&&ft(l);return{c(){e=p("div"),n=p("div"),t=p("div"),o=p("span"),o.textContent="🗳️",s=S(),i=p("span"),a=B(r),c=B(" vote"),f=B(d),g=S(),v=p("div"),m=B("+"),E=B(b),C=B("pts"),_=S(),w=p("div"),y=B('"'),T=B(k),N=B('"'),A=S(),D=p("div"),F=p("div"),L=p("span"),L.textContent="By:",P=S();for(let I=0;I<z.length;I+=1)z[I].c();j=S(),V&&V.c(),U=S(),h(o,"class","votes-icon svelte-ufutjc"),h(i,"class","votes-count"),h(t,"class","lie-votes svelte-ufutjc"),h(v,"class","lie-points svelte-ufutjc"),h(n,"class","lie-header svelte-ufutjc"),h(w,"class","lie-text svelte-ufutjc"),h(L,"class","authors-label svelte-ufutjc"),h(F,"class","authors svelte-ufutjc"),h(D,"class","lie-attribution svelte-ufutjc"),h(e,"class","lie-card svelte-ufutjc"),K(e,"animation-delay",l[6]*.15+"s")},m(I,Q){M(I,e,Q),u(e,n),u(n,t),u(t,o),u(t,s),u(t,i),u(i,a),u(i,c),u(i,f),u(n,g),u(n,v),u(v,m),u(v,E),u(v,C),u(e,_),u(e,w),u(w,y),u(w,T),u(w,N),u(e,A),u(e,D),u(D,F),u(F,L),u(F,P);for(let G=0;G<z.length;G+=1)z[G]&&z[G].m(F,null);u(D,j),V&&V.m(D,null),u(e,U)},p(I,Q){if(Q&1&&r!==(r=I[7].votes+"")&&q(a,r),Q&1&&d!==(d=I[7].votes!==1?"s":"")&&q(f,d),Q&1&&b!==(b=I[7].points+"")&&q(E,b),Q&1&&k!==(k=I[7].text+"")&&q(T,k),Q&1){H=I[7].authors||[];let G;for(G=0;G<H.length;G+=1){const se=rt(I,H,G);z[G]?z[G].p(se,Q):(z[G]=ut(se),z[G].c(),z[G].m(F,null))}for(;G<z.length;G+=1)z[G].d(1);z.length=H.length}I[7].voters&&I[7].voters.length>0?V?V.p(I,Q):(V=ft(I),V.c(),V.m(D,null)):V&&(V.d(1),V=null)},d(I){I&&R(e),le(z,I),V&&V.d()}}}function mt(l){let e,n,t,o,s=l[0].truthVoters,i=[];for(let r=0;r<s.length;r+=1)i[r]=pt(ot(l,s,r));return{c(){e=p("div"),n=p("h3"),n.textContent="Truth Detectives 🕵️",t=S(),o=p("div");for(let r=0;r<i.length;r+=1)i[r].c();h(n,"class","truth-voters-title svelte-ufutjc"),h(o,"class","truth-voters svelte-ufutjc"),h(e,"class","truth-voters-section svelte-ufutjc")},m(r,a){M(r,e,a),u(e,n),u(e,t),u(e,o);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(o,null)},p(r,a){if(a&1){s=r[0].truthVoters;let c;for(c=0;c<s.length;c+=1){const d=ot(r,s,c);i[c]?i[c].p(d,a):(i[c]=pt(d),i[c].c(),i[c].m(o,null))}for(;c<i.length;c+=1)i[c].d(1);i.length=s.length}},d(r){r&&R(e),le(i,r)}}}function pt(l){var C;let e,n,t,o=(((C=l[4].avatar)==null?void 0:C.emoji)||"🕵️")+"",s,i,r,a=l[4].name+"",c,d,f,g,v=(l[0].truthPoints||1e3)+"",m,b,E;return{c(){var _;e=p("div"),n=p("div"),t=p("span"),s=B(o),i=S(),r=p("div"),c=B(a),d=S(),f=p("div"),g=B("+"),m=B(v),b=B(" pts"),E=S(),h(t,"class","voter-emoji svelte-ufutjc"),h(n,"class","voter-avatar svelte-ufutjc"),K(n,"background-color",((_=l[4].avatar)==null?void 0:_.color)||"#667eea"),h(r,"class","voter-name svelte-ufutjc"),h(f,"class","voter-bonus svelte-ufutjc"),h(e,"class","truth-voter svelte-ufutjc"),K(e,"animation-delay",l[6]*.1+"s")},m(_,w){M(_,e,w),u(e,n),u(n,t),u(t,s),u(e,i),u(e,r),u(r,c),u(e,d),u(e,f),u(f,g),u(f,m),u(f,b),u(e,E)},p(_,w){var y,k;w&1&&o!==(o=(((y=_[4].avatar)==null?void 0:y.emoji)||"🕵️")+"")&&q(s,o),w&1&&K(n,"background-color",((k=_[4].avatar)==null?void 0:k.color)||"#667eea"),w&1&&a!==(a=_[4].name+"")&&q(c,a),w&1&&v!==(v=(_[0].truthPoints||1e3)+"")&&q(m,v)},d(_){_&&R(e)}}}function xn(l){let e,n,t,o,s=l[1](l[0].category)+"",i,r,a,c=l[0].category+"",d,f,g,v=l[0].question+"",m,b,E,C,_,w,y,k=l[0].truth.answer+"",T,N,A,D,F,L=l[0].lies&&l[0].lies.length>0&&at(l),P=l[0].truthVoters&&l[0].truthVoters.length>0&&mt(l);return{c(){e=p("div"),n=p("div"),t=p("div"),o=p("span"),i=B(s),r=S(),a=p("span"),d=B(c),f=S(),g=p("h2"),m=B(v),b=S(),E=p("div"),C=p("div"),_=p("div"),_.textContent="The Truth",w=S(),y=p("div"),T=B(k),N=S(),A=p("div"),A.textContent="🎯",D=S(),L&&L.c(),F=S(),P&&P.c(),h(o,"class","category-emoji svelte-ufutjc"),h(a,"class","category-name"),h(t,"class","category-badge svelte-ufutjc"),h(g,"class","question-text svelte-ufutjc"),h(n,"class","question-section svelte-ufutjc"),h(_,"class","answer-label svelte-ufutjc"),h(y,"class","answer-text svelte-ufutjc"),h(A,"class","answer-celebration svelte-ufutjc"),h(C,"class","answer-card svelte-ufutjc"),h(E,"class","answer-reveal svelte-ufutjc"),h(e,"class","reveal-container svelte-ufutjc")},m(j,U){M(j,e,U),u(e,n),u(n,t),u(t,o),u(o,i),u(t,r),u(t,a),u(a,d),u(n,f),u(n,g),u(g,m),u(e,b),u(e,E),u(E,C),u(C,_),u(C,w),u(C,y),u(y,T),u(C,N),u(C,A),u(e,D),L&&L.m(e,null),u(e,F),P&&P.m(e,null)},p(j,[U]){U&1&&s!==(s=j[1](j[0].category)+"")&&q(i,s),U&1&&c!==(c=j[0].category+"")&&q(d,c),U&1&&v!==(v=j[0].question+"")&&q(m,v),U&1&&k!==(k=j[0].truth.answer+"")&&q(T,k),j[0].lies&&j[0].lies.length>0?L?L.p(j,U):(L=at(j),L.c(),L.m(e,F)):L&&(L.d(1),L=null),j[0].truthVoters&&j[0].truthVoters.length>0?P?P.p(j,U):(P=mt(j),P.c(),P.m(e,null)):P&&(P.d(1),P=null)},i:Y,o:Y,d(j){j&&R(e),L&&L.d(),P&&P.d()}}}function el(l,e,n){let t,{data:o}=e;const s={History:"📚",Animals:"🐾",Food:"🍎",Sports:"⚽",Geography:"🌍",Music:"🎵",Science:"🔬",Literature:"📖",Inventions:"💡",TV:"📺",Art:"🎨",Language:"🗣️",Movies:"🎬",Tech:"💻",Fashion:"👗",Mythology:"⚡",Games:"🎮",Space:"🚀",Comics:"💥",Misc:"🎯",Bonus:"✨",Entertainment:"🎭",Nature:"🌿",Travel:"✈️"};function i(r){return s[r]||"❓"}return l.$$set=r=>{"data"in r&&n(2,o=r.data)},l.$$.update=()=>{l.$$.dirty&4&&n(0,t=o||{category:"Unknown",question:"Loading...",truth:{answer:"Loading..."},lies:[],truthVoters:[],truthPoints:1e3})},[t,i,o]}class tl extends fe{constructor(e){super(),de(this,e,el,xn,ge,{data:2})}}function vt(l,e,n){const t=l.slice();return t[3]=e[n],t[5]=n,t}function nl(l){let e,n=(l[0].question||1)+"",t,o;return{c(){e=B("Question "),t=B(n),o=B(" Complete!")},m(s,i){M(s,e,i),M(s,t,i),M(s,o,i)},p(s,i){i&1&&n!==(n=(s[0].question||1)+"")&&q(t,n)},d(s){s&&R(e),s&&R(t),s&&R(o)}}}function ll(l){let e;return{c(){e=B("🎊 Game Complete! 🎊")},m(n,t){M(n,e,t)},p:Y,d(n){n&&R(e)}}}function _t(l){let e,n,t=l[3].lastLie+"",o,s,i=l[3].likesReceived&&l[3].likesReceived>0&&wt();return{c(){e=p("div"),n=B('"'),o=B(t),s=B(`" 
                  `),i&&i.c(),h(e,"class","last-lie svelte-1pmdh9w")},m(r,a){M(r,e,a),u(e,n),u(e,o),u(e,s),i&&i.m(e,null)},p(r,a){a&2&&t!==(t=r[3].lastLie+"")&&q(o,t),r[3].likesReceived&&r[3].likesReceived>0?i||(i=wt(),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},d(r){r&&R(e),i&&i.d()}}}function wt(l){let e;return{c(){e=p("span"),e.textContent="👍🏻",h(e,"class","likes-indicator svelte-1pmdh9w")},m(n,t){M(n,e,t)},d(n){n&&R(e)}}}function yt(l){let e,n,t=l[3].pointsThisRound+"",o;return{c(){e=p("div"),n=B("+"),o=B(t),h(e,"class","points-gained svelte-1pmdh9w")},m(s,i){M(s,e,i),u(e,n),u(e,o)},p(s,i){i&2&&t!==(t=s[3].pointsThisRound+"")&&q(o,t)},d(s){s&&R(e)}}}function bt(l){var j;let e,n,t,o=cl(l[5]+1)+"",s,i,r,a,c,d=(((j=l[3].avatar)==null?void 0:j.emoji)||"😀")+"",f,g,v,m,b=l[3].name+"",E,C,_,w,y,k=l[3].points+"",T,N,A,D,F,L=l[3].lastLie&&_t(l),P=l[3].pointsThisRound&&yt(l);return{c(){var U;e=p("div"),n=p("div"),t=p("span"),s=B(o),i=S(),r=p("div"),a=p("div"),c=p("span"),f=B(d),g=S(),v=p("div"),m=p("div"),E=B(b),C=S(),L&&L.c(),_=S(),w=p("div"),y=p("div"),T=B(k),N=S(),A=p("div"),A.textContent="points",D=S(),P&&P.c(),F=S(),h(t,"class","rank-display svelte-1pmdh9w"),h(n,"class","player-rank svelte-1pmdh9w"),h(c,"class","player-emoji svelte-1pmdh9w"),h(a,"class","player-avatar svelte-1pmdh9w"),K(a,"background-color",((U=l[3].avatar)==null?void 0:U.color)||"#667eea"),h(m,"class","player-name svelte-1pmdh9w"),h(v,"class","player-details svelte-1pmdh9w"),h(r,"class","player-info svelte-1pmdh9w"),h(y,"class","points-total svelte-1pmdh9w"),h(A,"class","points-label svelte-1pmdh9w"),h(w,"class","player-stats svelte-1pmdh9w"),h(e,"class","player-row "+ul(l[5]+1)+" svelte-1pmdh9w"),K(e,"animation-delay",l[5]*.1+"s")},m(U,H){M(U,e,H),u(e,n),u(n,t),u(t,s),u(e,i),u(e,r),u(r,a),u(a,c),u(c,f),u(r,g),u(r,v),u(v,m),u(m,E),u(v,C),L&&L.m(v,null),u(e,_),u(e,w),u(w,y),u(y,T),u(w,N),u(w,A),u(w,D),P&&P.m(w,null),u(e,F)},p(U,H){var z,V;H&2&&d!==(d=(((z=U[3].avatar)==null?void 0:z.emoji)||"😀")+"")&&q(f,d),H&2&&K(a,"background-color",((V=U[3].avatar)==null?void 0:V.color)||"#667eea"),H&2&&b!==(b=U[3].name+"")&&q(E,b),U[3].lastLie?L?L.p(U,H):(L=_t(U),L.c(),L.m(v,null)):L&&(L.d(1),L=null),H&2&&k!==(k=U[3].points+"")&&q(T,k),U[3].pointsThisRound?P?P.p(U,H):(P=yt(U),P.c(),P.m(w,null)):P&&(P.d(1),P=null)},d(U){U&&R(e),L&&L.d(),P&&P.d()}}}function ol(l){var v;let e,n,t,o,s,i=((v=l[1][0])==null?void 0:v.name)+"",r,a,c,d,f,g;return{c(){e=p("div"),n=p("div"),t=p("div"),t.textContent="👑",o=S(),s=p("h3"),r=B(i),a=B(" is the Champion!"),c=S(),d=p("p"),d.textContent="Congratulations on your masterful deception!",f=S(),g=p("div"),g.innerHTML='<p class="thanks-message svelte-1pmdh9w">Thanks for playing Lie-Ability! 🎉</p>',h(t,"class","winner-crown svelte-1pmdh9w"),h(s,"class","winner-name svelte-1pmdh9w"),h(d,"class","winner-message svelte-1pmdh9w"),h(n,"class","winner-spotlight svelte-1pmdh9w"),h(g,"class","play-again-section svelte-1pmdh9w"),h(e,"class","game-complete-footer svelte-1pmdh9w")},m(m,b){M(m,e,b),u(e,n),u(n,t),u(n,o),u(n,s),u(s,r),u(s,a),u(n,c),u(n,d),u(e,f),u(e,g)},p(m,b){var E;b&2&&i!==(i=((E=m[1][0])==null?void 0:E.name)+"")&&q(r,i)},d(m){m&&R(e)}}}function sl(l){let e,n,t,o;function s(a,c){return a[0].round<a[0].totalRounds?rl:il}let i=s(l),r=i(l);return{c(){e=p("div"),n=p("div"),n.innerHTML=`<span class="svelte-1pmdh9w"></span> 
        <span class="svelte-1pmdh9w"></span> 
        <span class="svelte-1pmdh9w"></span>`,t=S(),o=p("p"),r.c(),h(n,"class","continue-dots svelte-1pmdh9w"),h(o,"class","svelte-1pmdh9w"),h(e,"class","continue-indicator svelte-1pmdh9w")},m(a,c){M(a,e,c),u(e,n),u(e,t),u(e,o),r.m(o,null)},p(a,c){i===(i=s(a))&&r?r.p(a,c):(r.d(1),r=i(a),r&&(r.c(),r.m(o,null)))},d(a){a&&R(e),r.d()}}}function il(l){let e;return{c(){e=B("Preparing final results...")},m(n,t){M(n,e,t)},p:Y,d(n){n&&R(e)}}}function rl(l){let e,n=l[0].round+1+"",t,o;return{c(){e=B("Get ready for Round "),t=B(n),o=B("...")},m(s,i){M(s,e,i),M(s,t,i),M(s,o,i)},p(s,i){i&1&&n!==(n=s[0].round+1+"")&&q(t,n)},d(s){s&&R(e),s&&R(t),s&&R(o)}}}function al(l){let e,n,t,o,s,i=l[2]()+"",r,a,c,d,f,g,v;function m(T,N){return T[0].isGameEnd?ll:nl}let b=m(l),E=b(l),C=l[1],_=[];for(let T=0;T<C.length;T+=1)_[T]=bt(vt(l,C,T));function w(T,N){return T[0].isGameEnd?ol:sl}let y=w(l),k=y(l);return{c(){e=p("div"),n=p("div"),t=p("h2"),E.c(),o=S(),s=p("p"),r=B(i),a=S(),c=p("div"),d=p("div"),d.innerHTML='<h3 class="leaderboard-title svelte-1pmdh9w">🏆 Leaderboard</h3>',f=S(),g=p("div");for(let T=0;T<_.length;T+=1)_[T].c();v=S(),k.c(),h(t,"class","scoreboard-title svelte-1pmdh9w"),h(s,"class","round-progress svelte-1pmdh9w"),h(n,"class","scoreboard-header svelte-1pmdh9w"),h(d,"class","leaderboard-header svelte-1pmdh9w"),h(g,"class","players-list svelte-1pmdh9w"),h(c,"class","leaderboard svelte-1pmdh9w"),h(e,"class","scoreboard-container svelte-1pmdh9w")},m(T,N){M(T,e,N),u(e,n),u(n,t),E.m(t,null),u(n,o),u(n,s),u(s,r),u(e,a),u(e,c),u(c,d),u(c,f),u(c,g);for(let A=0;A<_.length;A+=1)_[A]&&_[A].m(g,null);u(e,v),k.m(e,null)},p(T,[N]){if(b===(b=m(T))&&E?E.p(T,N):(E.d(1),E=b(T),E&&(E.c(),E.m(t,null))),N&1&&i!==(i=T[2]()+"")&&q(r,i),N&2){C=T[1];let A;for(A=0;A<C.length;A+=1){const D=vt(T,C,A);_[A]?_[A].p(D,N):(_[A]=bt(D),_[A].c(),_[A].m(g,null))}for(;A<_.length;A+=1)_[A].d(1);_.length=C.length}y===(y=w(T))&&k?k.p(T,N):(k.d(1),k=y(T),k&&(k.c(),k.m(e,null)))},i:Y,o:Y,d(T){T&&R(e),E.d(),le(_,T),k.d()}}}function cl(l){switch(l){case 1:return"🥇";case 2:return"🥈";case 3:return"🥉";default:return`#${l}`}}function ul(l){switch(l){case 1:return"rank-first";case 2:return"rank-second";case 3:return"rank-third";default:return"rank-other"}}function fl(l,e,n){let t,{data:o}=e;const s=()=>{const i=o.round||1,r=o.question||1,a=o.totalRounds||3,d=(o.questionsPerRound||8)-r,f=a-i;let g="";return d>0&&(g+=`${d} question${d!==1?"s":""} left in round`),f>0?(g&&(g+=" • "),f===1?g+="Next up: The Big Lie!":g+=`${f} round${f!==1?"s":""} until The Big Lie`):i===a&&(g&&(g+=" • "),g+="The Big Lie!"),o.isGameEnd?"🏆 Final Results 🏆":g||"Final question complete!"};return l.$$set=i=>{"data"in i&&n(0,o=i.data)},l.$$.update=()=>{l.$$.dirty&1&&n(1,t=[...(o==null?void 0:o.players)||[]].sort((i,r)=>r.points-i.points))},[o,t,s]}class dl extends fe{constructor(e){super(),de(this,e,fl,al,ge,{data:0})}}function Ct(l){let e,n,t,o;return{c(){e=p("div"),n=p("div"),t=p("span"),o=B(l[2]),h(t,"class","timer-text svelte-6p6yxa"),h(n,"class","timer-circle svelte-6p6yxa"),h(e,"class","timer-display svelte-6p6yxa"),Ee(e,"urgent",l[2]<=5)},m(s,i){M(s,e,i),u(e,n),u(n,t),u(t,o)},p(s,i){i&4&&q(o,s[2]),i&4&&Ee(e,"urgent",s[2]<=5)},d(s){s&&R(e)}}}function gl(l){let e,n;return e=new dl({props:{data:l[6]}}),{c(){he(e.$$.fragment)},m(t,o){me(e,t,o),n=!0},p(t,o){const s={};o&64&&(s.data=t[6]),e.$set(s)},i(t){n||(ne(e.$$.fragment,t),n=!0)},o(t){te(e.$$.fragment,t),n=!1},d(t){pe(e,t)}}}function hl(l){let e,n;return e=new tl({props:{data:l[5]}}),{c(){he(e.$$.fragment)},m(t,o){me(e,t,o),n=!0},p(t,o){const s={};o&32&&(s.data=t[5]),e.$set(s)},i(t){n||(ne(e.$$.fragment,t),n=!0)},o(t){te(e.$$.fragment,t),n=!1},d(t){pe(e,t)}}}function ml(l){let e,n;return e=new Ft({props:{currentQuestion:l[1],state:l[0].state}}),{c(){he(e.$$.fragment)},m(t,o){me(e,t,o),n=!0},p(t,o){const s={};o&2&&(s.currentQuestion=t[1]),o&1&&(s.state=t[0].state),e.$set(s)},i(t){n||(ne(e.$$.fragment,t),n=!0)},o(t){te(e.$$.fragment,t),n=!1},d(t){pe(e,t)}}}function pl(l){let e,n;return e=new Ft({props:{currentQuestion:l[1],state:l[0].state}}),{c(){he(e.$$.fragment)},m(t,o){me(e,t,o),n=!0},p(t,o){const s={};o&2&&(s.currentQuestion=t[1]),o&1&&(s.state=t[0].state),e.$set(s)},i(t){n||(ne(e.$$.fragment,t),n=!0)},o(t){te(e.$$.fragment,t),n=!1},d(t){pe(e,t)}}}function vl(l){let e,n;return e=new Jn({props:{currentQuestion:l[1]}}),{c(){he(e.$$.fragment)},m(t,o){me(e,t,o),n=!0},p(t,o){const s={};o&2&&(s.currentQuestion=t[1]),e.$set(s)},i(t){n||(ne(e.$$.fragment,t),n=!0)},o(t){te(e.$$.fragment,t),n=!1},d(t){pe(e,t)}}}function _l(l){let e,n;return e=new $n({props:{gameState:l[0],qrCodeUrl:l[3],serverUrl:l[4],onStart:l[7]}}),{c(){he(e.$$.fragment)},m(t,o){me(e,t,o),n=!0},p(t,o){const s={};o&1&&(s.gameState=t[0]),o&8&&(s.qrCodeUrl=t[3]),o&16&&(s.serverUrl=t[4]),e.$set(s)},i(t){n||(ne(e.$$.fragment,t),n=!0)},o(t){te(e.$$.fragment,t),n=!1},d(t){pe(e,t)}}}function wl(l){let e,n,t,o,s,i,r=l[2]>0&&Ct(l);const a=[_l,vl,pl,ml,hl,gl],c=[];function d(f,g){return f[0].state==="lobby"?0:f[0].state==="category_selection"?1:f[0].state==="question_reading"||f[0].state==="lie_submission"?2:f[0].state==="option_selection"?3:f[0].state==="truth_reveal"?4:f[0].state==="scoreboard"?5:-1}return~(o=d(l))&&(s=c[o]=a[o](l)),{c(){e=p("main"),r&&r.c(),n=S(),t=p("div"),s&&s.c(),h(t,"class","game-content svelte-6p6yxa"),h(e,"class","host-container svelte-6p6yxa")},m(f,g){M(f,e,g),r&&r.m(e,null),u(e,n),u(e,t),~o&&c[o].m(t,null),i=!0},p(f,[g]){f[2]>0?r?r.p(f,g):(r=Ct(f),r.c(),r.m(e,n)):r&&(r.d(1),r=null);let v=o;o=d(f),o===v?~o&&c[o].p(f,g):(s&&(Kt(),te(c[v],1,1,()=>{c[v]=null}),Qt()),~o?(s=c[o],s?s.p(f,g):(s=c[o]=a[o](f),s.c()),ne(s,1),s.m(t,null)):s=null)},i(f){i||(ne(s),i=!0)},o(f){te(s),i=!1},d(f){f&&R(e),r&&r.d(),~o&&c[o].d()}}}function yl(l,e,n){let t,o={state:"lobby",players:[],currentRound:1,totalRounds:3,currentQuestion:1},s=null,i=0,r="",a="",c=null,d={players:[]};async function f(){try{const b=await(await fetch("/api/server-info")).json();n(4,a=b.playerUrl),n(3,r=await ie.toDataURL(a))}catch(m){console.error("Failed to get server info:",m),n(4,a=window.location.origin+"/player"),n(3,r=await ie.toDataURL(a))}}function g(){t=Jt(),t.on("connect",()=>{console.log("Host connected to server"),t.emit("request_game_state")}),t.on("game_state_update",m=>{n(0,o={...m})}),t.on("category_selection_start",m=>{n(0,o={...o,state:"category_selection"}),n(1,s={categories:m.categories,selectorName:m.selectorName})}),t.on("question_reading_start",m=>{n(0,o={...o,state:"question_reading"}),n(1,s=m)}),t.on("lie_submission_start",m=>{n(0,o={...o,state:"lie_submission"})}),t.on("option_selection_start",m=>{n(0,o={...o,state:"option_selection"}),n(1,s={...s,options:m.options})}),t.on("host_sub_step_info",m=>{m.state==="option_selection"&&m.options&&n(1,s={...s,options:m.options})}),t.on("truth_reveal_start",m=>{n(5,c=m||{category:"Unknown",question:"Loading...",truth:{answer:"Loading..."},lies:[],truthVoters:[],truthPoints:1e3}),n(0,o={...o,state:"truth_reveal"})}),t.on("scoreboard_update",m=>{n(6,d=m||{players:[]}),n(0,o={...o,state:"scoreboard"})}),t.on("game_ended",m=>{n(6,d={...d,players:m.finalScores,isGameEnd:!0,winner:m.winner}),n(0,o={...o,state:"scoreboard"})}),t.on("timer_update",m=>{n(2,i=m.secondsRemaining)}),t.on("player_joined",m=>{m.gameState&&n(0,o=m.gameState)}),t.on("player_left",m=>{m.gameState&&n(0,o=m.gameState)})}function v(){t.emit("start_game")}return $t(async()=>{await f(),g()}),Gt(()=>{t&&t.disconnect()}),l.$$.update=()=>{l.$$.dirty&1&&console.log("Host gameState changed:",o)},[o,s,i,r,a,c,d,v]}class bl extends fe{constructor(e){super(),de(this,e,yl,wl,ge,{})}}new bl({target:document.getElementById("app")});
