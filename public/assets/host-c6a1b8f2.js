import{S as J,i as Y,s as O,e as b,b as E,c as P,n as $,f as R,g as se,t as N,a as I,h as ve,d as f,j as M,l as bt,k as tt,m as V,o as nt,p as q,q as rt,r as Ct,u as Fe,v as W,w as Z,x as X,y as ot}from"./index-e033b880.js";import{l as Et}from"./index-d9998155.js";var ae={},Bt=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},it={},D={};let ke;const Nt=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];D.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};D.getSymbolTotalCodewords=function(e){return Nt[e]};D.getBCHDigit=function(r){let e=0;for(;r!==0;)e++,r>>>=1;return e};D.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');ke=e};D.isKanjiModeEnabled=function(){return typeof ke<"u"};D.toSJIS=function(e){return ke(e)};var me={};(function(r){r.L={bit:1},r.M={bit:0},r.Q={bit:3},r.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return r.L;case"m":case"medium":return r.M;case"q":case"quartile":return r.Q;case"h":case"high":return r.H;default:throw new Error("Unknown EC Level: "+n)}}r.isValid=function(t){return t&&typeof t.bit<"u"&&t.bit>=0&&t.bit<4},r.from=function(t,o){if(r.isValid(t))return t;try{return e(t)}catch{return o}}})(me);function lt(){this.buffer=[],this.length=0}lt.prototype={get:function(r){const e=Math.floor(r/8);return(this.buffer[e]>>>7-r%8&1)===1},put:function(r,e){for(let n=0;n<e;n++)this.putBit((r>>>e-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(r){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),r&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var At=lt;function ce(r){if(!r||r<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=r,this.data=new Uint8Array(r*r),this.reservedBit=new Uint8Array(r*r)}ce.prototype.set=function(r,e,n,t){const o=r*this.size+e;this.data[o]=n,t&&(this.reservedBit[o]=!0)};ce.prototype.get=function(r,e){return this.data[r*this.size+e]};ce.prototype.xor=function(r,e,n){this.data[r*this.size+e]^=n};ce.prototype.isReserved=function(r,e){return this.reservedBit[r*this.size+e]};var Tt=ce,st={};(function(r){const e=D.getSymbolSize;r.getRowColCoords=function(t){if(t===1)return[];const o=Math.floor(t/7)+2,i=e(t),l=i===145?26:Math.ceil((i-13)/(2*o-2))*2,s=[i-7];for(let a=1;a<o-1;a++)s[a]=s[a-1]-l;return s.push(6),s.reverse()},r.getPositions=function(t){const o=[],i=r.getRowColCoords(t),l=i.length;for(let s=0;s<l;s++)for(let a=0;a<l;a++)s===0&&a===0||s===0&&a===l-1||s===l-1&&a===0||o.push([i[s],i[a]]);return o}})(st);var at={};const St=D.getSymbolSize,Ve=7;at.getPositions=function(e){const n=St(e);return[[0,0],[n-Ve,0],[0,n-Ve]]};var ct={};(function(r){r.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};r.isValid=function(o){return o!=null&&o!==""&&!isNaN(o)&&o>=0&&o<=7},r.from=function(o){return r.isValid(o)?parseInt(o,10):void 0},r.getPenaltyN1=function(o){const i=o.size;let l=0,s=0,a=0,c=null,u=null;for(let h=0;h<i;h++){s=a=0,c=u=null;for(let m=0;m<i;m++){let d=o.get(h,m);d===c?s++:(s>=5&&(l+=e.N1+(s-5)),c=d,s=1),d=o.get(m,h),d===u?a++:(a>=5&&(l+=e.N1+(a-5)),u=d,a=1)}s>=5&&(l+=e.N1+(s-5)),a>=5&&(l+=e.N1+(a-5))}return l},r.getPenaltyN2=function(o){const i=o.size;let l=0;for(let s=0;s<i-1;s++)for(let a=0;a<i-1;a++){const c=o.get(s,a)+o.get(s,a+1)+o.get(s+1,a)+o.get(s+1,a+1);(c===4||c===0)&&l++}return l*e.N2},r.getPenaltyN3=function(o){const i=o.size;let l=0,s=0,a=0;for(let c=0;c<i;c++){s=a=0;for(let u=0;u<i;u++)s=s<<1&2047|o.get(c,u),u>=10&&(s===1488||s===93)&&l++,a=a<<1&2047|o.get(u,c),u>=10&&(a===1488||a===93)&&l++}return l*e.N3},r.getPenaltyN4=function(o){let i=0;const l=o.data.length;for(let a=0;a<l;a++)i+=o.data[a];return Math.abs(Math.ceil(i*100/l/5)-10)*e.N4};function n(t,o,i){switch(t){case r.Patterns.PATTERN000:return(o+i)%2===0;case r.Patterns.PATTERN001:return o%2===0;case r.Patterns.PATTERN010:return i%3===0;case r.Patterns.PATTERN011:return(o+i)%3===0;case r.Patterns.PATTERN100:return(Math.floor(o/2)+Math.floor(i/3))%2===0;case r.Patterns.PATTERN101:return o*i%2+o*i%3===0;case r.Patterns.PATTERN110:return(o*i%2+o*i%3)%2===0;case r.Patterns.PATTERN111:return(o*i%3+(o+i)%2)%2===0;default:throw new Error("bad maskPattern:"+t)}}r.applyMask=function(o,i){const l=i.size;for(let s=0;s<l;s++)for(let a=0;a<l;a++)i.isReserved(a,s)||i.xor(a,s,n(o,a,s))},r.getBestMask=function(o,i){const l=Object.keys(r.Patterns).length;let s=0,a=1/0;for(let c=0;c<l;c++){i(c),r.applyMask(c,o);const u=r.getPenaltyN1(o)+r.getPenaltyN2(o)+r.getPenaltyN3(o)+r.getPenaltyN4(o);r.applyMask(c,o),u<a&&(a=u,s=c)}return s}})(ct);var _e={};const Q=me,fe=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],ge=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];_e.getBlocksCount=function(e,n){switch(n){case Q.L:return fe[(e-1)*4+0];case Q.M:return fe[(e-1)*4+1];case Q.Q:return fe[(e-1)*4+2];case Q.H:return fe[(e-1)*4+3];default:return}};_e.getTotalCodewordsCount=function(e,n){switch(n){case Q.L:return ge[(e-1)*4+0];case Q.M:return ge[(e-1)*4+1];case Q.Q:return ge[(e-1)*4+2];case Q.H:return ge[(e-1)*4+3];default:return}};var ut={},pe={};const ie=new Uint8Array(512),de=new Uint8Array(256);(function(){let e=1;for(let n=0;n<255;n++)ie[n]=e,de[e]=n,e<<=1,e&256&&(e^=285);for(let n=255;n<512;n++)ie[n]=ie[n-255]})();pe.log=function(e){if(e<1)throw new Error("log("+e+")");return de[e]};pe.exp=function(e){return ie[e]};pe.mul=function(e,n){return e===0||n===0?0:ie[de[e]+de[n]]};(function(r){const e=pe;r.mul=function(t,o){const i=new Uint8Array(t.length+o.length-1);for(let l=0;l<t.length;l++)for(let s=0;s<o.length;s++)i[l+s]^=e.mul(t[l],o[s]);return i},r.mod=function(t,o){let i=new Uint8Array(t);for(;i.length-o.length>=0;){const l=i[0];for(let a=0;a<o.length;a++)i[a]^=e.mul(o[a],l);let s=0;for(;s<i.length&&i[s]===0;)s++;i=i.slice(s)}return i},r.generateECPolynomial=function(t){let o=new Uint8Array([1]);for(let i=0;i<t;i++)o=r.mul(o,new Uint8Array([1,e.exp(i)]));return o}})(ut);const ft=ut;function Me(r){this.genPoly=void 0,this.degree=r,this.degree&&this.initialize(this.degree)}Me.prototype.initialize=function(e){this.degree=e,this.genPoly=ft.generateECPolynomial(this.degree)};Me.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(e.length+this.degree);n.set(e);const t=ft.mod(n,this.genPoly),o=this.degree-t.length;if(o>0){const i=new Uint8Array(this.degree);return i.set(t,o),i}return t};var It=Me,gt={},x={},Pe={};Pe.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var K={};const dt="[0-9]+",kt="[A-Z $%*+\\-./:]+";let le="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";le=le.replace(/u/g,"\\u");const Mt="(?:(?![A-Z0-9 $%*+\\-./:]|"+le+`)(?:.|[\r
]))+`;K.KANJI=new RegExp(le,"g");K.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");K.BYTE=new RegExp(Mt,"g");K.NUMERIC=new RegExp(dt,"g");K.ALPHANUMERIC=new RegExp(kt,"g");const Pt=new RegExp("^"+le+"$"),Rt=new RegExp("^"+dt+"$"),Lt=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");K.testKanji=function(e){return Pt.test(e)};K.testNumeric=function(e){return Rt.test(e)};K.testAlphanumeric=function(e){return Lt.test(e)};(function(r){const e=Pe,n=K;r.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},r.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},r.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},r.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},r.MIXED={bit:-1},r.getCharCountIndicator=function(i,l){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!e.isValid(l))throw new Error("Invalid version: "+l);return l>=1&&l<10?i.ccBits[0]:l<27?i.ccBits[1]:i.ccBits[2]},r.getBestModeForData=function(i){return n.testNumeric(i)?r.NUMERIC:n.testAlphanumeric(i)?r.ALPHANUMERIC:n.testKanji(i)?r.KANJI:r.BYTE},r.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},r.isValid=function(i){return i&&i.bit&&i.ccBits};function t(o){if(typeof o!="string")throw new Error("Param is not a string");switch(o.toLowerCase()){case"numeric":return r.NUMERIC;case"alphanumeric":return r.ALPHANUMERIC;case"kanji":return r.KANJI;case"byte":return r.BYTE;default:throw new Error("Unknown mode: "+o)}}r.from=function(i,l){if(r.isValid(i))return i;try{return t(i)}catch{return l}}})(x);(function(r){const e=D,n=_e,t=me,o=x,i=Pe,l=7973,s=e.getBCHDigit(l);function a(m,d,w){for(let v=1;v<=40;v++)if(d<=r.getCapacity(v,w,m))return v}function c(m,d){return o.getCharCountIndicator(m,d)+4}function u(m,d){let w=0;return m.forEach(function(v){const C=c(v.mode,d);w+=C+v.getBitsLength()}),w}function h(m,d){for(let w=1;w<=40;w++)if(u(m,w)<=r.getCapacity(w,d,o.MIXED))return w}r.from=function(d,w){return i.isValid(d)?parseInt(d,10):w},r.getCapacity=function(d,w,v){if(!i.isValid(d))throw new Error("Invalid QR Code version");typeof v>"u"&&(v=o.BYTE);const C=e.getSymbolTotalCodewords(d),_=n.getTotalCodewordsCount(d,w),p=(C-_)*8;if(v===o.MIXED)return p;const y=p-c(v,d);switch(v){case o.NUMERIC:return Math.floor(y/10*3);case o.ALPHANUMERIC:return Math.floor(y/11*2);case o.KANJI:return Math.floor(y/13);case o.BYTE:default:return Math.floor(y/8)}},r.getBestVersionForData=function(d,w){let v;const C=t.from(w,t.M);if(Array.isArray(d)){if(d.length>1)return h(d,C);if(d.length===0)return 1;v=d[0]}else v=d;return a(v.mode,v.getLength(),C)},r.getEncodedBits=function(d){if(!i.isValid(d)||d<7)throw new Error("Invalid QR Code version");let w=d<<12;for(;e.getBCHDigit(w)-s>=0;)w^=l<<e.getBCHDigit(w)-s;return d<<12|w}})(gt);var ht={};const Ae=D,mt=1335,$t=21522,qe=Ae.getBCHDigit(mt);ht.getEncodedBits=function(e,n){const t=e.bit<<3|n;let o=t<<10;for(;Ae.getBCHDigit(o)-qe>=0;)o^=mt<<Ae.getBCHDigit(o)-qe;return(t<<10|o)^$t};var _t={};const Ut=x;function te(r){this.mode=Ut.NUMERIC,this.data=r.toString()}te.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};te.prototype.getLength=function(){return this.data.length};te.prototype.getBitsLength=function(){return te.getBitsLength(this.data.length)};te.prototype.write=function(e){let n,t,o;for(n=0;n+3<=this.data.length;n+=3)t=this.data.substr(n,3),o=parseInt(t,10),e.put(o,10);const i=this.data.length-n;i>0&&(t=this.data.substr(n),o=parseInt(t,10),e.put(o,i*3+1))};var Dt=te;const Ft=x,be=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function ne(r){this.mode=Ft.ALPHANUMERIC,this.data=r}ne.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};ne.prototype.getLength=function(){return this.data.length};ne.prototype.getBitsLength=function(){return ne.getBitsLength(this.data.length)};ne.prototype.write=function(e){let n;for(n=0;n+2<=this.data.length;n+=2){let t=be.indexOf(this.data[n])*45;t+=be.indexOf(this.data[n+1]),e.put(t,11)}this.data.length%2&&e.put(be.indexOf(this.data[n]),6)};var Vt=ne;const qt=x;function re(r){this.mode=qt.BYTE,typeof r=="string"?this.data=new TextEncoder().encode(r):this.data=new Uint8Array(r)}re.getBitsLength=function(e){return e*8};re.prototype.getLength=function(){return this.data.length};re.prototype.getBitsLength=function(){return re.getBitsLength(this.data.length)};re.prototype.write=function(r){for(let e=0,n=this.data.length;e<n;e++)r.put(this.data[e],8)};var zt=re;const Ht=x,jt=D;function oe(r){this.mode=Ht.KANJI,this.data=r}oe.getBitsLength=function(e){return e*13};oe.prototype.getLength=function(){return this.data.length};oe.prototype.getBitsLength=function(){return oe.getBitsLength(this.data.length)};oe.prototype.write=function(r){let e;for(e=0;e<this.data.length;e++){let n=jt.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),r.put(n,13)}};var Kt=oe,pt={exports:{}};(function(r){var e={single_source_shortest_paths:function(n,t,o){var i={},l={};l[t]=0;var s=e.PriorityQueue.make();s.push(t,0);for(var a,c,u,h,m,d,w,v,C;!s.empty();){a=s.pop(),c=a.value,h=a.cost,m=n[c]||{};for(u in m)m.hasOwnProperty(u)&&(d=m[u],w=h+d,v=l[u],C=typeof l[u]>"u",(C||v>w)&&(l[u]=w,s.push(u,w),i[u]=c))}if(typeof o<"u"&&typeof l[o]>"u"){var _=["Could not find a path from ",t," to ",o,"."].join("");throw new Error(_)}return i},extract_shortest_path_from_predecessor_list:function(n,t){for(var o=[],i=t;i;)o.push(i),n[i],i=n[i];return o.reverse(),o},find_path:function(n,t,o){var i=e.single_source_shortest_paths(n,t,o);return e.extract_shortest_path_from_predecessor_list(i,o)},PriorityQueue:{make:function(n){var t=e.PriorityQueue,o={},i;n=n||{};for(i in t)t.hasOwnProperty(i)&&(o[i]=t[i]);return o.queue=[],o.sorter=n.sorter||t.default_sorter,o},default_sorter:function(n,t){return n.cost-t.cost},push:function(n,t){var o={value:n,cost:t};this.queue.push(o),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};r.exports=e})(pt);var Jt=pt.exports;(function(r){const e=x,n=Dt,t=Vt,o=zt,i=Kt,l=K,s=D,a=Jt;function c(_){return unescape(encodeURIComponent(_)).length}function u(_,p,y){const g=[];let B;for(;(B=_.exec(y))!==null;)g.push({data:B[0],index:B.index,mode:p,length:B[0].length});return g}function h(_){const p=u(l.NUMERIC,e.NUMERIC,_),y=u(l.ALPHANUMERIC,e.ALPHANUMERIC,_);let g,B;return s.isKanjiModeEnabled()?(g=u(l.BYTE,e.BYTE,_),B=u(l.KANJI,e.KANJI,_)):(g=u(l.BYTE_KANJI,e.BYTE,_),B=[]),p.concat(y,g,B).sort(function(T,U){return T.index-U.index}).map(function(T){return{data:T.data,mode:T.mode,length:T.length}})}function m(_,p){switch(p){case e.NUMERIC:return n.getBitsLength(_);case e.ALPHANUMERIC:return t.getBitsLength(_);case e.KANJI:return i.getBitsLength(_);case e.BYTE:return o.getBitsLength(_)}}function d(_){return _.reduce(function(p,y){const g=p.length-1>=0?p[p.length-1]:null;return g&&g.mode===y.mode?(p[p.length-1].data+=y.data,p):(p.push(y),p)},[])}function w(_){const p=[];for(let y=0;y<_.length;y++){const g=_[y];switch(g.mode){case e.NUMERIC:p.push([g,{data:g.data,mode:e.ALPHANUMERIC,length:g.length},{data:g.data,mode:e.BYTE,length:g.length}]);break;case e.ALPHANUMERIC:p.push([g,{data:g.data,mode:e.BYTE,length:g.length}]);break;case e.KANJI:p.push([g,{data:g.data,mode:e.BYTE,length:c(g.data)}]);break;case e.BYTE:p.push([{data:g.data,mode:e.BYTE,length:c(g.data)}])}}return p}function v(_,p){const y={},g={start:{}};let B=["start"];for(let A=0;A<_.length;A++){const T=_[A],U=[];for(let L=0;L<T.length;L++){const S=T[L],k=""+A+L;U.push(k),y[k]={node:S,lastCount:0},g[k]={};for(let ee=0;ee<B.length;ee++){const F=B[ee];y[F]&&y[F].node.mode===S.mode?(g[F][k]=m(y[F].lastCount+S.length,S.mode)-m(y[F].lastCount,S.mode),y[F].lastCount+=S.length):(y[F]&&(y[F].lastCount=S.length),g[F][k]=m(S.length,S.mode)+4+e.getCharCountIndicator(S.mode,p))}}B=U}for(let A=0;A<B.length;A++)g[B[A]].end=0;return{map:g,table:y}}function C(_,p){let y;const g=e.getBestModeForData(_);if(y=e.from(p,g),y!==e.BYTE&&y.bit<g.bit)throw new Error('"'+_+'" cannot be encoded with mode '+e.toString(y)+`.
 Suggested mode is: `+e.toString(g));switch(y===e.KANJI&&!s.isKanjiModeEnabled()&&(y=e.BYTE),y){case e.NUMERIC:return new n(_);case e.ALPHANUMERIC:return new t(_);case e.KANJI:return new i(_);case e.BYTE:return new o(_)}}r.fromArray=function(p){return p.reduce(function(y,g){return typeof g=="string"?y.push(C(g,null)):g.data&&y.push(C(g.data,g.mode)),y},[])},r.fromString=function(p,y){const g=h(p,s.isKanjiModeEnabled()),B=w(g),A=v(B,y),T=a.find_path(A.map,"start","end"),U=[];for(let L=1;L<T.length-1;L++)U.push(A.table[T[L]].node);return r.fromArray(d(U))},r.rawSplit=function(p){return r.fromArray(h(p,s.isKanjiModeEnabled()))}})(_t);const ye=D,Ce=me,Yt=At,Ot=Tt,Gt=st,Qt=at,Te=ct,Se=_e,Wt=It,he=gt,Zt=ht,Xt=x,Ee=_t;function xt(r,e){const n=r.size,t=Qt.getPositions(e);for(let o=0;o<t.length;o++){const i=t[o][0],l=t[o][1];for(let s=-1;s<=7;s++)if(!(i+s<=-1||n<=i+s))for(let a=-1;a<=7;a++)l+a<=-1||n<=l+a||(s>=0&&s<=6&&(a===0||a===6)||a>=0&&a<=6&&(s===0||s===6)||s>=2&&s<=4&&a>=2&&a<=4?r.set(i+s,l+a,!0,!0):r.set(i+s,l+a,!1,!0))}}function en(r){const e=r.size;for(let n=8;n<e-8;n++){const t=n%2===0;r.set(n,6,t,!0),r.set(6,n,t,!0)}}function tn(r,e){const n=Gt.getPositions(e);for(let t=0;t<n.length;t++){const o=n[t][0],i=n[t][1];for(let l=-2;l<=2;l++)for(let s=-2;s<=2;s++)l===-2||l===2||s===-2||s===2||l===0&&s===0?r.set(o+l,i+s,!0,!0):r.set(o+l,i+s,!1,!0)}}function nn(r,e){const n=r.size,t=he.getEncodedBits(e);let o,i,l;for(let s=0;s<18;s++)o=Math.floor(s/3),i=s%3+n-8-3,l=(t>>s&1)===1,r.set(o,i,l,!0),r.set(i,o,l,!0)}function Be(r,e,n){const t=r.size,o=Zt.getEncodedBits(e,n);let i,l;for(i=0;i<15;i++)l=(o>>i&1)===1,i<6?r.set(i,8,l,!0):i<8?r.set(i+1,8,l,!0):r.set(t-15+i,8,l,!0),i<8?r.set(8,t-i-1,l,!0):i<9?r.set(8,15-i-1+1,l,!0):r.set(8,15-i-1,l,!0);r.set(t-8,8,1,!0)}function rn(r,e){const n=r.size;let t=-1,o=n-1,i=7,l=0;for(let s=n-1;s>0;s-=2)for(s===6&&s--;;){for(let a=0;a<2;a++)if(!r.isReserved(o,s-a)){let c=!1;l<e.length&&(c=(e[l]>>>i&1)===1),r.set(o,s-a,c),i--,i===-1&&(l++,i=7)}if(o+=t,o<0||n<=o){o-=t,t=-t;break}}}function on(r,e,n){const t=new Yt;n.forEach(function(a){t.put(a.mode.bit,4),t.put(a.getLength(),Xt.getCharCountIndicator(a.mode,r)),a.write(t)});const o=ye.getSymbolTotalCodewords(r),i=Se.getTotalCodewordsCount(r,e),l=(o-i)*8;for(t.getLengthInBits()+4<=l&&t.put(0,4);t.getLengthInBits()%8!==0;)t.putBit(0);const s=(l-t.getLengthInBits())/8;for(let a=0;a<s;a++)t.put(a%2?17:236,8);return ln(t,r,e)}function ln(r,e,n){const t=ye.getSymbolTotalCodewords(e),o=Se.getTotalCodewordsCount(e,n),i=t-o,l=Se.getBlocksCount(e,n),s=t%l,a=l-s,c=Math.floor(t/l),u=Math.floor(i/l),h=u+1,m=c-u,d=new Wt(m);let w=0;const v=new Array(l),C=new Array(l);let _=0;const p=new Uint8Array(r.buffer);for(let T=0;T<l;T++){const U=T<a?u:h;v[T]=p.slice(w,w+U),C[T]=d.encode(v[T]),w+=U,_=Math.max(_,U)}const y=new Uint8Array(t);let g=0,B,A;for(B=0;B<_;B++)for(A=0;A<l;A++)B<v[A].length&&(y[g++]=v[A][B]);for(B=0;B<m;B++)for(A=0;A<l;A++)y[g++]=C[A][B];return y}function sn(r,e,n,t){let o;if(Array.isArray(r))o=Ee.fromArray(r);else if(typeof r=="string"){let c=e;if(!c){const u=Ee.rawSplit(r);c=he.getBestVersionForData(u,n)}o=Ee.fromString(r,c||40)}else throw new Error("Invalid data");const i=he.getBestVersionForData(o,n);if(!i)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=i;else if(e<i)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+i+`.
`);const l=on(e,n,o),s=ye.getSymbolSize(e),a=new Ot(s);return xt(a,e),en(a),tn(a,e),Be(a,n,0),e>=7&&nn(a,e),rn(a,l),isNaN(t)&&(t=Te.getBestMask(a,Be.bind(null,a,n))),Te.applyMask(t,a),Be(a,n,t),{modules:a,version:e,errorCorrectionLevel:n,maskPattern:t,segments:o}}it.create=function(e,n){if(typeof e>"u"||e==="")throw new Error("No input text");let t=Ce.M,o,i;return typeof n<"u"&&(t=Ce.from(n.errorCorrectionLevel,Ce.M),o=he.from(n.version),i=Te.from(n.maskPattern),n.toSJISFunc&&ye.setToSJISFunction(n.toSJISFunc)),sn(e,o,t,i)};var yt={},Re={};(function(r){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let t=n.slice().replace("#","").split("");if(t.length<3||t.length===5||t.length>8)throw new Error("Invalid hex color: "+n);(t.length===3||t.length===4)&&(t=Array.prototype.concat.apply([],t.map(function(i){return[i,i]}))),t.length===6&&t.push("F","F");const o=parseInt(t.join(""),16);return{r:o>>24&255,g:o>>16&255,b:o>>8&255,a:o&255,hex:"#"+t.slice(0,6).join("")}}r.getOptions=function(t){t||(t={}),t.color||(t.color={});const o=typeof t.margin>"u"||t.margin===null||t.margin<0?4:t.margin,i=t.width&&t.width>=21?t.width:void 0,l=t.scale||4;return{width:i,scale:i?4:l,margin:o,color:{dark:e(t.color.dark||"#000000ff"),light:e(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}},r.getScale=function(t,o){return o.width&&o.width>=t+o.margin*2?o.width/(t+o.margin*2):o.scale},r.getImageWidth=function(t,o){const i=r.getScale(t,o);return Math.floor((t+o.margin*2)*i)},r.qrToImageData=function(t,o,i){const l=o.modules.size,s=o.modules.data,a=r.getScale(l,i),c=Math.floor((l+i.margin*2)*a),u=i.margin*a,h=[i.color.light,i.color.dark];for(let m=0;m<c;m++)for(let d=0;d<c;d++){let w=(m*c+d)*4,v=i.color.light;if(m>=u&&d>=u&&m<c-u&&d<c-u){const C=Math.floor((m-u)/a),_=Math.floor((d-u)/a);v=h[s[C*l+_]?1:0]}t[w++]=v.r,t[w++]=v.g,t[w++]=v.b,t[w]=v.a}}})(Re);(function(r){const e=Re;function n(o,i,l){o.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=l,i.width=l,i.style.height=l+"px",i.style.width=l+"px"}function t(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}r.render=function(i,l,s){let a=s,c=l;typeof a>"u"&&(!l||!l.getContext)&&(a=l,l=void 0),l||(c=t()),a=e.getOptions(a);const u=e.getImageWidth(i.modules.size,a),h=c.getContext("2d"),m=h.createImageData(u,u);return e.qrToImageData(m.data,i,a),n(h,c,u),h.putImageData(m,0,0),c},r.renderToDataURL=function(i,l,s){let a=s;typeof a>"u"&&(!l||!l.getContext)&&(a=l,l=void 0),a||(a={});const c=r.render(i,l,a),u=a.type||"image/png",h=a.rendererOpts||{};return c.toDataURL(u,h.quality)}})(yt);var wt={};const an=Re;function ze(r,e){const n=r.a/255,t=e+'="'+r.hex+'"';return n<1?t+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':t}function Ne(r,e,n){let t=r+e;return typeof n<"u"&&(t+=" "+n),t}function cn(r,e,n){let t="",o=0,i=!1,l=0;for(let s=0;s<r.length;s++){const a=Math.floor(s%e),c=Math.floor(s/e);!a&&!i&&(i=!0),r[s]?(l++,s>0&&a>0&&r[s-1]||(t+=i?Ne("M",a+n,.5+c+n):Ne("m",o,0),o=0,i=!1),a+1<e&&r[s+1]||(t+=Ne("h",l),l=0)):o++}return t}wt.render=function(e,n,t){const o=an.getOptions(n),i=e.modules.size,l=e.modules.data,s=i+o.margin*2,a=o.color.light.a?"<path "+ze(o.color.light,"fill")+' d="M0 0h'+s+"v"+s+'H0z"/>':"",c="<path "+ze(o.color.dark,"stroke")+' d="'+cn(l,i,o.margin)+'"/>',u='viewBox="0 0 '+s+" "+s+'"',m='<svg xmlns="http://www.w3.org/2000/svg" '+(o.width?'width="'+o.width+'" height="'+o.width+'" ':"")+u+' shape-rendering="crispEdges">'+a+c+`</svg>
`;return typeof t=="function"&&t(null,m),m};const un=Bt,Ie=it,vt=yt,fn=wt;function Le(r,e,n,t,o){const i=[].slice.call(arguments,1),l=i.length,s=typeof i[l-1]=="function";if(!s&&!un())throw new Error("Callback required as last argument");if(s){if(l<2)throw new Error("Too few arguments provided");l===2?(o=n,n=e,e=t=void 0):l===3&&(e.getContext&&typeof o>"u"?(o=t,t=void 0):(o=t,t=n,n=e,e=void 0))}else{if(l<1)throw new Error("Too few arguments provided");return l===1?(n=e,e=t=void 0):l===2&&!e.getContext&&(t=n,n=e,e=void 0),new Promise(function(a,c){try{const u=Ie.create(n,t);a(r(u,e,t))}catch(u){c(u)}})}try{const a=Ie.create(n,t);o(null,r(a,e,t))}catch(a){o(a)}}ae.create=Ie.create;ae.toCanvas=Le.bind(null,vt.render);ae.toDataURL=Le.bind(null,vt.renderToDataURL);ae.toString=Le.bind(null,function(r,e,n){return fn.render(r,n)});function He(r,e,n){const t=r.slice();return t[1]=e[n],t[3]=n,t}function je(r){var m;let e,n,t=((m=r[1].avatar)==null?void 0:m.emoji)+"",o,i,l,s=r[1].name+"",a,c,u,h;return{c(){var d;e=b("li"),n=b("span"),o=N(t),i=I(),l=b("span"),a=N(s),c=I(),u=b("span"),u.textContent="Ready",h=I(),E(n,"class","player-avatar svelte-1i32wce"),ve(n,"background",(d=r[1].avatar)==null?void 0:d.color),E(l,"class","player-name svelte-1i32wce"),E(u,"class","player-status svelte-1i32wce"),E(e,"class","player-item svelte-1i32wce"),ve(e,"animation-delay",r[3]*.1+"s")},m(d,w){P(d,e,w),f(e,n),f(n,o),f(e,i),f(e,l),f(l,a),f(e,c),f(e,u),f(e,h)},p(d,w){var v,C;w&1&&t!==(t=((v=d[1].avatar)==null?void 0:v.emoji)+"")&&M(o,t),w&1&&ve(n,"background",(C=d[1].avatar)==null?void 0:C.color),w&1&&s!==(s=d[1].name+"")&&M(a,s)},d(d){d&&R(e)}}}function gn(r){let e,n=r[0],t=[];for(let o=0;o<n.length;o+=1)t[o]=je(He(r,n,o));return{c(){e=b("ul");for(let o=0;o<t.length;o+=1)t[o].c();E(e,"class","player-list svelte-1i32wce")},m(o,i){P(o,e,i);for(let l=0;l<t.length;l+=1)t[l]&&t[l].m(e,null)},p(o,[i]){if(i&1){n=o[0];let l;for(l=0;l<n.length;l+=1){const s=He(o,n,l);t[l]?t[l].p(s,i):(t[l]=je(s),t[l].c(),t[l].m(e,null))}for(;l<t.length;l+=1)t[l].d(1);t.length=n.length}},i:$,o:$,d(o){o&&R(e),se(t,o)}}}function dn(r,e,n){let{players:t=[]}=e;return r.$$set=o=>{"players"in o&&n(0,t=o.players)},[t]}class hn extends J{constructor(e){super(),Y(this,e,dn,gn,O,{players:0})}}function mn(r){let e;return{c(){e=b("div"),e.innerHTML=`<div class="loading-spinner svelte-1lxhb1v"></div> 
            <p>Generating QR code...</p>`,E(e,"class","qr-placeholder svelte-1lxhb1v")},m(n,t){P(n,e,t)},p:$,d(n){n&&R(e)}}}function _n(r){let e,n,t;return{c(){e=b("div"),n=b("img"),Fe(n.src,t=r[2])||E(n,"src",t),E(n,"alt","QR Code to join game"),E(n,"class","svelte-1lxhb1v"),E(e,"class","qr-code svelte-1lxhb1v")},m(o,i){P(o,e,i),f(e,n)},p(o,i){i&4&&!Fe(n.src,t=o[2])&&E(n,"src",t)},d(o){o&&R(e)}}}function pn(r){let e;return{c(){e=b("div"),e.innerHTML=`<p class="svelte-1lxhb1v">Waiting for players...</p> 
            <div class="waiting-dots svelte-1lxhb1v"><span class="svelte-1lxhb1v"></span> 
              <span class="svelte-1lxhb1v"></span> 
              <span class="svelte-1lxhb1v"></span></div>`,E(e,"class","no-players svelte-1lxhb1v")},m(n,t){P(n,e,t)},p:$,i:$,o:$,d(n){n&&R(e)}}}function yn(r){let e,n;return e=new hn({props:{players:r[0]}}),{c(){W(e.$$.fragment)},m(t,o){Z(e,t,o),n=!0},p(t,o){const i={};o&1&&(i.players=t[0]),e.$set(i)},i(t){n||(q(e.$$.fragment,t),n=!0)},o(t){V(e.$$.fragment,t),n=!1},d(t){X(e,t)}}}function wn(r){let e,n,t,o,i,l,s,a,c,u,h,m,d,w,v=r[0].length+"",C,_,p,y,g,B,A,T,U=r[0].length<2?`Need ${2-r[0].length} more player${2-r[0].length===1?"":"s"}`:"🚀 Start Game",L,S,k,ee,F;function $e(z,j){return z[2]?_n:mn}let ue=$e(r),H=ue(r);const Ue=[yn,pn],G=[];function De(z,j){return z[0].length>0?0:1}return g=De(r),B=G[g]=Ue[g](r),{c(){e=b("section"),n=b("h2"),n.textContent="🎮 Lie-Ability Game",t=I(),o=b("div"),i=b("div"),l=b("div"),s=b("h3"),s.textContent="Join the Game!",a=I(),c=b("p"),c.textContent="Scan the QR code with your phone",u=I(),H.c(),h=I(),m=b("div"),d=b("h3"),w=N("Players ("),C=N(v),_=N(")"),p=I(),y=b("div"),B.c(),A=I(),T=b("button"),L=N(U),E(n,"class","game-title svelte-1lxhb1v"),E(s,"class","join-title svelte-1lxhb1v"),E(c,"class","join-subtitle svelte-1lxhb1v"),E(l,"class","qr-container svelte-1lxhb1v"),E(i,"class","qr-section svelte-1lxhb1v"),E(d,"class","players-title svelte-1lxhb1v"),E(y,"class","players-container svelte-1lxhb1v"),E(m,"class","players-section svelte-1lxhb1v"),E(o,"class","lobby-content svelte-1lxhb1v"),E(T,"class","start-button svelte-1lxhb1v"),T.disabled=S=r[0].length<2,E(e,"class","lobby svelte-1lxhb1v")},m(z,j){P(z,e,j),f(e,n),f(e,t),f(e,o),f(o,i),f(i,l),f(l,s),f(l,a),f(l,c),f(l,u),H.m(l,null),f(o,h),f(o,m),f(m,d),f(d,w),f(d,C),f(d,_),f(m,p),f(m,y),G[g].m(y,null),f(e,A),f(e,T),f(T,L),k=!0,ee||(F=bt(T,"click",function(){Ct(r[1])&&r[1].apply(this,arguments)}),ee=!0)},p(z,[j]){r=z,ue===(ue=$e(r))&&H?H.p(r,j):(H.d(1),H=ue(r),H&&(H.c(),H.m(l,null))),(!k||j&1)&&v!==(v=r[0].length+"")&&M(C,v);let we=g;g=De(r),g===we?G[g].p(r,j):(tt(),V(G[we],1,1,()=>{G[we]=null}),nt(),B=G[g],B?B.p(r,j):(B=G[g]=Ue[g](r),B.c()),q(B,1),B.m(y,null)),(!k||j&1)&&U!==(U=r[0].length<2?`Need ${2-r[0].length} more player${2-r[0].length===1?"":"s"}`:"🚀 Start Game")&&M(L,U),(!k||j&1&&S!==(S=r[0].length<2))&&(T.disabled=S)},i(z){k||(q(B),k=!0)},o(z){V(B),k=!1},d(z){z&&R(e),H.d(),G[g].d(),ee=!1,F()}}}function vn(r,e,n){let{players:t=[]}=e,{onStart:o=()=>{}}=e,i="",l="";return rt(async()=>{try{const a=await(await fetch("/api/server-info")).json();l=a.publicUrl?`${a.publicUrl}/player`:`${window.location.origin}/player`}catch{l=`${window.location.origin}/player`}try{n(2,i=await ae.toDataURL(l,{width:300,margin:2,color:{dark:"#2d3748",light:"#ffffff"}}))}catch(s){console.error("Failed to generate QR code:",s)}}),r.$$set=s=>{"players"in s&&n(0,t=s.players),"onStart"in s&&n(1,o=s.onStart)},[t,o,i]}class bn extends J{constructor(e){super(),Y(this,e,vn,wn,O,{players:0,onStart:1})}}function Ke(r,e,n){const t=r.slice();return t[3]=e[n],t}function Je(r){let e,n=r[3].category+"",t;return{c(){e=b("li"),t=N(n),E(e,"class","svelte-ivaeo0")},m(o,i){P(o,e,i),f(e,t)},p(o,i){i&1&&n!==(n=o[3].category+"")&&M(t,n)},d(o){o&&R(e)}}}function Cn(r){let e,n,t=r[2]?"You choose the category":`${r[1]} is choosing the category...`,o,i,l,s=r[0],a=[];for(let c=0;c<s.length;c+=1)a[c]=Je(Ke(r,s,c));return{c(){e=b("section"),n=b("h3"),o=N(t),i=I(),l=b("ul");for(let c=0;c<a.length;c+=1)a[c].c();E(l,"class","svelte-ivaeo0"),E(e,"class","category")},m(c,u){P(c,e,u),f(e,n),f(n,o),f(e,i),f(e,l);for(let h=0;h<a.length;h+=1)a[h]&&a[h].m(l,null)},p(c,[u]){if(u&6&&t!==(t=c[2]?"You choose the category":`${c[1]} is choosing the category...`)&&M(o,t),u&1){s=c[0];let h;for(h=0;h<s.length;h+=1){const m=Ke(c,s,h);a[h]?a[h].p(m,u):(a[h]=Je(m),a[h].c(),a[h].m(l,null))}for(;h<a.length;h+=1)a[h].d(1);a.length=s.length}},i:$,o:$,d(c){c&&R(e),se(a,c)}}}function En(r,e,n){let{categories:t=[]}=e,{selectorName:o=""}=e,{isSelector:i=!1}=e;return r.$$set=l=>{"categories"in l&&n(0,t=l.categories),"selectorName"in l&&n(1,o=l.selectorName),"isSelector"in l&&n(2,i=l.isSelector)},[t,o,i]}class Bn extends J{constructor(e){super(),Y(this,e,En,Cn,O,{categories:0,selectorName:1,isSelector:2})}}function Ye(r){let e,n,t=r[0].category+"",o,i,l,s=r[0].question+"",a;return{c(){e=b("section"),n=b("div"),o=N(t),i=I(),l=b("h3"),a=N(s),E(n,"class","category svelte-pbs4uu"),E(e,"class","question")},m(c,u){P(c,e,u),f(e,n),f(n,o),f(e,i),f(e,l),f(l,a)},p(c,u){u&1&&t!==(t=c[0].category+"")&&M(o,t),u&1&&s!==(s=c[0].question+"")&&M(a,s)},d(c){c&&R(e)}}}function Nn(r){let e,n=r[0]&&Ye(r);return{c(){n&&n.c(),e=ot()},m(t,o){n&&n.m(t,o),P(t,e,o)},p(t,[o]){t[0]?n?n.p(t,o):(n=Ye(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:$,o:$,d(t){n&&n.d(t),t&&R(e)}}}function An(r,e,n){let{question:t=null}=e;return r.$$set=o=>{"question"in o&&n(0,t=o.question)},[t]}class Tn extends J{constructor(e){super(),Y(this,e,An,Nn,O,{question:0})}}function Sn(r){let e;return{c(){e=b("section"),e.innerHTML=`<h2>Players are crafting their lies</h2> 
  <div class="dots svelte-m9yp2n"><span class="svelte-m9yp2n"></span><span class="svelte-m9yp2n"></span><span class="svelte-m9yp2n"></span></div>`,E(e,"class","waiting svelte-m9yp2n")},m(n,t){P(n,e,t)},p:$,i:$,o:$,d(n){n&&R(e)}}}class In extends J{constructor(e){super(),Y(this,e,null,Sn,O,{})}}function Oe(r,e,n){const t=r.slice();return t[1]=e[n],t[3]=n,t}function Ge(r){let e,n=r[1].text+"",t,o;return{c(){e=b("li"),t=N(n),E(e,"data-letter",Mn[r[3]]||r[3]+1),E(e,"data-length",o=r[1].text.length>50?"very-long":r[1].text.length>25?"long":void 0),E(e,"class","svelte-ivaeo0")},m(i,l){P(i,e,l),f(e,t)},p(i,l){l&1&&n!==(n=i[1].text+"")&&M(t,n),l&1&&o!==(o=i[1].text.length>50?"very-long":i[1].text.length>25?"long":void 0)&&E(e,"data-length",o)},d(i){i&&R(e)}}}function kn(r){let e,n,t,o,i=r[0],l=[];for(let s=0;s<i.length;s+=1)l[s]=Ge(Oe(r,i,s));return{c(){e=b("section"),n=b("h3"),n.textContent="Which answer is the truth?",t=I(),o=b("ul");for(let s=0;s<l.length;s+=1)l[s].c();E(o,"class","svelte-ivaeo0"),E(e,"class","options")},m(s,a){P(s,e,a),f(e,n),f(e,t),f(e,o);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(o,null)},p(s,[a]){if(a&1){i=s[0];let c;for(c=0;c<i.length;c+=1){const u=Oe(s,i,c);l[c]?l[c].p(u,a):(l[c]=Ge(u),l[c].c(),l[c].m(o,null))}for(;c<l.length;c+=1)l[c].d(1);l.length=i.length}},i:$,o:$,d(s){s&&R(e),se(l,s)}}}const Mn="ABCDEFGH";function Pn(r,e,n){let{options:t=[]}=e;return r.$$set=o=>{"options"in o&&n(0,t=o.options)},[t]}class Rn extends J{constructor(e){super(),Y(this,e,Pn,kn,O,{options:0})}}function Qe(r,e,n){const t=r.slice();return t[1]=e[n],t}function We(r){let e,n,t=r[0].question+"",o,i,l,s,a,c,u=r[0].truth.answer+"",h,m,d=r[0].truth.voteCount+"",w,v,C=r[0].lies,_=[];for(let p=0;p<C.length;p+=1)_[p]=Ze(Qe(r,C,p));return{c(){e=b("section"),n=b("h3"),o=N(t),i=I(),l=b("ul");for(let p=0;p<_.length;p+=1)_[p].c();s=I(),a=b("li"),c=N("Truth: "),h=N(u),m=N(" - "),w=N(d),v=N(" correct"),E(a,"class","truth svelte-4698l4"),E(l,"class","svelte-4698l4"),E(e,"class","reveal")},m(p,y){P(p,e,y),f(e,n),f(n,o),f(e,i),f(e,l);for(let g=0;g<_.length;g+=1)_[g]&&_[g].m(l,null);f(l,s),f(l,a),f(a,c),f(a,h),f(a,m),f(a,w),f(a,v)},p(p,y){if(y&1&&t!==(t=p[0].question+"")&&M(o,t),y&1){C=p[0].lies;let g;for(g=0;g<C.length;g+=1){const B=Qe(p,C,g);_[g]?_[g].p(B,y):(_[g]=Ze(B),_[g].c(),_[g].m(l,s))}for(;g<_.length;g+=1)_[g].d(1);_.length=C.length}y&1&&u!==(u=p[0].truth.answer+"")&&M(h,u),y&1&&d!==(d=p[0].truth.voteCount+"")&&M(w,d)},d(p){p&&R(e),se(_,p)}}}function Ze(r){let e,n=r[1].lie+"",t,o,i=r[1].voteCount+"",l,s,a=r[1].voteCount===1?"vote":"votes",c;return{c(){e=b("li"),t=N(n),o=N(" - "),l=N(i),s=I(),c=N(a)},m(u,h){P(u,e,h),f(e,t),f(e,o),f(e,l),f(e,s),f(e,c)},p(u,h){h&1&&n!==(n=u[1].lie+"")&&M(t,n),h&1&&i!==(i=u[1].voteCount+"")&&M(l,i),h&1&&a!==(a=u[1].voteCount===1?"vote":"votes")&&M(c,a)},d(u){u&&R(e)}}}function Ln(r){let e,n=r[0]&&We(r);return{c(){n&&n.c(),e=ot()},m(t,o){n&&n.m(t,o),P(t,e,o)},p(t,[o]){t[0]?n?n.p(t,o):(n=We(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:$,o:$,d(t){n&&n.d(t),t&&R(e)}}}function $n(r,e,n){let{reveal:t=null}=e;return r.$$set=o=>{"reveal"in o&&n(0,t=o.reveal)},[t]}class Un extends J{constructor(e){super(),Y(this,e,$n,Ln,O,{reveal:0})}}function Xe(r,e,n){const t=r.slice();return t[2]=e[n],t[4]=n,t}function Dn(r){let e,n,t=r[2].rank+"",o;return{c(){e=b("span"),n=N("#"),o=N(t)},m(i,l){P(i,e,l),f(e,n),f(e,o)},p(i,l){l&1&&t!==(t=i[2].rank+"")&&M(o,t)},d(i){i&&R(e)}}}function xe(r){let e,n,t,o=(r[1][r[4]]||"")+"",i,l,s,a,c=r[2].name+"",u,h,m,d=(r[2].lastLie||"No lie submitted")+"",w,v,C,_=r[2].playersFooled+"",p,y,g,B,A=r[2].points+"",T,U,L=r[4]>=3&&Dn(r);return{c(){e=b("div"),n=b("div"),t=b("span"),i=N(o),l=I(),L&&L.c(),s=I(),a=b("div"),u=N(c),h=I(),m=b("div"),w=N(d),v=I(),C=b("div"),p=N(_),y=N(" fooled"),g=I(),B=b("div"),T=N(A),U=I(),E(t,"class","rank-medal svelte-l6yjgn"),E(n,"class","rank-cell svelte-l6yjgn"),E(a,"class","name-cell"),E(m,"class","lie-cell"),E(C,"class","fooled-cell"),E(B,"class","score-cell"),E(e,"class","score-row svelte-l6yjgn")},m(S,k){P(S,e,k),f(e,n),f(n,t),f(t,i),f(n,l),L&&L.m(n,null),f(e,s),f(e,a),f(a,u),f(e,h),f(e,m),f(m,w),f(e,v),f(e,C),f(C,p),f(C,y),f(e,g),f(e,B),f(B,T),f(e,U)},p(S,k){S[4]>=3&&L.p(S,k),k&1&&c!==(c=S[2].name+"")&&M(u,c),k&1&&d!==(d=(S[2].lastLie||"No lie submitted")+"")&&M(w,d),k&1&&_!==(_=S[2].playersFooled+"")&&M(p,_),k&1&&A!==(A=S[2].points+"")&&M(T,A)},d(S){S&&R(e),L&&L.d()}}}function Fn(r){let e,n,t,o,i=r[0],l=[];for(let s=0;s<i.length;s+=1)l[s]=xe(Xe(r,i,s));return{c(){e=b("section"),n=b("h2"),n.textContent="Scoreboard",t=I(),o=b("div");for(let s=0;s<l.length;s+=1)l[s].c();E(o,"class","scoreboard-list svelte-l6yjgn"),E(e,"class","scoreboard")},m(s,a){P(s,e,a),f(e,n),f(e,t),f(e,o);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(o,null)},p(s,[a]){if(a&3){i=s[0];let c;for(c=0;c<i.length;c+=1){const u=Xe(s,i,c);l[c]?l[c].p(u,a):(l[c]=xe(u),l[c].c(),l[c].m(o,null))}for(;c<l.length;c+=1)l[c].d(1);l.length=i.length}},i:$,o:$,d(s){s&&R(e),se(l,s)}}}function Vn(r,e,n){let{players:t=[]}=e;const o=["🥇","🥈","🥉"];return r.$$set=i=>{"players"in i&&n(0,t=i.players)},[t,o]}class qn extends J{constructor(e){super(),Y(this,e,Vn,Fn,O,{players:0})}}function zn(r){var t;let e,n;return e=new qn({props:{players:((t=r[4])==null?void 0:t.players)||[]}}),{c(){W(e.$$.fragment)},m(o,i){Z(e,o,i),n=!0},p(o,i){var s;const l={};i&16&&(l.players=((s=o[4])==null?void 0:s.players)||[]),e.$set(l)},i(o){n||(q(e.$$.fragment,o),n=!0)},o(o){V(e.$$.fragment,o),n=!1},d(o){X(e,o)}}}function Hn(r){let e,n;return e=new Un({props:{reveal:r[3]}}),{c(){W(e.$$.fragment)},m(t,o){Z(e,t,o),n=!0},p(t,o){const i={};o&8&&(i.reveal=t[3]),e.$set(i)},i(t){n||(q(e.$$.fragment,t),n=!0)},o(t){V(e.$$.fragment,t),n=!1},d(t){X(e,t)}}}function jn(r){let e,n;return e=new Rn({props:{options:r[5]}}),{c(){W(e.$$.fragment)},m(t,o){Z(e,t,o),n=!0},p(t,o){const i={};o&32&&(i.options=t[5]),e.$set(i)},i(t){n||(q(e.$$.fragment,t),n=!0)},o(t){V(e.$$.fragment,t),n=!1},d(t){X(e,t)}}}function Kn(r){let e,n;return e=new In({}),{c(){W(e.$$.fragment)},m(t,o){Z(e,t,o),n=!0},p:$,i(t){n||(q(e.$$.fragment,t),n=!0)},o(t){V(e.$$.fragment,t),n=!1},d(t){X(e,t)}}}function Jn(r){let e,n;return e=new Tn({props:{question:r[7]}}),{c(){W(e.$$.fragment)},m(t,o){Z(e,t,o),n=!0},p(t,o){const i={};o&128&&(i.question=t[7]),e.$set(i)},i(t){n||(q(e.$$.fragment,t),n=!0)},o(t){V(e.$$.fragment,t),n=!1},d(t){X(e,t)}}}function Yn(r){var t,o;let e,n;return e=new Bn({props:{categories:r[6],selectorName:(t=r[9].find(r[11]))==null?void 0:t.name,isSelector:(o=r[1])==null?void 0:o.isSelector}}),{c(){W(e.$$.fragment)},m(i,l){Z(e,i,l),n=!0},p(i,l){var a,c;const s={};l&64&&(s.categories=i[6]),l&513&&(s.selectorName=(a=i[9].find(i[11]))==null?void 0:a.name),l&2&&(s.isSelector=(c=i[1])==null?void 0:c.isSelector),e.$set(s)},i(i){n||(q(e.$$.fragment,i),n=!0)},o(i){V(e.$$.fragment,i),n=!1},d(i){X(e,i)}}}function On(r){let e,n;return e=new bn({props:{players:r[9],onStart:r[10]}}),{c(){W(e.$$.fragment)},m(t,o){Z(e,t,o),n=!0},p(t,o){const i={};o&512&&(i.players=t[9]),e.$set(i)},i(t){n||(q(e.$$.fragment,t),n=!0)},o(t){V(e.$$.fragment,t),n=!1},d(t){X(e,t)}}}function et(r){let e,n,t,o;return{c(){e=b("div"),n=N("⏱ "),t=N(r[2]),o=N("s"),E(e,"class","timer svelte-axier5")},m(i,l){P(i,e,l),f(e,n),f(e,t),f(e,o)},p(i,l){l&4&&M(t,i[2])},d(i){i&&R(e)}}}function Gn(r){let e,n,t,o,i;const l=[On,Yn,Jn,Kn,jn,Hn,zn],s=[];function a(u,h){return u[8]==="lobby"?0:u[8]==="category_selection"?1:u[8]==="question_reading"?2:u[8]==="lie_submission"?3:u[8]==="option_selection"?4:u[8]==="truth_reveal"?5:u[8]==="scoreboard"||u[8]==="game_ended"?6:-1}~(n=a(r))&&(t=s[n]=l[n](r));let c=r[2]&&et(r);return{c(){e=b("main"),t&&t.c(),o=I(),c&&c.c(),E(e,"class","svelte-axier5")},m(u,h){P(u,e,h),~n&&s[n].m(e,null),f(e,o),c&&c.m(e,null),i=!0},p(u,[h]){let m=n;n=a(u),n===m?~n&&s[n].p(u,h):(t&&(tt(),V(s[m],1,1,()=>{s[m]=null}),nt()),~n?(t=s[n],t?t.p(u,h):(t=s[n]=l[n](u),t.c()),q(t,1),t.m(e,o)):t=null),u[2]?c?c.p(u,h):(c=et(u),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},i(u){i||(q(t),i=!0)},o(u){V(t),i=!1},d(u){u&&R(e),~n&&s[n].d(),c&&c.d()}}}function Qn(r,e,n){let t,o,i,l,s,a,c=null,u=null,h=0,m=null,d=null;const w=()=>a.emit("start_game");rt(()=>{a=Et(),a.on("connect",()=>a.emit("request_game_state")),a.on("game_state_update",C=>{n(0,c=C)}),a.on("host_sub_step_info",C=>{n(1,u=C)}),a.on("timer_update",C=>{n(2,h=C.secondsRemaining)}),a.on("truth_reveal_start",C=>{n(3,m=C)}),a.on("scoreboard_update",C=>{n(4,d=C)}),a.on("player_joined",()=>a.emit("request_game_state")),a.on("player_left",()=>a.emit("request_game_state"))});const v=C=>C.id===c.categorySelector;return r.$$.update=()=>{r.$$.dirty&1&&n(9,t=(c==null?void 0:c.players)||[]),r.$$.dirty&1&&n(8,o=c==null?void 0:c.state),r.$$.dirty&3&&n(7,i=(u==null?void 0:u.question)||(c==null?void 0:c.currentQuestionData)),r.$$.dirty&2&&n(6,l=(u==null?void 0:u.categories)||[]),r.$$.dirty&2&&n(5,s=(u==null?void 0:u.options)||[])},[c,u,h,m,d,s,l,i,o,t,w,v]}class Wn extends J{constructor(e){super(),Y(this,e,Qn,Gn,O,{})}}new Wn({target:document.getElementById("host")});
