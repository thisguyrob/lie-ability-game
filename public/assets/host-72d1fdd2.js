import{S as Q,i as D,s as F,e as g,b as m,c as C,n as S,f as N,g as O,t as p,a as q,h as I,d as f,j as $,k as P,m as R,l as oe,o as G,p as H,q as W,r as ae,u as ie,v as ce,w as ue,x as fe}from"./index-5d9f1866.js";import{l as _e}from"./index-d9998155.js";function J(s,e,l){const t=s.slice();return t[1]=e[l],t}function z(s){var c;let e,l,t=((c=s[1].avatar)==null?void 0:c.emoji)+"",n,i,r,a=s[1].name+"",u,o;return{c(){var _;e=g("li"),l=g("span"),n=p(t),i=q(),r=g("span"),u=p(a),o=q(),m(l,"class","player-avatar svelte-1v1mpkg"),I(l,"background",(_=s[1].avatar)==null?void 0:_.color),m(r,"class","player-name"),m(e,"class","player-item svelte-1v1mpkg")},m(_,h){C(_,e,h),f(e,l),f(l,n),f(e,i),f(e,r),f(r,u),f(e,o)},p(_,h){var v,w;h&1&&t!==(t=((v=_[1].avatar)==null?void 0:v.emoji)+"")&&$(n,t),h&1&&I(l,"background",(w=_[1].avatar)==null?void 0:w.color),h&1&&a!==(a=_[1].name+"")&&$(u,a)},d(_){_&&N(e)}}}function ge(s){let e,l=s[0],t=[];for(let n=0;n<l.length;n+=1)t[n]=z(J(s,l,n));return{c(){e=g("ul");for(let n=0;n<t.length;n+=1)t[n].c();m(e,"class","player-list svelte-1v1mpkg")},m(n,i){C(n,e,i);for(let r=0;r<t.length;r+=1)t[r]&&t[r].m(e,null)},p(n,[i]){if(i&1){l=n[0];let r;for(r=0;r<l.length;r+=1){const a=J(n,l,r);t[r]?t[r].p(a,i):(t[r]=z(a),t[r].c(),t[r].m(e,null))}for(;r<t.length;r+=1)t[r].d(1);t.length=l.length}},i:S,o:S,d(n){n&&N(e),O(t,n)}}}function me(s,e,l){let{players:t=[]}=e;return s.$$set=n=>{"players"in n&&l(0,t=n.players)},[t]}class pe extends Q{constructor(e){super(),D(this,e,me,ge,F,{players:0})}}function he(s){let e,l,t,n,i,r,a=s[0].length<2?"Need at least 2 players":"Start Game",u,o,c,_,h;return n=new pe({props:{players:s[0]}}),{c(){e=g("section"),l=g("h2"),l.textContent="Join the Game!",t=q(),P(n.$$.fragment),i=q(),r=g("button"),u=p(a),r.disabled=o=s[0].length<2,m(r,"class","svelte-5mlchu"),m(e,"class","lobby svelte-5mlchu")},m(v,w){C(v,e,w),f(e,l),f(e,t),R(n,e,null),f(e,i),f(e,r),f(r,u),c=!0,_||(h=oe(r,"click",function(){ae(s[1])&&s[1].apply(this,arguments)}),_=!0)},p(v,[w]){s=v;const V={};w&1&&(V.players=s[0]),n.$set(V),(!c||w&1)&&a!==(a=s[0].length<2?"Need at least 2 players":"Start Game")&&$(u,a),(!c||w&1&&o!==(o=s[0].length<2))&&(r.disabled=o)},i(v){c||(G(n.$$.fragment,v),c=!0)},o(v){H(n.$$.fragment,v),c=!1},d(v){v&&N(e),W(n),_=!1,h()}}}function ve(s,e,l){let{players:t=[]}=e,{onStart:n=()=>{}}=e;return s.$$set=i=>{"players"in i&&l(0,t=i.players),"onStart"in i&&l(1,n=i.onStart)},[t,n]}class de extends Q{constructor(e){super(),D(this,e,ve,he,F,{players:0,onStart:1})}}function K(s,e,l){const t=s.slice();return t[3]=e[l],t}function U(s){let e,l=s[3].category+"",t;return{c(){e=g("li"),t=p(l),m(e,"class","svelte-ivaeo0")},m(n,i){C(n,e,i),f(e,t)},p(n,i){i&1&&l!==(l=n[3].category+"")&&$(t,l)},d(n){n&&N(e)}}}function ye(s){let e,l,t=s[2]?"You choose the category":`${s[1]} is choosing the category...`,n,i,r,a=s[0],u=[];for(let o=0;o<a.length;o+=1)u[o]=U(K(s,a,o));return{c(){e=g("section"),l=g("h3"),n=p(t),i=q(),r=g("ul");for(let o=0;o<u.length;o+=1)u[o].c();m(r,"class","svelte-ivaeo0"),m(e,"class","category")},m(o,c){C(o,e,c),f(e,l),f(l,n),f(e,i),f(e,r);for(let _=0;_<u.length;_+=1)u[_]&&u[_].m(r,null)},p(o,[c]){if(c&6&&t!==(t=o[2]?"You choose the category":`${o[1]} is choosing the category...`)&&$(n,t),c&1){a=o[0];let _;for(_=0;_<a.length;_+=1){const h=K(o,a,_);u[_]?u[_].p(h,c):(u[_]=U(h),u[_].c(),u[_].m(r,null))}for(;_<u.length;_+=1)u[_].d(1);u.length=a.length}},i:S,o:S,d(o){o&&N(e),O(u,o)}}}function be(s,e,l){let{categories:t=[]}=e,{selectorName:n=""}=e,{isSelector:i=!1}=e;return s.$$set=r=>{"categories"in r&&l(0,t=r.categories),"selectorName"in r&&l(1,n=r.selectorName),"isSelector"in r&&l(2,i=r.isSelector)},[t,n,i]}class ke extends Q{constructor(e){super(),D(this,e,be,ye,F,{categories:0,selectorName:1,isSelector:2})}}function X(s){let e,l,t=s[0].category+"",n,i,r,a=s[0].question+"",u;return{c(){e=g("section"),l=g("div"),n=p(t),i=q(),r=g("h3"),u=p(a),m(l,"class","category svelte-pbs4uu"),m(e,"class","question")},m(o,c){C(o,e,c),f(e,l),f(l,n),f(e,i),f(e,r),f(r,u)},p(o,c){c&1&&t!==(t=o[0].category+"")&&$(n,t),c&1&&a!==(a=o[0].question+"")&&$(u,a)},d(o){o&&N(e)}}}function $e(s){let e,l=s[0]&&X(s);return{c(){l&&l.c(),e=ie()},m(t,n){l&&l.m(t,n),C(t,e,n)},p(t,[n]){t[0]?l?l.p(t,n):(l=X(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:S,o:S,d(t){l&&l.d(t),t&&N(e)}}}function we(s,e,l){let{question:t=null}=e;return s.$$set=n=>{"question"in n&&l(0,t=n.question)},[t]}class qe extends Q{constructor(e){super(),D(this,e,we,$e,F,{question:0})}}function Ce(s){let e;return{c(){e=g("section"),e.innerHTML=`<h2>Players are crafting their lies</h2> 
  <div class="dots svelte-m9yp2n"><span class="svelte-m9yp2n"></span><span class="svelte-m9yp2n"></span><span class="svelte-m9yp2n"></span></div>`,m(e,"class","waiting svelte-m9yp2n")},m(l,t){C(l,e,t)},p:S,i:S,o:S,d(l){l&&N(e)}}}class Ne extends Q{constructor(e){super(),D(this,e,null,Ce,F,{})}}function Z(s,e,l){const t=s.slice();return t[1]=e[l],t[3]=l,t}function x(s){let e,l=s[1].text+"",t,n;return{c(){e=g("li"),t=p(l),m(e,"data-letter",Ve[s[3]]||s[3]+1),m(e,"data-length",n=s[1].text.length>50?"very-long":s[1].text.length>25?"long":void 0),m(e,"class","svelte-ivaeo0")},m(i,r){C(i,e,r),f(e,t)},p(i,r){r&1&&l!==(l=i[1].text+"")&&$(t,l),r&1&&n!==(n=i[1].text.length>50?"very-long":i[1].text.length>25?"long":void 0)&&m(e,"data-length",n)},d(i){i&&N(e)}}}function Se(s){let e,l,t,n,i=s[0],r=[];for(let a=0;a<i.length;a+=1)r[a]=x(Z(s,i,a));return{c(){e=g("section"),l=g("h3"),l.textContent="Which answer is the truth?",t=q(),n=g("ul");for(let a=0;a<r.length;a+=1)r[a].c();m(n,"class","svelte-ivaeo0"),m(e,"class","options")},m(a,u){C(a,e,u),f(e,l),f(e,t),f(e,n);for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(n,null)},p(a,[u]){if(u&1){i=a[0];let o;for(o=0;o<i.length;o+=1){const c=Z(a,i,o);r[o]?r[o].p(c,u):(r[o]=x(c),r[o].c(),r[o].m(n,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=i.length}},i:S,o:S,d(a){a&&N(e),O(r,a)}}}const Ve="ABCDEFGH";function je(s,e,l){let{options:t=[]}=e;return s.$$set=n=>{"options"in n&&l(0,t=n.options)},[t]}class Le extends Q{constructor(e){super(),D(this,e,je,Se,F,{options:0})}}function ee(s,e,l){const t=s.slice();return t[1]=e[l],t}function te(s){let e,l,t=s[0].question+"",n,i,r,a,u,o,c=s[0].truth.answer+"",_,h,v=s[0].truth.voteCount+"",w,V,d=s[0].lies,b=[];for(let y=0;y<d.length;y+=1)b[y]=le(ee(s,d,y));return{c(){e=g("section"),l=g("h3"),n=p(t),i=q(),r=g("ul");for(let y=0;y<b.length;y+=1)b[y].c();a=q(),u=g("li"),o=p("Truth: "),_=p(c),h=p(" - "),w=p(v),V=p(" correct"),m(u,"class","truth svelte-4698l4"),m(r,"class","svelte-4698l4"),m(e,"class","reveal")},m(y,j){C(y,e,j),f(e,l),f(l,n),f(e,i),f(e,r);for(let k=0;k<b.length;k+=1)b[k]&&b[k].m(r,null);f(r,a),f(r,u),f(u,o),f(u,_),f(u,h),f(u,w),f(u,V)},p(y,j){if(j&1&&t!==(t=y[0].question+"")&&$(n,t),j&1){d=y[0].lies;let k;for(k=0;k<d.length;k+=1){const B=ee(y,d,k);b[k]?b[k].p(B,j):(b[k]=le(B),b[k].c(),b[k].m(r,a))}for(;k<b.length;k+=1)b[k].d(1);b.length=d.length}j&1&&c!==(c=y[0].truth.answer+"")&&$(_,c),j&1&&v!==(v=y[0].truth.voteCount+"")&&$(w,v)},d(y){y&&N(e),O(b,y)}}}function le(s){let e,l=s[1].lie+"",t,n,i=s[1].voteCount+"",r,a,u=s[1].voteCount===1?"vote":"votes",o;return{c(){e=g("li"),t=p(l),n=p(" - "),r=p(i),a=q(),o=p(u)},m(c,_){C(c,e,_),f(e,t),f(e,n),f(e,r),f(e,a),f(e,o)},p(c,_){_&1&&l!==(l=c[1].lie+"")&&$(t,l),_&1&&i!==(i=c[1].voteCount+"")&&$(r,i),_&1&&u!==(u=c[1].voteCount===1?"vote":"votes")&&$(o,u)},d(c){c&&N(e)}}}function Ge(s){let e,l=s[0]&&te(s);return{c(){l&&l.c(),e=ie()},m(t,n){l&&l.m(t,n),C(t,e,n)},p(t,[n]){t[0]?l?l.p(t,n):(l=te(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:S,o:S,d(t){l&&l.d(t),t&&N(e)}}}function He(s,e,l){let{reveal:t=null}=e;return s.$$set=n=>{"reveal"in n&&l(0,t=n.reveal)},[t]}class Qe extends Q{constructor(e){super(),D(this,e,He,Ge,F,{reveal:0})}}function ne(s,e,l){const t=s.slice();return t[2]=e[l],t[4]=l,t}function De(s){let e,l,t=s[2].rank+"",n;return{c(){e=g("span"),l=p("#"),n=p(t)},m(i,r){C(i,e,r),f(e,l),f(e,n)},p(i,r){r&1&&t!==(t=i[2].rank+"")&&$(n,t)},d(i){i&&N(e)}}}function se(s){let e,l,t,n=(s[1][s[4]]||"")+"",i,r,a,u,o=s[2].name+"",c,_,h,v=(s[2].lastLie||"No lie submitted")+"",w,V,d,b=s[2].playersFooled+"",y,j,k,B,T=s[2].points+"",Y,A,E=s[4]>=3&&De(s);return{c(){e=g("div"),l=g("div"),t=g("span"),i=p(n),r=q(),E&&E.c(),a=q(),u=g("div"),c=p(o),_=q(),h=g("div"),w=p(v),V=q(),d=g("div"),y=p(b),j=p(" fooled"),k=q(),B=g("div"),Y=p(T),A=q(),m(t,"class","rank-medal svelte-l6yjgn"),m(l,"class","rank-cell svelte-l6yjgn"),m(u,"class","name-cell"),m(h,"class","lie-cell"),m(d,"class","fooled-cell"),m(B,"class","score-cell"),m(e,"class","score-row svelte-l6yjgn")},m(L,M){C(L,e,M),f(e,l),f(l,t),f(t,i),f(l,r),E&&E.m(l,null),f(e,a),f(e,u),f(u,c),f(e,_),f(e,h),f(h,w),f(e,V),f(e,d),f(d,y),f(d,j),f(e,k),f(e,B),f(B,Y),f(e,A)},p(L,M){L[4]>=3&&E.p(L,M),M&1&&o!==(o=L[2].name+"")&&$(c,o),M&1&&v!==(v=(L[2].lastLie||"No lie submitted")+"")&&$(w,v),M&1&&b!==(b=L[2].playersFooled+"")&&$(y,b),M&1&&T!==(T=L[2].points+"")&&$(Y,T)},d(L){L&&N(e),E&&E.d()}}}function Fe(s){let e,l,t,n,i=s[0],r=[];for(let a=0;a<i.length;a+=1)r[a]=se(ne(s,i,a));return{c(){e=g("section"),l=g("h2"),l.textContent="Scoreboard",t=q(),n=g("div");for(let a=0;a<r.length;a+=1)r[a].c();m(n,"class","scoreboard-list svelte-l6yjgn"),m(e,"class","scoreboard")},m(a,u){C(a,e,u),f(e,l),f(e,t),f(e,n);for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(n,null)},p(a,[u]){if(u&3){i=a[0];let o;for(o=0;o<i.length;o+=1){const c=ne(a,i,o);r[o]?r[o].p(c,u):(r[o]=se(c),r[o].c(),r[o].m(n,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=i.length}},i:S,o:S,d(a){a&&N(e),O(r,a)}}}function Pe(s,e,l){let{players:t=[]}=e;const n=["🥇","🥈","🥉"];return s.$$set=i=>{"players"in i&&l(0,t=i.players)},[t,n]}class Re extends Q{constructor(e){super(),D(this,e,Pe,Fe,F,{players:0})}}function We(s){var t;let e,l;return e=new Re({props:{players:((t=s[4])==null?void 0:t.players)||[]}}),{c(){P(e.$$.fragment)},m(n,i){R(e,n,i),l=!0},p(n,i){var a;const r={};i&16&&(r.players=((a=n[4])==null?void 0:a.players)||[]),e.$set(r)},i(n){l||(G(e.$$.fragment,n),l=!0)},o(n){H(e.$$.fragment,n),l=!1},d(n){W(e,n)}}}function Be(s){let e,l;return e=new Qe({props:{reveal:s[3]}}),{c(){P(e.$$.fragment)},m(t,n){R(e,t,n),l=!0},p(t,n){const i={};n&8&&(i.reveal=t[3]),e.$set(i)},i(t){l||(G(e.$$.fragment,t),l=!0)},o(t){H(e.$$.fragment,t),l=!1},d(t){W(e,t)}}}function Ee(s){let e,l;return e=new Le({props:{options:s[5]}}),{c(){P(e.$$.fragment)},m(t,n){R(e,t,n),l=!0},p(t,n){const i={};n&32&&(i.options=t[5]),e.$set(i)},i(t){l||(G(e.$$.fragment,t),l=!0)},o(t){H(e.$$.fragment,t),l=!1},d(t){W(e,t)}}}function Me(s){let e,l;return e=new Ne({}),{c(){P(e.$$.fragment)},m(t,n){R(e,t,n),l=!0},p:S,i(t){l||(G(e.$$.fragment,t),l=!0)},o(t){H(e.$$.fragment,t),l=!1},d(t){W(e,t)}}}function Oe(s){let e,l;return e=new qe({props:{question:s[7]}}),{c(){P(e.$$.fragment)},m(t,n){R(e,t,n),l=!0},p(t,n){const i={};n&128&&(i.question=t[7]),e.$set(i)},i(t){l||(G(e.$$.fragment,t),l=!0)},o(t){H(e.$$.fragment,t),l=!1},d(t){W(e,t)}}}function Te(s){var t,n;let e,l;return e=new ke({props:{categories:s[6],selectorName:(t=s[9].find(s[11]))==null?void 0:t.name,isSelector:(n=s[1])==null?void 0:n.isSelector}}),{c(){P(e.$$.fragment)},m(i,r){R(e,i,r),l=!0},p(i,r){var u,o;const a={};r&64&&(a.categories=i[6]),r&513&&(a.selectorName=(u=i[9].find(i[11]))==null?void 0:u.name),r&2&&(a.isSelector=(o=i[1])==null?void 0:o.isSelector),e.$set(a)},i(i){l||(G(e.$$.fragment,i),l=!0)},o(i){H(e.$$.fragment,i),l=!1},d(i){W(e,i)}}}function Ye(s){let e,l;return e=new de({props:{players:s[9],onStart:s[10]}}),{c(){P(e.$$.fragment)},m(t,n){R(e,t,n),l=!0},p(t,n){const i={};n&512&&(i.players=t[9]),e.$set(i)},i(t){l||(G(e.$$.fragment,t),l=!0)},o(t){H(e.$$.fragment,t),l=!1},d(t){W(e,t)}}}function re(s){let e,l,t,n;return{c(){e=g("div"),l=p("⏱ "),t=p(s[2]),n=p("s"),m(e,"class","timer svelte-1g325e7")},m(i,r){C(i,e,r),f(e,l),f(e,t),f(e,n)},p(i,r){r&4&&$(t,i[2])},d(i){i&&N(e)}}}function Ae(s){let e,l,t,n,i;const r=[Ye,Te,Oe,Me,Ee,Be,We],a=[];function u(c,_){return c[8]==="lobby"?0:c[8]==="category_selection"?1:c[8]==="question_reading"?2:c[8]==="lie_submission"?3:c[8]==="option_selection"?4:c[8]==="truth_reveal"?5:c[8]==="scoreboard"||c[8]==="game_ended"?6:-1}~(l=u(s))&&(t=a[l]=r[l](s));let o=s[2]&&re(s);return{c(){e=g("main"),t&&t.c(),n=q(),o&&o.c(),m(e,"class","svelte-1g325e7")},m(c,_){C(c,e,_),~l&&a[l].m(e,null),f(e,n),o&&o.m(e,null),i=!0},p(c,[_]){let h=l;l=u(c),l===h?~l&&a[l].p(c,_):(t&&(fe(),H(a[h],1,1,()=>{a[h]=null}),ce()),~l?(t=a[l],t?t.p(c,_):(t=a[l]=r[l](c),t.c()),G(t,1),t.m(e,n)):t=null),c[2]?o?o.p(c,_):(o=re(c),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},i(c){i||(G(t),i=!0)},o(c){H(t),i=!1},d(c){c&&N(e),~l&&a[l].d(),o&&o.d()}}}function Ie(s,e,l){let t,n,i,r,a,u,o=null,c=null,_=0,h=null,v=null;const w=()=>u.emit("start_game");ue(()=>{u=_e(),u.on("connect",()=>u.emit("request_game_state")),u.on("game_state_update",d=>{l(0,o=d)}),u.on("host_sub_step_info",d=>{l(1,c=d)}),u.on("timer_update",d=>{l(2,_=d.secondsRemaining)}),u.on("truth_reveal_start",d=>{l(3,h=d)}),u.on("scoreboard_update",d=>{l(4,v=d)}),u.on("player_joined",()=>u.emit("request_game_state")),u.on("player_left",()=>u.emit("request_game_state"))});const V=d=>d.id===o.categorySelector;return s.$$.update=()=>{s.$$.dirty&1&&l(9,t=(o==null?void 0:o.players)||[]),s.$$.dirty&1&&l(8,n=o==null?void 0:o.state),s.$$.dirty&3&&l(7,i=(c==null?void 0:c.question)||(o==null?void 0:o.currentQuestionData)),s.$$.dirty&2&&l(6,r=(c==null?void 0:c.categories)||[]),s.$$.dirty&2&&l(5,a=(c==null?void 0:c.options)||[])},[o,c,_,h,v,a,r,i,n,t,w,V]}class Je extends Q{constructor(e){super(),D(this,e,Ie,Ae,F,{})}}new Je({target:document.getElementById("host")});
