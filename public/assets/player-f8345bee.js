import{S as ze,i as Re,s as Fe,e as o,a as b,b as a,d as P,f as l,n as ue,h as L,j as st,t as k,o as _e,c as N,C as Ue,l as je,g as R,m as Me,D as dl,w as ml,p as Te,q as pl,r as Pe,u as bl,v as hl,x as gl,y as yl,z as He,A as Ie,B as Ge}from"./index-2aa356de.js";function bt(s,e,t){const n=s.slice();return n[17]=e[t],n}function ht(s,e,t){const n=s.slice();return n[20]=e[t],n}function kl(s){let e,t,n,r,i,c,f,u,v=s[2].trim().length>0,d,p,_,h,m,g,y=s[5].emoji+"",z,C,q,w,T,j,F,S,M,H,I,O,J,Q,Y,U,E,W,X,B=v&&yt(s),x=s[7],K=[];for(let G=0;G<x.length;G+=1)K[G]=kt(ht(s,x,G));let ne=s[8],re=[];for(let G=0;G<ne.length;G+=1)re[G]=St(bt(s,ne,G));function le(G,ie){return G[3]?Pl:Tl}let oe=le(s),Z=oe(s);function ae(G,ie){return ie&20&&(E=null),E==null&&(E=!G[4]&&G[2].trim().length>0),E?zl:G[0]!=="connected"?Ml:Ll}let be=ae(s,-1),de=be(s);return{c(){e=o("div"),t=o("div"),n=o("div"),r=o("label"),r.innerHTML=`<span class="label-emoji svelte-3zmwyl">👤</span>
              Your Name`,i=b(),c=o("input"),f=b(),u=o("div"),B&&B.c(),d=b(),p=o("div"),_=o("div"),_.innerHTML=`<span class="label-emoji svelte-3zmwyl">🎭</span>
              Choose Your Avatar`,h=b(),m=o("div"),g=o("div"),z=k(y),C=b(),q=o("div"),w=o("h4"),w.textContent="Pick an Emoji",T=b(),j=o("div");for(let G=0;G<K.length;G+=1)K[G].c();F=b(),S=o("div"),M=o("h4"),M.textContent="Pick a Color",H=b(),I=o("div");for(let G=0;G<re.length;G+=1)re[G].c();O=b(),J=o("div"),Q=o("button"),Z.c(),U=b(),de.c(),a(r,"for","playerName"),a(r,"class","form-label svelte-3zmwyl"),a(c,"id","playerName"),a(c,"type","text"),a(c,"class","input name-input svelte-3zmwyl"),a(c,"placeholder","Enter your name..."),a(c,"maxlength","20"),a(c,"autocomplete","off"),c.disabled=s[3],a(u,"class","name-validation svelte-3zmwyl"),a(n,"class","form-section svelte-3zmwyl"),a(_,"class","form-label svelte-3zmwyl"),a(g,"class","preview-avatar svelte-3zmwyl"),_e(g,"background",s[5].color),a(m,"class","avatar-preview svelte-3zmwyl"),a(w,"class","selection-title svelte-3zmwyl"),a(j,"class","emoji-grid svelte-3zmwyl"),a(q,"class","selection-section svelte-3zmwyl"),a(M,"class","selection-title svelte-3zmwyl"),a(I,"class","color-grid svelte-3zmwyl"),a(S,"class","selection-section svelte-3zmwyl"),a(p,"class","form-section svelte-3zmwyl"),a(Q,"class","btn btn-primary btn-lg join-button svelte-3zmwyl"),Q.disabled=Y=!s[6],N(Q,"loading",s[3]),a(J,"class","form-section svelte-3zmwyl"),a(t,"class","form-card glass svelte-3zmwyl"),a(e,"class","join-form slide-up svelte-3zmwyl")},m(G,ie){P(G,e,ie),l(e,t),l(t,n),l(n,r),l(n,i),l(n,c),Ue(c,s[2]),l(n,f),l(n,u),B&&B.m(u,null),l(t,d),l(t,p),l(p,_),l(p,h),l(p,m),l(m,g),l(g,z),l(p,C),l(p,q),l(q,w),l(q,T),l(q,j);for(let V=0;V<K.length;V+=1)K[V]&&K[V].m(j,null);l(p,F),l(p,S),l(S,M),l(S,H),l(S,I);for(let V=0;V<re.length;V+=1)re[V]&&re[V].m(I,null);l(t,O),l(t,J),l(J,Q),Z.m(Q,null),l(J,U),de.m(J,null),W||(X=[je(c,"input",s[13]),je(c,"keypress",s[12]),je(Q,"click",s[11])],W=!0)},p(G,ie){if(ie&8&&(c.disabled=G[3]),ie&4&&c.value!==G[2]&&Ue(c,G[2]),ie&4&&(v=G[2].trim().length>0),v?B?B.p(G,ie):(B=yt(G),B.c(),B.m(u,null)):B&&(B.d(1),B=null),ie&32&&y!==(y=G[5].emoji+"")&&R(z,y),ie&32&&_e(g,"background",G[5].color),ie&680){x=G[7];let V;for(V=0;V<x.length;V+=1){const me=ht(G,x,V);K[V]?K[V].p(me,ie):(K[V]=kt(me),K[V].c(),K[V].m(j,null))}for(;V<K.length;V+=1)K[V].d(1);K.length=x.length}if(ie&1320){ne=G[8];let V;for(V=0;V<ne.length;V+=1){const me=bt(G,ne,V);re[V]?re[V].p(me,ie):(re[V]=St(me),re[V].c(),re[V].m(I,null))}for(;V<re.length;V+=1)re[V].d(1);re.length=ne.length}oe!==(oe=le(G))&&(Z.d(1),Z=oe(G),Z&&(Z.c(),Z.m(Q,null))),ie&64&&Y!==(Y=!G[6])&&(Q.disabled=Y),ie&8&&N(Q,"loading",G[3]),be!==(be=ae(G,ie))&&(de.d(1),de=be(G),de&&(de.c(),de.m(J,null)))},d(G){G&&L(e),B&&B.d(),Me(K,G),Me(re,G),Z.d(),de.d(),W=!1,dl(X)}}}function wl(s){let e;return{c(){e=o("div"),e.innerHTML=`<div class="status-card svelte-3zmwyl"><div class="status-icon loading svelte-3zmwyl">🔄</div> 
          <h3 class="svelte-3zmwyl">Reconnecting...</h3> 
          <p class="svelte-3zmwyl">Attempting to rejoin your previous game session.</p></div>`,a(e,"class","connection-status slide-up svelte-3zmwyl")},m(t,n){P(t,e,n)},p:ue,d(t){t&&L(e)}}}function Sl(s){let e,t;function n(c,f){if(c[0]==="connecting")return Hl;if(c[0]==="error")return Fl;if(c[0]==="disconnected")return Rl}let r=n(s),i=r&&r(s);return{c(){e=o("div"),t=o("div"),i&&i.c(),a(t,"class","status-card svelte-3zmwyl"),a(e,"class","connection-status slide-up svelte-3zmwyl")},m(c,f){P(c,e,f),l(e,t),i&&i.m(t,null)},p(c,f){r!==(r=n(c))&&(i&&i.d(1),i=r&&r(c),i&&(i.c(),i.m(t,null)))},d(c){c&&L(e),i&&i.d()}}}function yt(s){let e,t;function n(c,f){return f&4&&(e=null),c[4]?jl:(e==null&&(e=c[2].trim().length<2),e?ql:Cl)}let r=n(s,-1),i=r(s);return{c(){i.c(),t=ml()},m(c,f){i.m(c,f),P(c,t,f)},p(c,f){r!==(r=n(c,f))&&(i.d(1),i=r(c),i&&(i.c(),i.m(t.parentNode,t)))},d(c){i.d(c),c&&L(t)}}}function Cl(s){let e;return{c(){e=o("span"),e.textContent="Name must be 20 characters or less",a(e,"class","validation-message invalid svelte-3zmwyl")},m(t,n){P(t,e,n)},d(t){t&&L(e)}}}function ql(s){let e;return{c(){e=o("span"),e.textContent="Name must be at least 2 characters",a(e,"class","validation-message invalid svelte-3zmwyl")},m(t,n){P(t,e,n)},d(t){t&&L(e)}}}function jl(s){let e;return{c(){e=o("span"),e.textContent="✓ Looks good!",a(e,"class","validation-message valid svelte-3zmwyl")},m(t,n){P(t,e,n)},d(t){t&&L(e)}}}function kt(s){let e,t=s[20]+"",n,r,i,c;function f(){return s[14](s[20])}return{c(){e=o("button"),n=k(t),r=b(),a(e,"class","emoji-option svelte-3zmwyl"),e.disabled=s[3],N(e,"selected",s[5].emoji===s[20])},m(u,v){P(u,e,v),l(e,n),l(e,r),i||(c=je(e,"click",f),i=!0)},p(u,v){s=u,v&8&&(e.disabled=s[3]),v&160&&N(e,"selected",s[5].emoji===s[20])},d(u){u&&L(e),i=!1,c()}}}function wt(s){let e;return{c(){e=o("span"),e.textContent="✓",a(e,"class","color-check svelte-3zmwyl")},m(t,n){P(t,e,n)},d(t){t&&L(e)}}}function St(s){let e,t,n,r,i=s[5].color===s[17]&&wt();function c(){return s[15](s[17])}return{c(){e=o("button"),i&&i.c(),t=b(),a(e,"class","color-option svelte-3zmwyl"),_e(e,"background",s[17]),e.disabled=s[3],a(e,"aria-label","Select color "+s[17]),N(e,"selected",s[5].color===s[17])},m(f,u){P(f,e,u),i&&i.m(e,null),l(e,t),n||(r=je(e,"click",c),n=!0)},p(f,u){s=f,s[5].color===s[17]?i||(i=wt(),i.c(),i.m(e,t)):i&&(i.d(1),i=null),u&8&&(e.disabled=s[3]),u&288&&N(e,"selected",s[5].color===s[17])},d(f){f&&L(e),i&&i.d(),n=!1,r()}}}function Tl(s){let e,t;return{c(){e=o("span"),e.textContent="🚀",t=k(`
                Join Game`),a(e,"class","button-emoji svelte-3zmwyl")},m(n,r){P(n,e,r),P(n,t,r)},d(n){n&&L(e),n&&L(t)}}}function Pl(s){let e,t;return{c(){e=o("span"),e.textContent="🔄",t=k(`
                Joining Game...`),a(e,"class","button-spinner svelte-3zmwyl")},m(n,r){P(n,e,r),P(n,t,r)},d(n){n&&L(e),n&&L(t)}}}function Ll(s){let e;return{c(){e=o("p"),e.textContent=`Click "Join Game" when you're ready to play!`,a(e,"class","join-help svelte-3zmwyl")},m(t,n){P(t,e,n)},d(t){t&&L(e)}}}function Ml(s){let e;return{c(){e=o("p"),e.textContent="Waiting for connection...",a(e,"class","join-help error svelte-3zmwyl")},m(t,n){P(t,e,n)},d(t){t&&L(e)}}}function zl(s){let e;return{c(){e=o("p"),e.textContent="Please enter a valid name (2-20 characters)",a(e,"class","join-help error svelte-3zmwyl")},m(t,n){P(t,e,n)},d(t){t&&L(e)}}}function Rl(s){let e,t,n,r,i;return{c(){e=o("div"),e.textContent="🔴",t=b(),n=o("h3"),n.textContent="Disconnected",r=b(),i=o("p"),i.textContent="Connection to the game server was lost. Please refresh the page to reconnect.",a(e,"class","status-icon error svelte-3zmwyl"),a(n,"class","svelte-3zmwyl"),a(i,"class","svelte-3zmwyl")},m(c,f){P(c,e,f),P(c,t,f),P(c,n,f),P(c,r,f),P(c,i,f)},d(c){c&&L(e),c&&L(t),c&&L(n),c&&L(r),c&&L(i)}}}function Fl(s){let e,t,n,r,i;return{c(){e=o("div"),e.textContent="⚠️",t=b(),n=o("h3"),n.textContent="Connection Failed",r=b(),i=o("p"),i.textContent="Unable to connect to the game server. Please check your internet connection and refresh the page.",a(e,"class","status-icon error svelte-3zmwyl"),a(n,"class","svelte-3zmwyl"),a(i,"class","svelte-3zmwyl")},m(c,f){P(c,e,f),P(c,t,f),P(c,n,f),P(c,r,f),P(c,i,f)},d(c){c&&L(e),c&&L(t),c&&L(n),c&&L(r),c&&L(i)}}}function Hl(s){let e,t,n,r,i;return{c(){e=o("div"),e.textContent="🔄",t=b(),n=o("h3"),n.textContent="Connecting to game...",r=b(),i=o("p"),i.textContent="Please wait while we connect you to the server.",a(e,"class","status-icon loading svelte-3zmwyl"),a(n,"class","svelte-3zmwyl"),a(i,"class","svelte-3zmwyl")},m(c,f){P(c,e,f),P(c,t,f),P(c,n,f),P(c,r,f),P(c,i,f)},d(c){c&&L(e),c&&L(t),c&&L(n),c&&L(r),c&&L(i)}}}function Il(s){let e,t,n,r,i,c;function f(d,p){return d[0]!=="connected"?Sl:d[1]?wl:kl}let u=f(s),v=u(s);return{c(){e=o("div"),t=o("div"),n=o("div"),n.innerHTML=`<h1 class="game-title svelte-3zmwyl"><span class="title-emoji svelte-3zmwyl">🎯</span>
        Lie-Ability</h1> 
      <p class="join-subtitle svelte-3zmwyl">Ready to fool your friends and find the truth?</p>`,r=b(),v.c(),i=b(),c=o("div"),c.innerHTML=`<div class="info-items svelte-3zmwyl"><div class="info-item svelte-3zmwyl"><span class="info-emoji svelte-3zmwyl">🎯</span> 
          <span>Create lies to fool others</span></div> 
        <div class="info-item svelte-3zmwyl"><span class="info-emoji svelte-3zmwyl">🕵️</span> 
          <span>Find the real answer</span></div> 
        <div class="info-item svelte-3zmwyl"><span class="info-emoji svelte-3zmwyl">🏆</span> 
          <span>Score points to win</span></div></div>`,a(n,"class","join-header fade-in svelte-3zmwyl"),a(c,"class","game-info fade-in svelte-3zmwyl"),a(t,"class","join-content svelte-3zmwyl"),a(e,"class","join-container svelte-3zmwyl")},m(d,p){P(d,e,p),l(e,t),l(t,n),l(t,r),v.m(t,null),l(t,i),l(t,c)},p(d,[p]){u===(u=f(d))&&v?v.p(d,p):(v.d(1),v=u(d),v&&(v.c(),v.m(t,i)))},i:ue,o:ue,d(d){d&&L(e),v.d()}}}function Gl(s,e,t){let n,r,{connectionStatus:i}=e,{isReconnecting:c}=e;const f=st();let u="",v={emoji:"😊",color:"#667eea"},d=!1;const p=["😊","😎","🤗","🥳","🤠","🧐","🤓","😇","🚀","🎯","🎮","🎪","🎨","🎭","🎸","🎲","🦄","🐶","🐱","🦊","🐼","🐨","🦁","🐸","⭐","🌟","💫","🔥","💎","🏆","👑","🎊"],_=["#667eea","#764ba2","#f093fb","#f5576c","#4facfe","#00f2fe","#43e97b","#38f9d7","#ffc837","#ff8008","#e96443","#904e95","#29323c","#485563","#96deda","#50c9c3","#a8edea","#fed6e3","#ffa726","#d4fc79"];function h(w){t(5,v.emoji=w,v)}function m(w){t(5,v.color=w,v)}function g(){u.trim()&&!d&&(t(3,d=!0),f("join",{name:u.trim(),avatar:v}),setTimeout(()=>{t(3,d=!1)},3e3))}function y(w){w.key==="Enter"&&u.trim()&&g()}function z(){u=this.value,t(2,u)}const C=w=>h(w),q=w=>m(w);return s.$$set=w=>{"connectionStatus"in w&&t(0,i=w.connectionStatus),"isReconnecting"in w&&t(1,c=w.isReconnecting)},s.$$.update=()=>{s.$$.dirty&4&&t(4,n=u.trim().length>=2&&u.trim().length<=20),s.$$.dirty&27&&t(6,r=n&&i==="connected"&&!d&&!c)},[i,c,u,d,n,v,r,p,_,h,m,g,y,z,C,q]}class Al extends ze{constructor(e){super(),Re(this,e,Gl,Il,Fe,{connectionStatus:0,isReconnecting:1})}}function Ct(s,e,t){const n=s.slice();return n[6]=e[t],n}function Dl(s){let e;return{c(){e=o("div"),e.innerHTML=`<span class="waiting-icon svelte-1bq7mmc">👥</span> 
            <span>Need at least 2 players</span>`,a(e,"class","waiting-indicator svelte-1bq7mmc")},m(t,n){P(t,e,n)},d(t){t&&L(e)}}}function El(s){let e;return{c(){e=o("div"),e.innerHTML=`<span class="ready-icon svelte-1bq7mmc">✅</span> 
            <span>Ready to play!</span>`,a(e,"class","ready-indicator svelte-1bq7mmc")},m(t,n){P(t,e,n)},d(t){t&&L(e)}}}function Nl(s){let e,t,n,r,i,c,f,u,v,d=s[3]===1?"first":s[3]===2?"second":s[3]+"th",p,_,h,m;return{c(){e=o("div"),t=o("div"),n=o("div"),r=o("div"),r.textContent="👋",i=b(),c=o("h3"),c.textContent="Waiting for friends...",f=b(),u=o("p"),v=k("You're the "),p=k(d),_=k(" player to join!"),h=b(),m=o("p"),m.textContent="Tell your friends to scan the QR code or visit the game URL to join.",a(r,"class","waiting-animation svelte-1bq7mmc"),a(c,"class","svelte-1bq7mmc"),a(u,"class","svelte-1bq7mmc"),a(m,"class","invitation-text svelte-1bq7mmc"),a(n,"class","waiting-content svelte-1bq7mmc"),a(t,"class","waiting-card glass svelte-1bq7mmc"),a(e,"class","waiting-for-players slide-up svelte-1bq7mmc")},m(g,y){P(g,e,y),l(e,t),l(t,n),l(n,r),l(n,i),l(n,c),l(n,f),l(n,u),l(u,v),l(u,p),l(u,_),l(n,h),l(n,m)},p(g,y){y&8&&d!==(d=g[3]===1?"first":g[3]===2?"second":g[3]+"th")&&R(p,d)},d(g){g&&L(e)}}}function Yl(s){let e,t,n,r,i=s[2].length+"",c,f,u,v,d=s[2],p=[];for(let _=0;_<d.length;_+=1)p[_]=qt(Ct(s,d,_));return{c(){e=o("div"),t=o("div"),n=o("h3"),r=k("👥 Other Players ("),c=k(i),f=k(")"),u=b(),v=o("div");for(let _=0;_<p.length;_+=1)p[_].c();a(n,"class","svelte-1bq7mmc"),a(v,"class","players-grid svelte-1bq7mmc"),a(t,"class","players-card glass svelte-1bq7mmc"),a(e,"class","other-players slide-up")},m(_,h){P(_,e,h),l(e,t),l(t,n),l(n,r),l(n,c),l(n,f),l(t,u),l(t,v);for(let m=0;m<p.length;m+=1)p[m]&&p[m].m(v,null)},p(_,h){if(h&4&&i!==(i=_[2].length+"")&&R(c,i),h&4){d=_[2];let m;for(m=0;m<d.length;m+=1){const g=Ct(_,d,m);p[m]?p[m].p(g,h):(p[m]=qt(g),p[m].c(),p[m].m(v,null))}for(;m<p.length;m+=1)p[m].d(1);p.length=d.length}},d(_){_&&L(e),Me(p,_)}}}function qt(s){let e,t,n=s[6].avatar.emoji+"",r,i,c,f=s[6].name+"",u,v,d,p;return{c(){e=o("div"),t=o("div"),r=k(n),i=b(),c=o("div"),u=k(f),v=b(),d=o("div"),d.innerHTML=`<span class="status-dot connected svelte-1bq7mmc"></span> 
                <span>Ready</span>`,p=b(),a(t,"class","player-avatar svelte-1bq7mmc"),_e(t,"background",s[6].avatar.color),a(c,"class","player-name svelte-1bq7mmc"),a(d,"class","player-status svelte-1bq7mmc"),a(e,"class","player-item svelte-1bq7mmc")},m(_,h){P(_,e,h),l(e,t),l(t,r),l(e,i),l(e,c),l(c,u),l(e,v),l(e,d),l(e,p)},p(_,h){h&4&&n!==(n=_[6].avatar.emoji+"")&&R(r,n),h&4&&_e(t,"background",_[6].avatar.color),h&4&&f!==(f=_[6].name+"")&&R(u,f)},d(_){_&&L(e)}}}function Ol(s){let e,t,n,r,i,c,f,u,v=s[0].name+"",d,p,_,h,m,g=s[0].avatar.emoji+"",y,z,C,q,w,T,j,F,S,M=s[1].length+"",H,I,O,J,Q=s[1].length!==1?"s":"",Y,U,E,W,X,B;function x(Z,ae){return Z[1].length>=2?El:Dl}let K=x(s),ne=K(s);function re(Z,ae){return Z[2].length>0?Yl:Nl}let le=re(s),oe=le(s);return{c(){e=o("div"),t=o("div"),n=o("div"),r=o("h1"),r.textContent="🎉 You're In!",i=b(),c=o("p"),f=k("Welcome to the game, "),u=o("strong"),d=k(v),p=k("!"),_=b(),h=o("div"),m=o("div"),y=k(g),z=b(),C=o("div"),q=o("div"),w=o("div"),w.innerHTML=`<h2 class="svelte-1bq7mmc">⏳ Waiting to Start</h2> 
        <p class="svelte-1bq7mmc">The host will begin the game when everyone is ready.</p>`,T=b(),j=o("div"),F=o("div"),S=o("span"),H=k(M),I=b(),O=o("span"),J=k("player"),Y=k(Q),U=k(" joined"),E=b(),ne.c(),W=b(),oe.c(),X=b(),B=o("div"),B.innerHTML=`<div class="info-card glass svelte-1bq7mmc"><details><summary class="svelte-1bq7mmc">🎯 How to Play</summary> 
        <div class="game-rules svelte-1bq7mmc"><div class="rule-item svelte-1bq7mmc"><span class="rule-emoji svelte-1bq7mmc">1️⃣</span> 
            <div class="rule-content svelte-1bq7mmc"><strong class="svelte-1bq7mmc">Create Lies</strong> 
              <p class="svelte-1bq7mmc">Submit fake answers to fool other players</p></div></div> 
          
          <div class="rule-item svelte-1bq7mmc"><span class="rule-emoji svelte-1bq7mmc">2️⃣</span> 
            <div class="rule-content svelte-1bq7mmc"><strong class="svelte-1bq7mmc">Find Truth</strong> 
              <p class="svelte-1bq7mmc">Guess which answer is the real one</p></div></div> 
          
          <div class="rule-item svelte-1bq7mmc"><span class="rule-emoji svelte-1bq7mmc">3️⃣</span> 
            <div class="rule-content svelte-1bq7mmc"><strong class="svelte-1bq7mmc">Score Points</strong> 
              <p class="svelte-1bq7mmc">Earn points for fooling others and finding truth</p></div></div></div></details></div>`,a(r,"class","svelte-1bq7mmc"),a(u,"class","svelte-1bq7mmc"),a(c,"class","svelte-1bq7mmc"),a(m,"class","player-avatar-large svelte-1bq7mmc"),_e(m,"background",s[0].avatar.color),a(h,"class","player-preview svelte-1bq7mmc"),a(n,"class","welcome-card glass svelte-1bq7mmc"),a(t,"class","welcome-section fade-in svelte-1bq7mmc"),a(w,"class","status-header svelte-1bq7mmc"),a(S,"class","count-number svelte-1bq7mmc"),a(O,"class","count-label svelte-1bq7mmc"),a(F,"class","count-display svelte-1bq7mmc"),a(j,"class","player-count svelte-1bq7mmc"),a(q,"class","status-card glass svelte-1bq7mmc"),a(C,"class","game-status slide-up"),a(B,"class","game-info slide-up"),a(e,"class","player-lobby svelte-1bq7mmc")},m(Z,ae){P(Z,e,ae),l(e,t),l(t,n),l(n,r),l(n,i),l(n,c),l(c,f),l(c,u),l(u,d),l(c,p),l(n,_),l(n,h),l(h,m),l(m,y),l(e,z),l(e,C),l(C,q),l(q,w),l(q,T),l(q,j),l(j,F),l(F,S),l(S,H),l(F,I),l(F,O),l(O,J),l(O,Y),l(O,U),l(j,E),ne.m(j,null),l(e,W),oe.m(e,null),l(e,X),l(e,B)},p(Z,[ae]){ae&1&&v!==(v=Z[0].name+"")&&R(d,v),ae&1&&g!==(g=Z[0].avatar.emoji+"")&&R(y,g),ae&1&&_e(m,"background",Z[0].avatar.color),ae&2&&M!==(M=Z[1].length+"")&&R(H,M),ae&2&&Q!==(Q=Z[1].length!==1?"s":"")&&R(Y,Q),K!==(K=x(Z))&&(ne.d(1),ne=K(Z),ne&&(ne.c(),ne.m(j,null))),le===(le=re(Z))&&oe?oe.p(Z,ae):(oe.d(1),oe=le(Z),oe&&(oe.c(),oe.m(e,X)))},i:ue,o:ue,d(Z){Z&&L(e),ne.d(),oe.d()}}}function Ql(s,e,t){let n,r,i,{gameState:c}=e,{myPlayerData:f}=e;return s.$$set=u=>{"gameState"in u&&t(4,c=u.gameState),"myPlayerData"in u&&t(0,f=u.myPlayerData)},s.$$.update=()=>{var u,v;s.$$.dirty&16&&t(1,n=((u=c.players)==null?void 0:u.filter(d=>d.connected))||[]),s.$$.dirty&16&&(v=c.players)!=null&&v.length,s.$$.dirty&3&&t(3,r=n.findIndex(d=>d.id===f.id)+1),s.$$.dirty&3&&t(2,i=n.filter(d=>d.id!==f.id))},[f,n,i,r,c]}class Vl extends ze{constructor(e){super(),Re(this,e,Ql,Ol,Fe,{gameState:4,myPlayerData:0})}}function jt(s,e,t){const n=s.slice();return n[11]=e[t],n}function Tt(s,e,t){const n=s.slice();return n[11]=e[t],n[13]=t,n}function Jl(s){let e,t,n,r,i,c,f,u,v,d,p=s[3]&&Pt(s),_=s[4].length>0&&Lt(s);return{c(){e=o("div"),t=o("div"),n=o("div"),r=o("div"),r.textContent="⏳",i=b(),c=o("h2"),c.textContent="Another Player is Choosing",f=b(),u=o("p"),u.textContent="Someone else is picking the category for this question.",v=b(),p&&p.c(),d=b(),_&&_.c(),a(r,"class","waiting-icon svelte-bio6sx"),a(c,"class","svelte-bio6sx"),a(u,"class","svelte-bio6sx"),a(n,"class","waiting-content svelte-bio6sx"),a(t,"class","waiting-card glass svelte-bio6sx"),a(e,"class","waiting-interface fade-in svelte-bio6sx")},m(h,m){P(h,e,m),l(e,t),l(t,n),l(n,r),l(n,i),l(n,c),l(n,f),l(n,u),l(n,v),p&&p.m(n,null),l(n,d),_&&_.m(n,null)},p(h,m){h[3]?p?p.p(h,m):(p=Pt(h),p.c(),p.m(n,d)):p&&(p.d(1),p=null),h[4].length>0?_?_.p(h,m):(_=Lt(h),_.c(),_.m(n,null)):_&&(_.d(1),_=null)},d(h){h&&L(e),p&&p.d(),_&&_.d()}}}function Wl(s){let e,t,n,r,i,c,f,u,v,d,p,_,h,m=s[3]&&zt(s),g=s[4],y=[];for(let w=0;w<g.length;w+=1)y[w]=Rt(Tt(s,g,w));function z(w,T){return w[2]?Bl:Kl}let C=z(s),q=C(s);return{c(){e=o("div"),t=o("div"),n=o("h1"),n.textContent="🎯 Your Turn!",r=b(),i=o("p"),i.textContent="Choose a category for the next question.",c=b(),m&&m.c(),f=b(),u=o("div"),v=o("h2"),v.textContent="Pick a category:",d=b(),p=o("div");for(let w=0;w<y.length;w+=1)y[w].c();_=b(),h=o("div"),q.c(),a(n,"class","svelte-bio6sx"),a(i,"class","svelte-bio6sx"),a(t,"class","selection-header svelte-bio6sx"),a(v,"class","svelte-bio6sx"),a(p,"class","categories-grid svelte-bio6sx"),a(u,"class","categories-section svelte-bio6sx"),a(h,"class","selection-help svelte-bio6sx"),a(e,"class","selection-interface fade-in svelte-bio6sx")},m(w,T){P(w,e,T),l(e,t),l(t,n),l(t,r),l(t,i),l(t,c),m&&m.m(t,null),l(e,f),l(e,u),l(u,v),l(u,d),l(u,p);for(let j=0;j<y.length;j+=1)y[j]&&y[j].m(p,null);l(e,_),l(e,h),q.m(h,null)},p(w,T){if(w[3]?m?m.p(w,T):(m=zt(w),m.c(),m.m(t,null)):m&&(m.d(1),m=null),T&116){g=w[4];let j;for(j=0;j<g.length;j+=1){const F=Tt(w,g,j);y[j]?y[j].p(F,T):(y[j]=Rt(F),y[j].c(),y[j].m(p,null))}for(;j<y.length;j+=1)y[j].d(1);y.length=g.length}C!==(C=z(w))&&(q.d(1),q=C(w),q&&(q.c(),q.m(h,null)))},d(w){w&&L(e),m&&m.d(),Me(y,w),q.d()}}}function Pt(s){let e,t,n=Xe(s[3].remaining)+"",r,i,c;return{c(){e=o("div"),t=o("span"),r=k(n),i=b(),c=o("span"),c.textContent="seconds remaining",a(t,"class","timer-number svelte-bio6sx"),a(c,"class","timer-label svelte-bio6sx"),a(e,"class","timer-remaining svelte-bio6sx")},m(f,u){P(f,e,u),l(e,t),l(t,r),l(e,i),l(e,c)},p(f,u){u&8&&n!==(n=Xe(f[3].remaining)+"")&&R(r,n)},d(f){f&&L(e)}}}function Lt(s){let e,t,n,r,i=s[4],c=[];for(let f=0;f<i.length;f+=1)c[f]=Mt(jt(s,i,f));return{c(){e=o("div"),t=o("h3"),t.textContent="Available categories:",n=b(),r=o("div");for(let f=0;f<c.length;f+=1)c[f].c();a(t,"class","svelte-bio6sx"),a(r,"class","categories-preview svelte-bio6sx"),a(e,"class","preview-categories svelte-bio6sx")},m(f,u){P(f,e,u),l(e,t),l(e,n),l(e,r);for(let v=0;v<c.length;v+=1)c[v]&&c[v].m(r,null)},p(f,u){if(u&48){i=f[4];let v;for(v=0;v<i.length;v+=1){const d=jt(f,i,v);c[v]?c[v].p(d,u):(c[v]=Mt(d),c[v].c(),c[v].m(r,null))}for(;v<c.length;v+=1)c[v].d(1);c.length=i.length}},d(f){f&&L(e),Me(c,f)}}}function Mt(s){let e,t,n=s[5](s[11])+"",r,i,c,f=s[11]+"",u,v;return{c(){e=o("div"),t=o("span"),r=k(n),i=b(),c=o("span"),u=k(f),v=b(),a(t,"class","preview-emoji svelte-bio6sx"),a(c,"class","preview-name svelte-bio6sx"),a(e,"class","preview-category svelte-bio6sx")},m(d,p){P(d,e,p),l(e,t),l(t,r),l(e,i),l(e,c),l(c,u),l(e,v)},p(d,p){p&16&&n!==(n=d[5](d[11])+"")&&R(r,n),p&16&&f!==(f=d[11]+"")&&R(u,f)},d(d){d&&L(e)}}}function zt(s){let e,t,n,r=Xe(s[3].remaining)+"",i,c,f;return{c(){e=o("div"),t=o("div"),n=o("div"),i=k(r),c=b(),f=o("div"),f.textContent="seconds to choose",a(n,"class","timer-number svelte-bio6sx"),a(t,"class","timer-circle svelte-bio6sx"),a(f,"class","timer-label svelte-bio6sx"),a(e,"class","timer-display svelte-bio6sx"),N(e,"urgent",s[3].remaining<=5)},m(u,v){P(u,e,v),l(e,t),l(t,n),l(n,i),l(e,c),l(e,f)},p(u,v){v&8&&r!==(r=Xe(u[3].remaining)+"")&&R(i,r),v&8&&N(e,"urgent",u[3].remaining<=5)},d(u){u&&L(e)}}}function Rt(s){let e,t,n=s[5](s[11])+"",r,i,c,f=s[11]+"",u,v,d,p,_,h,m;function g(){return s[8](s[13])}return{c(){e=o("button"),t=o("div"),r=k(n),i=b(),c=o("div"),u=k(f),v=b(),d=o("div"),d.textContent="Tap to select",p=b(),a(t,"class","category-emoji svelte-bio6sx"),a(c,"class","category-name svelte-bio6sx"),a(d,"class","category-hint svelte-bio6sx"),a(e,"class","category-button scale-in svelte-bio6sx"),_e(e,"animation-delay",s[13]*150+"ms"),e.disabled=_=!s[2]},m(y,z){P(y,e,z),l(e,t),l(t,r),l(e,i),l(e,c),l(c,u),l(e,v),l(e,d),l(e,p),h||(m=je(e,"click",g),h=!0)},p(y,z){s=y,z&16&&n!==(n=s[5](s[11])+"")&&R(r,n),z&16&&f!==(f=s[11]+"")&&R(u,f),z&4&&_!==(_=!s[2])&&(e.disabled=_)},d(y){y&&L(e),h=!1,m()}}}function Bl(s){let e;return{c(){e=o("p"),e.textContent="Choose the category that sounds most interesting to you!",a(e,"class","help-text svelte-bio6sx")},m(t,n){P(t,e,n)},d(t){t&&L(e)}}}function Kl(s){let e;return{c(){e=o("p"),e.textContent="⏳ Please wait...",a(e,"class","help-text warning svelte-bio6sx")},m(t,n){P(t,e,n)},d(t){t&&L(e)}}}function Ul(s){var H;let e,t,n,r,i,c,f,u,v,d=(s[0].round||1)+"",p,_,h=(s[0].question||1)+"",m,g,y,z,C,q,w=(((H=s[0].players)==null?void 0:H.filter(Ft).length)||0)+"",T,j;function F(I,O){return I[1]?Wl:Jl}let S=F(s),M=S(s);return{c(){e=o("div"),M.c(),t=b(),n=o("div"),r=o("div"),i=o("div"),c=o("span"),c.textContent="🎯",f=b(),u=o("span"),v=k("Round "),p=k(d),_=k(" • Question "),m=k(h),g=b(),y=o("div"),z=o("span"),z.textContent="👥",C=b(),q=o("span"),T=k(w),j=k(" players"),a(c,"class","context-emoji svelte-bio6sx"),a(i,"class","context-item svelte-bio6sx"),a(z,"class","context-emoji svelte-bio6sx"),a(y,"class","context-item svelte-bio6sx"),a(r,"class","context-items svelte-bio6sx"),a(n,"class","game-context slide-up svelte-bio6sx"),a(e,"class","category-select-container svelte-bio6sx")},m(I,O){P(I,e,O),M.m(e,null),l(e,t),l(e,n),l(n,r),l(r,i),l(i,c),l(i,f),l(i,u),l(u,v),l(u,p),l(u,_),l(u,m),l(r,g),l(r,y),l(y,z),l(y,C),l(y,q),l(q,T),l(q,j)},p(I,[O]){var J;S===(S=F(I))&&M?M.p(I,O):(M.d(1),M=S(I),M&&(M.c(),M.m(e,t))),O&1&&d!==(d=(I[0].round||1)+"")&&R(p,d),O&1&&h!==(h=(I[0].question||1)+"")&&R(m,h),O&1&&w!==(w=(((J=I[0].players)==null?void 0:J.filter(Ft).length)||0)+"")&&R(T,w)},i:ue,o:ue,d(I){I&&L(e),M.d()}}}function Xe(s){return(s==null?void 0:s.toString().padStart(2,"0"))||"--"}const Ft=s=>s.connected;function Xl(s,e,t){let n,r,i,c,{gameState:f}=e,{subStepInfo:u}=e;const v=st(),d={History:"📚",Animals:"🐾",Food:"🍎",Science:"🔬",Sports:"⚽",Entertainment:"🎬",Geography:"🌍",Music:"🎵",Art:"🎨",Technology:"💻",Nature:"🌿",Space:"🚀",Movies:"🎬",TV:"📺",Games:"🎮",Literature:"📖",Mythology:"🏛️",Fashion:"👗",Language:"💬",Inventions:"💡",Comics:"💥",Tech:"⚙️",Misc:"🎲",Bonus:"⭐"};function p(m){return d[m]||"❓"}function _(m){u.isMyTurn&&u.canAct&&v("selectCategory",{index:m})}const h=m=>_(m);return s.$$set=m=>{"gameState"in m&&t(0,f=m.gameState),"subStepInfo"in m&&t(7,u=m.subStepInfo)},s.$$.update=()=>{s.$$.dirty&1&&t(4,n=f.categoriesForSelection||[]),s.$$.dirty&1&&t(3,r=f.timer),s.$$.dirty&128&&t(1,i=u.isMyTurn),s.$$.dirty&130&&t(2,c=u.canAct&&i)},[f,i,c,r,n,p,_,u,h]}class Zl extends ze{constructor(e){super(),Re(this,e,Xl,Ul,Fe,{gameState:0,subStepInfo:7})}}function Ht(s){let e,t,n,r=It(s[1].remaining)+"",i,c,f;return{c(){e=o("div"),t=o("div"),n=o("div"),i=k(r),c=b(),f=o("div"),f.textContent="seconds to read",a(n,"class","timer-number svelte-ljfwfq"),a(t,"class","timer-circle svelte-ljfwfq"),a(f,"class","timer-label svelte-ljfwfq"),a(e,"class","timer-display svelte-ljfwfq"),N(e,"urgent",s[1].remaining<=3)},m(u,v){P(u,e,v),l(e,t),l(t,n),l(n,i),l(e,c),l(e,f)},p(u,v){v&2&&r!==(r=It(u[1].remaining)+"")&&R(i,r),v&2&&N(e,"urgent",u[1].remaining<=3)},d(u){u&&L(e)}}}function $l(s){let e;return{c(){e=o("div"),e.innerHTML=`<div class="loading-card glass svelte-ljfwfq"><div class="loading-spinner svelte-ljfwfq">🔄</div> 
        <h3 class="svelte-ljfwfq">Loading question...</h3> 
        <p class="svelte-ljfwfq">Preparing the next challenge for you.</p></div>`,a(e,"class","loading-section svelte-ljfwfq")},m(t,n){P(t,e,n)},p:ue,d(t){t&&L(e)}}}function xl(s){let e,t,n,r,i,c=s[3](s[2].category)+"",f,u,v,d=s[2].category+"",p,_,h,m,g=s[2].question+"",y,z,C,q,w,T,j=s[4](s[2].category)+"",F;return{c(){e=o("div"),t=o("div"),n=o("div"),r=o("div"),i=o("span"),f=k(c),u=b(),v=o("span"),p=k(d),_=b(),h=o("div"),m=o("h2"),y=k(g),z=b(),C=o("div"),q=o("div"),q.textContent="💡",w=b(),T=o("p"),F=k(j),a(i,"class","category-emoji svelte-ljfwfq"),a(v,"class","category-name svelte-ljfwfq"),a(r,"class","category-badge svelte-ljfwfq"),a(n,"class","category-header svelte-ljfwfq"),a(m,"class","question-text svelte-ljfwfq"),a(h,"class","question-content svelte-ljfwfq"),a(q,"class","tip-icon svelte-ljfwfq"),a(T,"class","tip-text svelte-ljfwfq"),a(C,"class","question-tip svelte-ljfwfq"),a(t,"class","question-card svelte-ljfwfq"),a(e,"class","question-section scale-in svelte-ljfwfq")},m(S,M){P(S,e,M),l(e,t),l(t,n),l(n,r),l(r,i),l(i,f),l(r,u),l(r,v),l(v,p),l(t,_),l(t,h),l(h,m),l(m,y),l(t,z),l(t,C),l(C,q),l(C,w),l(C,T),l(T,F)},p(S,M){M&4&&c!==(c=S[3](S[2].category)+"")&&R(f,c),M&4&&d!==(d=S[2].category+"")&&R(p,d),M&4&&g!==(g=S[2].question+"")&&R(y,g),M&4&&j!==(j=S[4](S[2].category)+"")&&R(F,j)},d(S){S&&L(e)}}}function es(s){let e,t,n,r,i,c,f,u,v,d,p,_,h,m,g,y,z,C,q,w=(s[0].round||1)+"",T,j,F=(s[0].question||1)+"",S,M,H,I,O,J,Q=s[0].round===1?"500":s[0].round===2?"1000":"1500",Y,U,E=s[1]&&Ht(s);function W(x,K){return x[2]?xl:$l}let X=W(s),B=X(s);return{c(){e=o("div"),t=o("div"),n=o("h1"),n.textContent="📖 Read Carefully",r=b(),i=o("p"),i.textContent="Study the question and think about your answer strategy.",c=b(),E&&E.c(),f=b(),B.c(),u=b(),v=o("div"),v.innerHTML=`<div class="strategy-card glass svelte-ljfwfq"><h3 class="svelte-ljfwfq">🎯 Get Ready</h3> 
      <div class="strategy-tips svelte-ljfwfq"><div class="tip-item svelte-ljfwfq"><span class="tip-emoji svelte-ljfwfq">🎭</span> 
          <div class="tip-content svelte-ljfwfq"><strong class="svelte-ljfwfq">Think of lies:</strong> 
            <span class="svelte-ljfwfq">What fake answers might sound believable?</span></div></div> 
        
        <div class="tip-item svelte-ljfwfq"><span class="tip-emoji svelte-ljfwfq">🕵️</span> 
          <div class="tip-content svelte-ljfwfq"><strong class="svelte-ljfwfq">Consider the truth:</strong> 
            <span class="svelte-ljfwfq">What do you actually think the answer is?</span></div></div> 
        
        <div class="tip-item svelte-ljfwfq"><span class="tip-emoji svelte-ljfwfq">🎲</span> 
          <div class="tip-content svelte-ljfwfq"><strong class="svelte-ljfwfq">Be creative:</strong> 
            <span class="svelte-ljfwfq">Mix real facts with believable fiction.</span></div></div></div></div>`,d=b(),p=o("div"),p.innerHTML=`<div class="progress-content svelte-ljfwfq"><div class="progress-step active svelte-ljfwfq"><span class="step-number svelte-ljfwfq">1</span> 
        <span class="step-label svelte-ljfwfq">Read Question</span></div> 
      <div class="progress-arrow svelte-ljfwfq">→</div> 
      <div class="progress-step svelte-ljfwfq"><span class="step-number svelte-ljfwfq">2</span> 
        <span class="step-label svelte-ljfwfq">Submit Lie</span></div> 
      <div class="progress-arrow svelte-ljfwfq">→</div> 
      <div class="progress-step svelte-ljfwfq"><span class="step-number svelte-ljfwfq">3</span> 
        <span class="step-label svelte-ljfwfq">Guess Truth</span></div></div>`,_=b(),h=o("div"),m=o("div"),g=o("div"),y=o("span"),y.textContent="🎯",z=b(),C=o("span"),q=k("Round "),T=k(w),j=k(" • Question "),S=k(F),M=b(),H=o("div"),I=o("span"),I.textContent="🏆",O=b(),J=o("span"),Y=k(Q),U=k(" points per player fooled"),a(n,"class","svelte-ljfwfq"),a(i,"class","svelte-ljfwfq"),a(t,"class","reading-header fade-in svelte-ljfwfq"),a(v,"class","strategy-section slide-up svelte-ljfwfq"),a(p,"class","progress-section svelte-ljfwfq"),a(y,"class","context-emoji svelte-ljfwfq"),a(g,"class","context-item svelte-ljfwfq"),a(I,"class","context-emoji svelte-ljfwfq"),a(H,"class","context-item svelte-ljfwfq"),a(m,"class","context-items svelte-ljfwfq"),a(h,"class","game-context svelte-ljfwfq"),a(e,"class","question-reading-container svelte-ljfwfq")},m(x,K){P(x,e,K),l(e,t),l(t,n),l(t,r),l(t,i),l(t,c),E&&E.m(t,null),l(e,f),B.m(e,null),l(e,u),l(e,v),l(e,d),l(e,p),l(e,_),l(e,h),l(h,m),l(m,g),l(g,y),l(g,z),l(g,C),l(C,q),l(C,T),l(C,j),l(C,S),l(m,M),l(m,H),l(H,I),l(H,O),l(H,J),l(J,Y),l(J,U)},p(x,[K]){x[1]?E?E.p(x,K):(E=Ht(x),E.c(),E.m(t,null)):E&&(E.d(1),E=null),X===(X=W(x))&&B?B.p(x,K):(B.d(1),B=X(x),B&&(B.c(),B.m(e,u))),K&1&&w!==(w=(x[0].round||1)+"")&&R(T,w),K&1&&F!==(F=(x[0].question||1)+"")&&R(S,F),K&1&&Q!==(Q=x[0].round===1?"500":x[0].round===2?"1000":"1500")&&R(Y,Q)},i:ue,o:ue,d(x){x&&L(e),E&&E.d(),B.d()}}}function It(s){return(s==null?void 0:s.toString().padStart(2,"0"))||"--"}function ts(s,e,t){let n,r,{gameState:i}=e;const c={History:"📚",Animals:"🐾",Food:"🍎",Science:"🔬",Sports:"⚽",Entertainment:"🎬",Geography:"🌍",Music:"🎵",Art:"🎨",Technology:"💻",Nature:"🌿",Space:"🚀",Movies:"🎬",TV:"📺",Games:"🎮",Literature:"📖",Mythology:"🏛️",Fashion:"👗",Language:"💬",Inventions:"💡",Comics:"💥",Tech:"⚙️",Misc:"🎲",Bonus:"⭐"};function f(d){return c[d]||"❓"}const u={History:"Think about what historical figures might have done or used.",Animals:"Consider animal behaviors, group names, or characteristics.",Food:"Think about ingredients, cooking methods, or food origins.",Science:"Consider scientific facts, discoveries, or natural phenomena.",Sports:"Think about rules, equipment, or famous moments in sports.",Geography:"Consider countries, capitals, landmarks, or geographical features.",Music:"Think about artists, songs, instruments, or musical history.",Movies:"Consider plots, actors, directors, or famous movie quotes.",TV:"Think about characters, shows, or television history.",Games:"Consider rules, history, or famous games and players.",Literature:"Think about authors, books, characters, or literary devices.",Technology:"Consider inventions, innovations, or tech history.",Art:"Think about artists, techniques, art movements, or famous works.",Fashion:"Consider designers, trends, or fashion history.",Language:"Think about words, grammar, or linguistic facts.",Space:"Consider planets, stars, space exploration, or astronomy.",default:"Think carefully about what could fit in the blank."};function v(d){return u[d]||u.default}return s.$$set=d=>{"gameState"in d&&t(0,i=d.gameState)},s.$$.update=()=>{s.$$.dirty&1&&t(2,n=i.currentQuestion),s.$$.dirty&1&&t(1,r=i.timer)},[i,r,n,f,v]}class ls extends ze{constructor(e){super(),Re(this,e,ts,es,Fe,{gameState:0})}}function Gt(s,e,t){const n=s.slice();return n[18]=e[t],n}function ss(s){let e,t,n,r,i,c,f,u,v,d,p,_,h,m,g=s[2].length+"",y,z,C,q,w,T,j,F,S,M,H,I,O,J,Q,Y,U,E,W,X=(s[0].round||1)+"",B,x,K=(s[0].question||1)+"",ne,re,le,oe,Z,ae,be,de=s[0].round===1?"500":s[0].round===2?"1000":"1500",G,ie,V,me,fe=s[4]&&At(s),ee=s[8]&&Dt(s),te=s[5]&&Et(s);function ve(D,ce){return D[3]?as:is}let Le=ve(s),he=Le(s);function ge(D,ce){return ce&4&&(H=null),ce&4&&(I=null),D[1].canAct?(H==null&&(H=D[2].trim().length===0),H?cs:(I==null&&(I=D[2].trim().length<2),I?rs:os)):us}let A=ge(s,-1),se=A(s);return{c(){e=o("div"),fe&&fe.c(),t=b(),ee&&ee.c(),n=b(),r=o("div"),r.innerHTML=`<h2 class="svelte-fo0row">🎭 Create Your Lie</h2> 
        <p class="svelte-fo0row">Write a convincing fake answer that others might believe is real!</p>`,i=b(),c=o("div"),f=o("div"),u=o("label"),u.textContent="Enter your lie",v=b(),d=o("textarea"),_=b(),h=o("div"),m=o("div"),y=k(g),z=k("/100"),C=b(),q=o("button"),q.textContent="💡 Tips",w=b(),te&&te.c(),T=b(),j=o("button"),he.c(),S=b(),M=o("div"),se.c(),O=b(),J=o("div"),Q=o("div"),Y=o("span"),Y.textContent="🎯",U=b(),E=o("span"),W=k("Round "),B=k(X),x=k(" • Question "),ne=k(K),re=b(),le=o("div"),oe=o("span"),oe.textContent="🏆",Z=b(),ae=o("span"),be=k("Points: "),G=k(de),ie=k(" per player fooled"),a(r,"class","instructions svelte-fo0row"),a(u,"for","lieInput"),a(u,"class","sr-only"),a(d,"id","lieInput"),a(d,"class","lie-input svelte-fo0row"),a(d,"placeholder","Type your most convincing lie here..."),a(d,"maxlength","100"),a(d,"rows","3"),d.disabled=p=s[3]||s[1].hasSubmitted||!s[1].canAct,a(m,"class","character-count svelte-fo0row"),N(m,"warning",s[2].length>80),a(q,"class","tip-button svelte-fo0row"),a(q,"aria-label","Show tips"),a(h,"class","input-footer svelte-fo0row"),a(f,"class","input-container svelte-fo0row"),a(j,"class","btn btn-primary btn-lg submit-button svelte-fo0row"),j.disabled=F=!s[7],N(j,"loading",s[3]),a(M,"class","submit-help svelte-fo0row"),a(c,"class","input-section svelte-fo0row"),a(Y,"class","context-emoji svelte-fo0row"),a(Q,"class","context-item svelte-fo0row"),a(oe,"class","context-emoji svelte-fo0row"),a(le,"class","context-item svelte-fo0row"),a(J,"class","game-context svelte-fo0row"),a(e,"class","submit-form slide-up svelte-fo0row")},m(D,ce){P(D,e,ce),fe&&fe.m(e,null),l(e,t),ee&&ee.m(e,null),l(e,n),l(e,r),l(e,i),l(e,c),l(c,f),l(f,u),l(f,v),l(f,d),Ue(d,s[2]),l(f,_),l(f,h),l(h,m),l(m,y),l(m,z),l(h,C),l(h,q),l(c,w),te&&te.m(c,null),l(c,T),l(c,j),he.m(j,null),l(c,S),l(c,M),se.m(M,null),l(e,O),l(e,J),l(J,Q),l(Q,Y),l(Q,U),l(Q,E),l(E,W),l(E,B),l(E,x),l(E,ne),l(J,re),l(J,le),l(le,oe),l(le,Z),l(le,ae),l(ae,be),l(ae,G),l(ae,ie),V||(me=[je(d,"input",s[13]),je(d,"keydown",s[11]),je(q,"click",s[12]),je(j,"click",s[10])],V=!0)},p(D,ce){D[4]?fe?fe.p(D,ce):(fe=At(D),fe.c(),fe.m(e,t)):fe&&(fe.d(1),fe=null),D[8]?ee?ee.p(D,ce):(ee=Dt(D),ee.c(),ee.m(e,n)):ee&&(ee.d(1),ee=null),ce&10&&p!==(p=D[3]||D[1].hasSubmitted||!D[1].canAct)&&(d.disabled=p),ce&4&&Ue(d,D[2]),ce&4&&g!==(g=D[2].length+"")&&R(y,g),ce&4&&N(m,"warning",D[2].length>80),D[5]?te?te.p(D,ce):(te=Et(D),te.c(),te.m(c,T)):te&&(te.d(1),te=null),Le!==(Le=ve(D))&&(he.d(1),he=Le(D),he&&(he.c(),he.m(j,null))),ce&128&&F!==(F=!D[7])&&(j.disabled=F),ce&8&&N(j,"loading",D[3]),A!==(A=ge(D,ce))&&(se.d(1),se=A(D),se&&(se.c(),se.m(M,null))),ce&1&&X!==(X=(D[0].round||1)+"")&&R(B,X),ce&1&&K!==(K=(D[0].question||1)+"")&&R(ne,K),ce&1&&de!==(de=D[0].round===1?"500":D[0].round===2?"1000":"1500")&&R(G,de)},d(D){D&&L(e),fe&&fe.d(),ee&&ee.d(),te&&te.d(),he.d(),se.d(),V=!1,dl(me)}}}function ns(s){let e,t,n,r,i,c,f,u,v,d,p=s[8]&&Yt(s);return{c(){e=o("div"),t=o("div"),n=o("div"),n.textContent="✅",r=b(),i=o("h2"),i.textContent="Lie Submitted!",c=b(),f=o("p"),f.textContent="Great job! Your lie has been submitted successfully.",u=b(),v=o("div"),v.innerHTML=`<div class="spinner svelte-fo0row">⏳</div> 
          <span>Waiting for other players to finish...</span>`,d=b(),p&&p.c(),a(n,"class","submitted-icon svelte-fo0row"),a(i,"class","svelte-fo0row"),a(f,"class","svelte-fo0row"),a(v,"class","waiting-message svelte-fo0row"),a(t,"class","submitted-card glass svelte-fo0row"),a(e,"class","submitted-state fade-in svelte-fo0row")},m(_,h){P(_,e,h),l(e,t),l(t,n),l(t,r),l(t,i),l(t,c),l(t,f),l(t,u),l(t,v),l(t,d),p&&p.m(t,null)},p(_,h){_[8]?p?p.p(_,h):(p=Yt(_),p.c(),p.m(t,null)):p&&(p.d(1),p=null)},d(_){_&&L(e),p&&p.d()}}}function At(s){let e,t,n,r=s[9](s[4].category)+"",i,c,f,u=s[4].category+"",v,d,p,_=s[4].question+"",h;return{c(){e=o("div"),t=o("div"),n=o("span"),i=k(r),c=b(),f=o("span"),v=k(u),d=b(),p=o("div"),h=k(_),a(n,"class","category-emoji svelte-fo0row"),a(f,"class","category-name svelte-fo0row"),a(t,"class","category-badge svelte-fo0row"),a(p,"class","question-text svelte-fo0row"),a(e,"class","question-header glass svelte-fo0row")},m(m,g){P(m,e,g),l(e,t),l(t,n),l(n,i),l(t,c),l(t,f),l(f,v),l(e,d),l(e,p),l(p,h)},p(m,g){g&16&&r!==(r=m[9](m[4].category)+"")&&R(i,r),g&16&&u!==(u=m[4].category+"")&&R(v,u),g&16&&_!==(_=m[4].question+"")&&R(h,_)},d(m){m&&L(e)}}}function Dt(s){let e,t,n,r=Ze(s[8].remaining)+"",i,c,f;return{c(){e=o("div"),t=o("div"),n=o("div"),i=k(r),c=b(),f=o("div"),f.textContent="seconds to submit",a(n,"class","timer-number svelte-fo0row"),a(t,"class","timer-circle svelte-fo0row"),a(f,"class","timer-label svelte-fo0row"),a(e,"class","timer-display svelte-fo0row"),N(e,"urgent",s[8].remaining<=10)},m(u,v){P(u,e,v),l(e,t),l(t,n),l(n,i),l(e,c),l(e,f)},p(u,v){v&256&&r!==(r=Ze(u[8].remaining)+"")&&R(i,r),v&256&&N(e,"urgent",u[8].remaining<=10)},d(u){u&&L(e)}}}function Et(s){var z;let e,t,n,r,i,c,f,u,v,d=(((z=s[4])==null?void 0:z.category)||"this category")+"",p,_,h,m,g=s[6].slice(0,3),y=[];for(let C=0;C<g.length;C+=1)y[C]=Nt(Gt(s,g,C));return{c(){e=o("div"),t=o("div"),n=o("h4"),n.textContent="💡 How to Create Great Lies",r=b(),i=o("ul"),i.innerHTML=`<li class="svelte-fo0row"><strong class="svelte-fo0row">Be believable:</strong> Make it sound realistic</li> 
                <li class="svelte-fo0row"><strong class="svelte-fo0row">Match the style:</strong> Keep the same tone as the question</li> 
                <li class="svelte-fo0row"><strong class="svelte-fo0row">Use knowledge:</strong> Mix in real facts</li> 
                <li class="svelte-fo0row"><strong class="svelte-fo0row">Be specific:</strong> Details make lies more convincing</li>`,c=b(),f=o("div"),u=o("h5"),v=k("Example lies for "),p=k(d),_=k(":"),h=b(),m=o("div");for(let C=0;C<y.length;C+=1)y[C].c();a(n,"class","svelte-fo0row"),a(i,"class","svelte-fo0row"),a(u,"class","svelte-fo0row"),a(m,"class","example-lies svelte-fo0row"),a(f,"class","example-section svelte-fo0row"),a(t,"class","tips-content svelte-fo0row"),a(e,"class","tips-panel slide-up svelte-fo0row")},m(C,q){P(C,e,q),l(e,t),l(t,n),l(t,r),l(t,i),l(t,c),l(t,f),l(f,u),l(u,v),l(u,p),l(u,_),l(f,h),l(f,m);for(let w=0;w<y.length;w+=1)y[w]&&y[w].m(m,null)},p(C,q){var w;if(q&16&&d!==(d=(((w=C[4])==null?void 0:w.category)||"this category")+"")&&R(p,d),q&64){g=C[6].slice(0,3);let T;for(T=0;T<g.length;T+=1){const j=Gt(C,g,T);y[T]?y[T].p(j,q):(y[T]=Nt(j),y[T].c(),y[T].m(m,null))}for(;T<y.length;T+=1)y[T].d(1);y.length=g.length}},d(C){C&&L(e),Me(y,C)}}}function Nt(s){let e,t=s[18]+"",n;return{c(){e=o("span"),n=k(t),a(e,"class","example-lie svelte-fo0row")},m(r,i){P(r,e,i),l(e,n)},p(r,i){i&64&&t!==(t=r[18]+"")&&R(n,t)},d(r){r&&L(e)}}}function is(s){let e,t;return{c(){e=o("span"),e.textContent="🚀",t=k(`
            Submit Lie`),a(e,"class","button-emoji svelte-fo0row")},m(n,r){P(n,e,r),P(n,t,r)},d(n){n&&L(e),n&&L(t)}}}function as(s){let e,t;return{c(){e=o("span"),e.textContent="🔄",t=k(`
            Submitting...`),a(e,"class","button-spinner svelte-fo0row")},m(n,r){P(n,e,r),P(n,t,r)},d(n){n&&L(e),n&&L(t)}}}function os(s){let e;return{c(){e=o("span"),e.textContent="✓ Ready to submit! Press Ctrl+Enter or click the button",a(e,"class","help-text success svelte-fo0row")},m(t,n){P(t,e,n)},d(t){t&&L(e)}}}function rs(s){let e;return{c(){e=o("span"),e.textContent="Your lie should be at least 2 characters",a(e,"class","help-text warning svelte-fo0row")},m(t,n){P(t,e,n)},d(t){t&&L(e)}}}function cs(s){let e;return{c(){e=o("span"),e.textContent="Enter a lie above, then click submit",a(e,"class","help-text svelte-fo0row")},m(t,n){P(t,e,n)},d(t){t&&L(e)}}}function us(s){let e;return{c(){e=o("span"),e.textContent="⏳ Please wait for your turn",a(e,"class","help-text warning svelte-fo0row")},m(t,n){P(t,e,n)},d(t){t&&L(e)}}}function Yt(s){let e,t,n=Ze(s[8].remaining)+"",r,i,c;return{c(){e=o("div"),t=o("span"),r=k(n),i=b(),c=o("span"),c.textContent="seconds left",a(t,"class","timer-number svelte-fo0row"),a(c,"class","timer-label svelte-fo0row"),a(e,"class","timer-remaining svelte-fo0row")},m(f,u){P(f,e,u),l(e,t),l(t,r),l(e,i),l(e,c)},p(f,u){u&256&&n!==(n=Ze(f[8].remaining)+"")&&R(r,n)},d(f){f&&L(e)}}}function fs(s){let e;function t(i,c){return i[1].hasSubmitted?ns:ss}let n=t(s),r=n(s);return{c(){e=o("div"),r.c(),a(e,"class","lie-submit-container svelte-fo0row")},m(i,c){P(i,e,c),r.m(e,null)},p(i,[c]){n===(n=t(i))&&r?r.p(i,c):(r.d(1),r=n(i),r&&(r.c(),r.m(e,null)))},i:ue,o:ue,d(i){i&&L(e),r.d()}}}function Ze(s){return(s==null?void 0:s.toString().padStart(2,"0"))||"--"}function vs(s,e,t){let n,r,i,c,{gameState:f}=e,{subStepInfo:u}=e;const v=st();let d="",p=!1,_=!1;const h={History:"📚",Animals:"🐾",Food:"🍎",Science:"🔬",Sports:"⚽",Entertainment:"🎬",Geography:"🌍",Music:"🎵",Art:"🎨",Technology:"💻",Nature:"🌿",Space:"🚀",Movies:"🎬",TV:"📺",Games:"🎮",Literature:"📖",Mythology:"🏛️",Fashion:"👗",Language:"💬",Inventions:"💡",Comics:"💥",Tech:"⚙️",Misc:"🎲",Bonus:"⭐"};function m(T){return h[T]||"❓"}function g(){d.trim()&&!p&&!u.hasSubmitted&&(t(3,p=!0),v("submitLie",{lie:d.trim()}),setTimeout(()=>{t(3,p=!1)},1500))}function y(T){T.key==="Enter"&&T.ctrlKey&&g()}function z(){t(5,_=!_)}const C={History:["Sword","Crown","Medal","Map"],Animals:["Pack","Herd","School","Pride"],Food:["Apple","Banana","Orange","Grape"],Science:["Mercury","Venus","Mars","Saturn"],Sports:["Soccer","Tennis","Golf","Hockey"],Geography:["Russia","Canada","China","Brazil"],Music:["Elvis","Beatles","Prince","Madonna"],Movies:["Star Wars","Jaws","E.T.","Titanic"],default:["Answer","Option","Choice","Response"]};function q(T){return C[T]||C.default}function w(){d=this.value,t(2,d)}return s.$$set=T=>{"gameState"in T&&t(0,f=T.gameState),"subStepInfo"in T&&t(1,u=T.subStepInfo)},s.$$.update=()=>{s.$$.dirty&1&&t(4,n=f.currentQuestion),s.$$.dirty&1&&t(8,r=f.timer),s.$$.dirty&14&&t(7,i=d.trim().length>0&&!p&&!u.hasSubmitted&&u.canAct),s.$$.dirty&16&&t(6,c=n?q(n.category):C.default)},[f,u,d,p,n,_,c,i,r,m,g,y,z,w]}class ds extends ze{constructor(e){super(),Re(this,e,vs,fs,Fe,{gameState:0,subStepInfo:1})}}function Ot(s,e,t){const n=s.slice();return n[16]=e[t],n[18]=t,n}function Qt(s,e,t){const n=s.slice();return n[16]=e[t],n[18]=t,n}function ms(s){let e,t,n,r,i,c,f,u,v,d,p,_,h,m,g=s[6]&&Vt(s),y=s[8]&&Jt(s),z=s[7],C=[];for(let j=0;j<z.length;j+=1)C[j]=Wt(Ot(s,z,j));function q(j,F){return j[5]?gs:_s}let w=q(s),T=w(s);return{c(){e=o("div"),t=o("div"),n=o("h1"),n.textContent="🗳️ Vote for the Truth",r=b(),i=o("p"),i.textContent="Which answer do you think is the real one?",c=b(),g&&g.c(),f=b(),y&&y.c(),u=b(),v=o("div"),d=o("h2"),d.textContent="Choose your answer:",p=b(),_=o("div");for(let j=0;j<C.length;j+=1)C[j].c();h=b(),m=o("div"),T.c(),a(n,"class","svelte-132ntkn"),a(i,"class","svelte-132ntkn"),a(t,"class","selection-header svelte-132ntkn"),a(d,"class","svelte-132ntkn"),a(_,"class","options-grid svelte-132ntkn"),a(v,"class","options-selection svelte-132ntkn"),a(m,"class","selection-help svelte-132ntkn"),a(e,"class","selection-interface slide-up")},m(j,F){P(j,e,F),l(e,t),l(t,n),l(t,r),l(t,i),l(t,c),g&&g.m(t,null),l(e,f),y&&y.m(e,null),l(e,u),l(e,v),l(v,d),l(v,p),l(v,_);for(let S=0;S<C.length;S+=1)C[S]&&C[S].m(_,null);l(e,h),l(e,m),T.m(m,null)},p(j,F){if(j[6]?g?g.p(j,F):(g=Vt(j),g.c(),g.m(t,null)):g&&(g.d(1),g=null),j[8]?y?y.p(j,F):(y=Jt(j),y.c(),y.m(e,u)):y&&(y.d(1),y=null),F&1184){z=j[7];let S;for(S=0;S<z.length;S+=1){const M=Ot(j,z,S);C[S]?C[S].p(M,F):(C[S]=Wt(M),C[S].c(),C[S].m(_,null))}for(;S<C.length;S+=1)C[S].d(1);C.length=z.length}w!==(w=q(j))&&(T.d(1),T=w(j),T&&(T.c(),T.m(m,null)))},d(j){j&&L(e),g&&g.d(),y&&y.d(),Me(C,j),T.d()}}}function ps(s){let e,t,n,r,i,c,f,u=xe(s[2])+"",v,d,p,_,h,m,g,y,z,C,q,w=s[6]&&Bt(s),T=s[8]&&Kt(s),j=s[7],F=[];for(let S=0;S<j.length;S+=1)F[S]=Ut(Qt(s,j,S));return{c(){e=o("div"),t=o("div"),n=o("h1"),n.textContent="✅ Choice Made!",r=b(),i=o("p"),c=k("You selected option "),f=o("strong"),v=k(u),d=k(". Now you can like other creative lies!"),p=b(),w&&w.c(),_=b(),T&&T.c(),h=b(),m=o("div"),g=o("h3"),g.textContent="👍 Like creative lies from other players:",y=b(),z=o("div");for(let S=0;S<F.length;S+=1)F[S].c();C=b(),q=o("div"),q.innerHTML=`<div class="spinner svelte-132ntkn">⏳</div> 
        <span>Waiting for other players to finish voting...</span>`,a(n,"class","svelte-132ntkn"),a(f,"class","svelte-132ntkn"),a(i,"class","svelte-132ntkn"),a(t,"class","selection-header svelte-132ntkn"),a(g,"class","svelte-132ntkn"),a(z,"class","options-grid svelte-132ntkn"),a(m,"class","options-list svelte-132ntkn"),a(q,"class","waiting-message svelte-132ntkn"),a(e,"class","selected-state fade-in")},m(S,M){P(S,e,M),l(e,t),l(t,n),l(t,r),l(t,i),l(i,c),l(i,f),l(f,v),l(i,d),l(t,p),w&&w.m(t,null),l(e,_),T&&T.m(e,null),l(e,h),l(e,m),l(m,g),l(m,y),l(m,z);for(let H=0;H<F.length;H+=1)F[H]&&F[H].m(z,null);l(e,C),l(e,q)},p(S,M){if(M&4&&u!==(u=xe(S[2])+"")&&R(v,u),S[6]?w?w.p(S,M):(w=Bt(S),w.c(),w.m(t,null)):w&&(w.d(1),w=null),S[8]?T?T.p(S,M):(T=Kt(S),T.c(),T.m(e,h)):T&&(T.d(1),T=null),M&2204){j=S[7];let H;for(H=0;H<j.length;H+=1){const I=Qt(S,j,H);F[H]?F[H].p(I,M):(F[H]=Ut(I),F[H].c(),F[H].m(z,null))}for(;H<F.length;H+=1)F[H].d(1);F.length=j.length}},d(S){S&&L(e),w&&w.d(),T&&T.d(),Me(F,S)}}}function Vt(s){let e,t,n,r=$e(s[6].remaining)+"",i,c,f;return{c(){e=o("div"),t=o("div"),n=o("div"),i=k(r),c=b(),f=o("div"),f.textContent="seconds to vote",a(n,"class","timer-number svelte-132ntkn"),a(t,"class","timer-circle svelte-132ntkn"),a(f,"class","timer-label svelte-132ntkn"),a(e,"class","timer-display svelte-132ntkn"),N(e,"urgent",s[6].remaining<=10)},m(u,v){P(u,e,v),l(e,t),l(t,n),l(n,i),l(e,c),l(e,f)},p(u,v){v&64&&r!==(r=$e(u[6].remaining)+"")&&R(i,r),v&64&&N(e,"urgent",u[6].remaining<=10)},d(u){u&&L(e)}}}function Jt(s){let e,t,n,r=s[9](s[8].category)+"",i,c,f,u=s[8].category+"",v,d,p,_=s[8].question+"",h;return{c(){e=o("div"),t=o("div"),n=o("span"),i=k(r),c=b(),f=o("span"),v=k(u),d=b(),p=o("div"),h=k(_),a(n,"class","category-emoji svelte-132ntkn"),a(f,"class","category-name svelte-132ntkn"),a(t,"class","context-header svelte-132ntkn"),a(p,"class","context-question svelte-132ntkn"),a(e,"class","question-context glass svelte-132ntkn")},m(m,g){P(m,e,g),l(e,t),l(t,n),l(n,i),l(t,c),l(t,f),l(f,v),l(e,d),l(e,p),l(p,h)},p(m,g){g&256&&r!==(r=m[9](m[8].category)+"")&&R(i,r),g&256&&u!==(u=m[8].category+"")&&R(v,u),g&256&&_!==(_=m[8].question+"")&&R(h,_)},d(m){m&&L(e)}}}function Wt(s){let e,t,n=xe(s[18])+"",r,i,c,f=s[16].text+"",u,v,d,p,_,h,m;function g(){return s[13](s[18])}return{c(){e=o("button"),t=o("div"),r=k(n),i=b(),c=o("div"),u=k(f),v=b(),d=o("div"),d.textContent="Tap to select",p=b(),a(t,"class","option-letter svelte-132ntkn"),a(c,"class","option-text svelte-132ntkn"),a(d,"class","option-hint svelte-132ntkn"),a(e,"class","option-button scale-in svelte-132ntkn"),_e(e,"animation-delay",s[18]*100+"ms"),e.disabled=_=!s[5]},m(y,z){P(y,e,z),l(e,t),l(t,r),l(e,i),l(e,c),l(c,u),l(e,v),l(e,d),l(e,p),h||(m=je(e,"click",g),h=!0)},p(y,z){s=y,z&128&&f!==(f=s[16].text+"")&&R(u,f),z&32&&_!==(_=!s[5])&&(e.disabled=_)},d(y){y&&L(e),h=!1,m()}}}function gs(s){let e;return{c(){e=o("p"),e.textContent="Think carefully - which one sounds like the real answer?",a(e,"class","help-text svelte-132ntkn")},m(t,n){P(t,e,n)},d(t){t&&L(e)}}}function _s(s){let e;return{c(){e=o("p"),e.textContent="⏳ Please wait...",a(e,"class","help-text warning svelte-132ntkn")},m(t,n){P(t,e,n)},d(t){t&&L(e)}}}function Bt(s){let e,t,n,r=$e(s[6].remaining)+"",i,c,f;return{c(){e=o("div"),t=o("div"),n=o("div"),i=k(r),c=b(),f=o("div"),f.textContent="seconds remaining",a(n,"class","timer-number svelte-132ntkn"),a(t,"class","timer-circle svelte-132ntkn"),a(f,"class","timer-label svelte-132ntkn"),a(e,"class","timer-display svelte-132ntkn")},m(u,v){P(u,e,v),l(e,t),l(t,n),l(n,i),l(e,c),l(e,f)},p(u,v){v&64&&r!==(r=$e(u[6].remaining)+"")&&R(i,r)},d(u){u&&L(e)}}}function Kt(s){let e,t,n,r=s[9](s[8].category)+"",i,c,f,u=s[8].category+"",v,d,p,_=s[8].question+"",h;return{c(){e=o("div"),t=o("div"),n=o("span"),i=k(r),c=b(),f=o("span"),v=k(u),d=b(),p=o("div"),h=k(_),a(n,"class","category-emoji svelte-132ntkn"),a(f,"class","category-name svelte-132ntkn"),a(t,"class","context-header svelte-132ntkn"),a(p,"class","context-question svelte-132ntkn"),a(e,"class","question-context glass svelte-132ntkn")},m(m,g){P(m,e,g),l(e,t),l(t,n),l(n,i),l(t,c),l(t,f),l(f,v),l(e,d),l(e,p),l(p,h)},p(m,g){g&256&&r!==(r=m[9](m[8].category)+"")&&R(i,r),g&256&&u!==(u=m[8].category+"")&&R(v,u),g&256&&_!==(_=m[8].question+"")&&R(h,_)},d(m){m&&L(e)}}}function bs(s){let e,t=s[3].has(s[18])?"❤️":"🤍",n,r,i;function c(){return s[12](s[18])}return{c(){e=o("button"),n=k(t),a(e,"class","like-button svelte-132ntkn"),N(e,"liked",s[3].has(s[18]))},m(f,u){P(f,e,u),l(e,n),r||(i=je(e,"click",c),r=!0)},p(f,u){s=f,u&8&&t!==(t=s[3].has(s[18])?"❤️":"🤍")&&R(n,t),u&8&&N(e,"liked",s[3].has(s[18]))},d(f){f&&L(e),r=!1,i()}}}function hs(s){let e;return{c(){e=o("div"),e.textContent="Your choice",a(e,"class","selection-badge svelte-132ntkn")},m(t,n){P(t,e,n)},p:ue,d(t){t&&L(e)}}}function Ut(s){let e,t,n,r=xe(s[18])+"",i,c,f,u,v=s[16].text+"",d,p;function _(g,y){if(g[18]===g[2])return hs;if(g[4])return bs}let h=_(s),m=h&&h(s);return{c(){e=o("div"),t=o("div"),n=o("div"),i=k(r),c=b(),m&&m.c(),f=b(),u=o("div"),d=k(v),p=b(),a(n,"class","option-letter svelte-132ntkn"),N(n,"selected",s[18]===s[2]),a(t,"class","option-header svelte-132ntkn"),a(u,"class","option-text svelte-132ntkn"),a(e,"class","option-item svelte-132ntkn"),N(e,"selected",s[18]===s[2]),N(e,"liked",s[3].has(s[18])),N(e,"can-like",s[4]&&s[18]!==s[2])},m(g,y){P(g,e,y),l(e,t),l(t,n),l(n,i),l(t,c),m&&m.m(t,null),l(e,f),l(e,u),l(u,d),l(e,p)},p(g,y){y&4&&N(n,"selected",g[18]===g[2]),h===(h=_(g))&&m?m.p(g,y):(m&&m.d(1),m=h&&h(g),m&&(m.c(),m.m(t,null))),y&128&&v!==(v=g[16].text+"")&&R(d,v),y&4&&N(e,"selected",g[18]===g[2]),y&8&&N(e,"liked",g[3].has(g[18])),y&20&&N(e,"can-like",g[4]&&g[18]!==g[2])},d(g){g&&L(e),m&&m.d()}}}function ys(s){let e,t,n,r,i,c,f,u,v,d=(s[0].round||1)+"",p,_,h=(s[0].question||1)+"",m,g,y,z,C,q,w=s[0].round===1?"1,000":s[0].round===2?"2,000":"3,000",T,j;function F(H,I){return H[1].hasSelected?ps:ms}let S=F(s),M=S(s);return{c(){e=o("div"),M.c(),t=b(),n=o("div"),r=o("div"),i=o("div"),c=o("span"),c.textContent="🎯",f=b(),u=o("span"),v=k("Round "),p=k(d),_=k(" • Question "),m=k(h),g=b(),y=o("div"),z=o("span"),z.textContent="🏆",C=b(),q=o("span"),T=k(w),j=k(" points for finding truth"),a(c,"class","context-emoji svelte-132ntkn"),a(i,"class","context-item svelte-132ntkn"),a(z,"class","context-emoji svelte-132ntkn"),a(y,"class","context-item svelte-132ntkn"),a(r,"class","context-items svelte-132ntkn"),a(n,"class","game-context svelte-132ntkn"),a(e,"class","option-select-container svelte-132ntkn")},m(H,I){P(H,e,I),M.m(e,null),l(e,t),l(e,n),l(n,r),l(r,i),l(i,c),l(i,f),l(i,u),l(u,v),l(u,p),l(u,_),l(u,m),l(r,g),l(r,y),l(y,z),l(y,C),l(y,q),l(q,T),l(q,j)},p(H,[I]){S===(S=F(H))&&M?M.p(H,I):(M.d(1),M=S(H),M&&(M.c(),M.m(e,t))),I&1&&d!==(d=(H[0].round||1)+"")&&R(p,d),I&1&&h!==(h=(H[0].question||1)+"")&&R(m,h),I&1&&w!==(w=H[0].round===1?"1,000":H[0].round===2?"2,000":"3,000")&&R(T,w)},i:ue,o:ue,d(H){H&&L(e),M.d()}}}function $e(s){return(s==null?void 0:s.toString().padStart(2,"0"))||"--"}function xe(s){return String.fromCharCode(65+s)}function ks(s,e,t){let n,r,i,c,f,{gameState:u}=e,{subStepInfo:v}=e;const d=st();let p=null,_=new Set;const h={History:"📚",Animals:"🐾",Food:"🍎",Science:"🔬",Sports:"⚽",Entertainment:"🎬",Geography:"🌍",Music:"🎵",Art:"🎨",Technology:"💻",Nature:"🌿",Space:"🚀",Movies:"🎬",TV:"📺",Games:"🎮",Literature:"📖",Mythology:"🏛️",Fashion:"👗",Language:"💬",Inventions:"💡",Comics:"💥",Tech:"⚙️",Misc:"🎲",Bonus:"⭐"};function m(q){return h[q]||"❓"}function g(q){!v.hasSelected&&v.canAct&&(t(2,p=q),d("selectOption",{index:q}))}function y(q){v.hasSelected&&q!==p&&(_.has(q)?_.delete(q):_.add(q),t(3,_=new Set(_)),d("likeLie",{index:q}))}const z=q=>y(q),C=q=>g(q);return s.$$set=q=>{"gameState"in q&&t(0,u=q.gameState),"subStepInfo"in q&&t(1,v=q.subStepInfo)},s.$$.update=()=>{s.$$.dirty&1&&t(8,n=u.currentQuestion),s.$$.dirty&1&&t(7,r=u.options||[]),s.$$.dirty&1&&t(6,i=u.timer),s.$$.dirty&2&&t(5,c=!v.hasSelected&&v.canAct),s.$$.dirty&2&&t(4,f=v.hasSelected)},[u,v,p,_,f,c,i,r,n,m,g,y,z,C]}class ws extends ze{constructor(e){super(),Re(this,e,ks,ys,Fe,{gameState:0,subStepInfo:1})}}function Xt(s,e,t){const n=s.slice();return n[17]=e[t],n}function Zt(s){let e,t,n,r=s[13](s[12].category)+"",i,c,f,u=s[12].category+"",v,d,p,_=s[12].question+"",h;return{c(){e=o("div"),t=o("div"),n=o("span"),i=k(r),c=b(),f=o("span"),v=k(u),d=b(),p=o("div"),h=k(_),a(n,"class","category-emoji svelte-vumg14"),a(f,"class","category-name svelte-vumg14"),a(t,"class","reminder-header svelte-vumg14"),a(p,"class","reminder-question svelte-vumg14"),a(e,"class","question-reminder glass slide-up svelte-vumg14")},m(m,g){P(m,e,g),l(e,t),l(t,n),l(n,i),l(t,c),l(t,f),l(f,v),l(e,d),l(e,p),l(p,h)},p(m,g){g&4096&&r!==(r=m[13](m[12].category)+"")&&R(i,r),g&4096&&u!==(u=m[12].category+"")&&R(v,u),g&4096&&_!==(_=m[12].question+"")&&R(h,_)},d(m){m&&L(e)}}}function $t(s){var z,C;let e,t,n,r,i,c,f,u,v,d,p=(((z=s[2].lieVotes)==null?void 0:z[s[3]])||0)+"",_,h,m=(((C=s[2].lieVotes)==null?void 0:C[s[3]])||0)!==1?"s":"",g,y;return{c(){e=o("div"),t=o("div"),t.innerHTML=`<span class="item-icon svelte-vumg14">🎭</span> 
              <span class="item-title svelte-vumg14">Your Lie</span>`,n=b(),r=o("div"),i=o("span"),c=k('"'),f=k(s[3]),u=k('"'),v=b(),d=o("span"),_=k(p),h=k(" player"),g=k(m),y=k(" believed it"),a(t,"class","item-header svelte-vumg14"),a(i,"class","lie-text svelte-vumg14"),a(d,"class","lie-votes svelte-vumg14"),a(r,"class","lie-display svelte-vumg14"),a(e,"class","performance-item svelte-vumg14")},m(q,w){P(q,e,w),l(e,t),l(e,n),l(e,r),l(r,i),l(i,c),l(i,f),l(i,u),l(r,v),l(r,d),l(d,_),l(d,h),l(d,g),l(d,y)},p(q,w){var T,j;w&8&&R(f,q[3]),w&12&&p!==(p=(((T=q[2].lieVotes)==null?void 0:T[q[3]])||0)+"")&&R(_,p),w&12&&m!==(m=(((j=q[2].lieVotes)==null?void 0:j[q[3]])||0)!==1?"s":"")&&R(g,m)},d(q){q&&L(e)}}}function xt(s){let e,t,n,r,i,c;return{c(){e=o("div"),t=o("span"),t.textContent="Finding truth:",n=b(),r=o("span"),i=k("+"),c=k(s[8]),a(t,"class","points-label svelte-vumg14"),a(r,"class","points-value svelte-vumg14"),a(e,"class","points-item svelte-vumg14")},m(f,u){P(f,e,u),l(e,t),l(e,n),l(e,r),l(r,i),l(r,c)},p(f,u){u&256&&R(c,f[8])},d(f){f&&L(e)}}}function el(s){let e,t,n,r,i,c;return{c(){e=o("div"),t=o("span"),t.textContent="Fooling others:",n=b(),r=o("span"),i=k("+"),c=k(s[9]),a(t,"class","points-label svelte-vumg14"),a(r,"class","points-value svelte-vumg14"),a(e,"class","points-item svelte-vumg14")},m(f,u){P(f,e,u),l(e,t),l(e,n),l(e,r),l(r,i),l(r,c)},p(f,u){u&512&&R(c,f[9])},d(f){f&&L(e)}}}function tl(s){let e;return{c(){e=o("div"),e.innerHTML=`<span class="points-label svelte-vumg14">No points this round</span> 
                <span class="points-value svelte-vumg14">0</span>`,a(e,"class","points-item no-points svelte-vumg14")},m(t,n){P(t,e,n)},d(t){t&&L(e)}}}function ll(s){var q;let e,t,n,r,i,c,f,u=et(s[4])+"",v,d,p,_=((q=s[11][s[4]])==null?void 0:q.text)+"",h,m,g;function y(w,T){var j;return((j=w[2].truthVoters)==null?void 0:j.length)>0?Cs:Ss}let z=y(s),C=z(s);return{c(){e=o("div"),t=o("div"),n=o("h2"),n.textContent="✨ The Truth Revealed",r=b(),i=o("div"),c=o("div"),f=o("span"),v=k(u),d=b(),p=o("span"),h=k(_),m=b(),g=o("div"),C.c(),a(n,"class","svelte-vumg14"),a(f,"class","truth-letter svelte-vumg14"),a(p,"class","truth-text svelte-vumg14"),a(c,"class","truth-answer svelte-vumg14"),a(g,"class","truth-voters svelte-vumg14"),a(i,"class","truth-display"),a(t,"class","truth-card svelte-vumg14"),a(e,"class","truth-section scale-in")},m(w,T){P(w,e,T),l(e,t),l(t,n),l(t,r),l(t,i),l(i,c),l(c,f),l(f,v),l(c,d),l(c,p),l(p,h),l(i,m),l(i,g),C.m(g,null)},p(w,T){var j;T&16&&u!==(u=et(w[4])+"")&&R(v,u),T&2064&&_!==(_=((j=w[11][w[4]])==null?void 0:j.text)+"")&&R(h,_),z===(z=y(w))&&C?C.p(w,T):(C.d(1),C=z(w),C&&(C.c(),C.m(g,null)))},d(w){w&&L(e),C.d()}}}function Ss(s){let e;return{c(){e=o("p"),e.textContent="😱 Nobody found the truth this round!",a(e,"class","no-voters svelte-vumg14")},m(t,n){P(t,e,n)},p:ue,d(t){t&&L(e)}}}function Cs(s){let e,t,n,r=s[2].truthVoters,i=[];for(let c=0;c<r.length;c+=1)i[c]=sl(Xt(s,r,c));return{c(){e=o("h4"),e.textContent="🎯 Players who found the truth:",t=b(),n=o("div");for(let c=0;c<i.length;c+=1)i[c].c();a(e,"class","svelte-vumg14"),a(n,"class","voters-list svelte-vumg14")},m(c,f){P(c,e,f),P(c,t,f),P(c,n,f);for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(n,null)},p(c,f){if(f&6){r=c[2].truthVoters;let u;for(u=0;u<r.length;u+=1){const v=Xt(c,r,u);i[u]?i[u].p(v,f):(i[u]=sl(v),i[u].c(),i[u].m(n,null))}for(;u<i.length;u+=1)i[u].d(1);i.length=r.length}},d(c){c&&L(e),c&&L(t),c&&L(n),Me(i,c)}}}function sl(s){let e,t,n=s[17].avatar.emoji+"",r,i,c,f=(s[17].id===s[1].id?"You":s[17].name)+"",u,v;return{c(){e=o("div"),t=o("div"),r=k(n),i=b(),c=o("span"),u=k(f),v=b(),a(t,"class","voter-avatar svelte-vumg14"),_e(t,"background",s[17].avatar.color),a(c,"class","voter-name svelte-vumg14"),a(e,"class","voter-item svelte-vumg14"),N(e,"me",s[17].id===s[1].id)},m(d,p){P(d,e,p),l(e,t),l(t,r),l(e,i),l(e,c),l(c,u),l(e,v)},p(d,p){p&4&&n!==(n=d[17].avatar.emoji+"")&&R(r,n),p&4&&_e(t,"background",d[17].avatar.color),p&6&&f!==(f=(d[17].id===d[1].id?"You":d[17].name)+"")&&R(u,f),p&6&&N(e,"me",d[17].id===d[1].id)},d(d){d&&L(e)}}}function qs(s){var gt;let e,t,n,r=s[6].icon+"",i,c,f,u=s[6].title+"",v,d,p,_=s[6].message+"",h,m,g,y,z,C,q,w,T,j,F,S,M,H=et(s[5])+"",I,O,J,Q=((gt=s[11][s[5]])==null?void 0:gt.text)+"",Y,U,E,W=s[7]?"✅ Correct!":"❌ Wrong",X,B,x,K,ne,re,le,oe,Z,ae,be,de,G,ie,V,me,fe,ee,te,ve,Le,he,ge,A,se,D=(s[1].score||0)-s[10]+"",ce,rt,Ye,Oe=s[10]>0?`+${s[10]}`:"0",nt,ct,Ne,ut,Qe=(s[1].score||0)+"",it,ft,Ve,Ae,De,Je,vt,Ee,dt,We=(s[0].round||1)+"",at,mt,Be=(s[0].question||1)+"",ot,pt,Ke,ye=s[12]&&Zt(s),ke=s[3]&&$t(s),we=s[8]>0&&xt(s),Se=s[9]>0&&el(s),qe=s[10]===0&&tl(),Ce=s[4]!==void 0&&ll(s);return{c(){e=o("div"),t=o("div"),n=o("div"),i=k(r),c=b(),f=o("h1"),v=k(u),d=b(),p=o("p"),h=k(_),m=b(),ye&&ye.c(),g=b(),y=o("div"),z=o("div"),C=o("h2"),C.textContent="📊 Your Performance",q=b(),w=o("div"),T=o("div"),j=o("div"),j.innerHTML=`<span class="item-icon svelte-vumg14">🗳️</span> 
            <span class="item-title svelte-vumg14">Your Vote</span>`,F=b(),S=o("div"),M=o("span"),I=k(H),O=b(),J=o("span"),Y=k(Q),U=b(),E=o("span"),X=k(W),B=b(),ke&&ke.c(),x=b(),K=o("div"),ne=o("div"),ne.innerHTML=`<span class="item-icon svelte-vumg14">🏆</span> 
            <span class="item-title svelte-vumg14">Points Earned</span>`,re=b(),le=o("div"),we&&we.c(),oe=b(),Se&&Se.c(),Z=b(),qe&&qe.c(),ae=b(),be=o("div"),de=o("span"),de.textContent="Total:",G=b(),ie=o("span"),V=k("+"),me=k(s[10]),fe=b(),Ce&&Ce.c(),ee=b(),te=o("div"),ve=o("div"),Le=o("h3"),Le.textContent="💰 Your Total Score",he=b(),ge=o("div"),A=o("div"),se=k("Previous: "),ce=k(D),rt=b(),Ye=o("div"),nt=k(Oe),ct=b(),Ne=o("div"),ut=k("Current: "),it=k(Qe),ft=b(),Ve=o("div"),Ae=o("div"),De=o("div"),Je=o("span"),Je.textContent="🎯",vt=b(),Ee=o("span"),dt=k("Round "),at=k(We),mt=k(" • Question "),ot=k(Be),pt=b(),Ke=o("div"),Ke.innerHTML=`<span class="progress-emoji svelte-vumg14">📈</span> 
        <span>Points multiply each round</span>`,a(n,"class","result-icon svelte-vumg14"),N(n,"success",s[6].color==="success"),N(n,"warning",s[6].color==="warning"),a(f,"class","result-title svelte-vumg14"),a(p,"class","result-message svelte-vumg14"),a(t,"class","result-header fade-in svelte-vumg14"),a(C,"class","svelte-vumg14"),a(j,"class","item-header svelte-vumg14"),a(M,"class","choice-letter svelte-vumg14"),a(J,"class","choice-text svelte-vumg14"),a(E,"class","choice-result svelte-vumg14"),a(S,"class","choice-display svelte-vumg14"),N(S,"correct",s[7]),N(S,"incorrect",!s[7]),a(T,"class","performance-item svelte-vumg14"),a(ne,"class","item-header svelte-vumg14"),a(de,"class","total-label svelte-vumg14"),a(ie,"class","total-value svelte-vumg14"),a(be,"class","points-total svelte-vumg14"),a(le,"class","points-breakdown svelte-vumg14"),a(K,"class","performance-item svelte-vumg14"),a(w,"class","performance-grid svelte-vumg14"),a(z,"class","performance-card glass svelte-vumg14"),a(y,"class","performance-section scale-in"),a(Le,"class","svelte-vumg14"),a(A,"class","score-previous svelte-vumg14"),a(Ye,"class","score-change svelte-vumg14"),a(Ne,"class","score-current svelte-vumg14"),a(ge,"class","score-display svelte-vumg14"),a(ve,"class","score-card glass svelte-vumg14"),a(te,"class","score-update slide-up"),a(Je,"class","progress-emoji svelte-vumg14"),a(De,"class","progress-item svelte-vumg14"),a(Ke,"class","progress-item svelte-vumg14"),a(Ae,"class","progress-items svelte-vumg14"),a(Ve,"class","progress-info svelte-vumg14"),a(e,"class","truth-reveal-container svelte-vumg14")},m($,pe){P($,e,pe),l(e,t),l(t,n),l(n,i),l(t,c),l(t,f),l(f,v),l(t,d),l(t,p),l(p,h),l(e,m),ye&&ye.m(e,null),l(e,g),l(e,y),l(y,z),l(z,C),l(z,q),l(z,w),l(w,T),l(T,j),l(T,F),l(T,S),l(S,M),l(M,I),l(S,O),l(S,J),l(J,Y),l(S,U),l(S,E),l(E,X),l(w,B),ke&&ke.m(w,null),l(w,x),l(w,K),l(K,ne),l(K,re),l(K,le),we&&we.m(le,null),l(le,oe),Se&&Se.m(le,null),l(le,Z),qe&&qe.m(le,null),l(le,ae),l(le,be),l(be,de),l(be,G),l(be,ie),l(ie,V),l(ie,me),l(e,fe),Ce&&Ce.m(e,null),l(e,ee),l(e,te),l(te,ve),l(ve,Le),l(ve,he),l(ve,ge),l(ge,A),l(A,se),l(A,ce),l(ge,rt),l(ge,Ye),l(Ye,nt),l(ge,ct),l(ge,Ne),l(Ne,ut),l(Ne,it),l(e,ft),l(e,Ve),l(Ve,Ae),l(Ae,De),l(De,Je),l(De,vt),l(De,Ee),l(Ee,dt),l(Ee,at),l(Ee,mt),l(Ee,ot),l(Ae,pt),l(Ae,Ke)},p($,[pe]){var _t;pe&64&&r!==(r=$[6].icon+"")&&R(i,r),pe&64&&N(n,"success",$[6].color==="success"),pe&64&&N(n,"warning",$[6].color==="warning"),pe&64&&u!==(u=$[6].title+"")&&R(v,u),pe&64&&_!==(_=$[6].message+"")&&R(h,_),$[12]?ye?ye.p($,pe):(ye=Zt($),ye.c(),ye.m(e,g)):ye&&(ye.d(1),ye=null),pe&32&&H!==(H=et($[5])+"")&&R(I,H),pe&2080&&Q!==(Q=((_t=$[11][$[5]])==null?void 0:_t.text)+"")&&R(Y,Q),pe&128&&W!==(W=$[7]?"✅ Correct!":"❌ Wrong")&&R(X,W),pe&128&&N(S,"correct",$[7]),pe&128&&N(S,"incorrect",!$[7]),$[3]?ke?ke.p($,pe):(ke=$t($),ke.c(),ke.m(w,x)):ke&&(ke.d(1),ke=null),$[8]>0?we?we.p($,pe):(we=xt($),we.c(),we.m(le,oe)):we&&(we.d(1),we=null),$[9]>0?Se?Se.p($,pe):(Se=el($),Se.c(),Se.m(le,Z)):Se&&(Se.d(1),Se=null),$[10]===0?qe||(qe=tl(),qe.c(),qe.m(le,ae)):qe&&(qe.d(1),qe=null),pe&1024&&R(me,$[10]),$[4]!==void 0?Ce?Ce.p($,pe):(Ce=ll($),Ce.c(),Ce.m(e,ee)):Ce&&(Ce.d(1),Ce=null),pe&1026&&D!==(D=($[1].score||0)-$[10]+"")&&R(ce,D),pe&1024&&Oe!==(Oe=$[10]>0?`+${$[10]}`:"0")&&R(nt,Oe),pe&2&&Qe!==(Qe=($[1].score||0)+"")&&R(it,Qe),pe&1&&We!==(We=($[0].round||1)+"")&&R(at,We),pe&1&&Be!==(Be=($[0].question||1)+"")&&R(ot,Be)},i:ue,o:ue,d($){$&&L(e),ye&&ye.d(),ke&&ke.d(),we&&we.d(),Se&&Se.d(),qe&&qe.d(),Ce&&Ce.d()}}}function et(s){return String.fromCharCode(65+s)}function js(s,e,t){let n,r,i,c,f,u,v,d,p,_,h,m,{gameState:g}=e,{myPlayerData:y}=e;const z={History:"📚",Animals:"🐾",Food:"🍎",Science:"🔬",Sports:"⚽",Entertainment:"🎬",Geography:"🌍",Music:"🎵",Art:"🎨",Technology:"💻",Nature:"🌿",Space:"🚀",Movies:"🎬",TV:"📺",Games:"🎮",Literature:"📖",Mythology:"🏛️",Fashion:"👗",Language:"💬",Inventions:"💡",Comics:"💥",Tech:"⚙️",Misc:"🎲",Bonus:"⭐"};function C(w){return z[w]||"❓"}function q(){return d&&p?{icon:"🏆",title:"Perfect Round!",message:"You found the truth AND fooled other players!",color:"success"}:d?{icon:"🎯",title:"Found the Truth!",message:"Great detective work!",color:"success"}:p?{icon:"🎭",title:"Master of Deception!",message:"Your lie fooled other players!",color:"warning"}:{icon:"😅",title:"Better Luck Next Time",message:"Keep trying - every round is a new chance!",color:"neutral"}}return s.$$set=w=>{"gameState"in w&&t(0,g=w.gameState),"myPlayerData"in w&&t(1,y=w.myPlayerData)},s.$$.update=()=>{var w,T,j,F,S,M;s.$$.dirty&1&&t(12,n=g.currentQuestion),s.$$.dirty&1&&t(11,r=g.options||[]),s.$$.dirty&1&&t(2,i=g.revealData||{}),s.$$.dirty&6&&t(5,c=(w=i.playerChoices)==null?void 0:w[y.id]),s.$$.dirty&6&&t(3,f=(T=i.playerLies)==null?void 0:T[y.id]),s.$$.dirty&4&&t(4,u=i.correctAnswerIndex),s.$$.dirty&6&&t(10,v=((j=i.pointsEarned)==null?void 0:j[y.id])||0),s.$$.dirty&48&&t(7,d=c===u),s.$$.dirty&12&&(p=f&&((F=i.lieVotes)==null?void 0:F[f])>0),s.$$.dirty&6&&t(9,_=((S=i.liePoints)==null?void 0:S[y.id])||0),s.$$.dirty&6&&t(8,h=((M=i.truthPoints)==null?void 0:M[y.id])||0)},t(6,m=q()),[g,y,i,f,u,c,m,d,h,_,v,r,n,C]}class Ts extends ze{constructor(e){super(),Re(this,e,js,qs,Fe,{gameState:0,myPlayerData:1})}}function nl(s,e,t){const n=s.slice();return n[12]=e[t],n[14]=t,n}function Ps(s){let e;return{c(){e=k("📊 Scoreboard")},m(t,n){P(t,e,n)},d(t){t&&L(e)}}}function Ls(s){let e;return{c(){e=k("🏁 Final Results")},m(t,n){P(t,e,n)},d(t){t&&L(e)}}}function Ms(s){let e,t=(s[0].round||1)+"",n,r,i=s[0].round<3?"Next round coming up":"Final round next",c;return{c(){e=k("Round "),n=k(t),r=k(" complete • "),c=k(i)},m(f,u){P(f,e,u),P(f,n,u),P(f,r,u),P(f,c,u)},p(f,u){u&1&&t!==(t=(f[0].round||1)+"")&&R(n,t),u&1&&i!==(i=f[0].round<3?"Next round coming up":"Final round next")&&R(c,i)},d(f){f&&L(e),f&&L(n),f&&L(r),f&&L(c)}}}function zs(s){let e;return{c(){e=k("Thanks for playing! Here's how everyone finished.")},m(t,n){P(t,e,n)},p:ue,d(t){t&&L(e)}}}function il(s){let e;return{c(){e=o("span"),e.textContent="👤",a(e,"class","me-badge svelte-t69xgl")},m(t,n){P(t,e,n)},d(t){t&&L(e)}}}function al(s){let e,t,n=s[12].lastLie+"",r,i;return{c(){e=o("span"),t=k('Last lie: "'),r=k(n),i=k('"'),a(e,"class","stat-item svelte-t69xgl")},m(c,f){P(c,e,f),l(e,t),l(e,r),l(e,i)},p(c,f){f&128&&n!==(n=c[12].lastLie+"")&&R(r,n)},d(c){c&&L(e)}}}function ol(s){let e;return{c(){e=o("div"),e.textContent="👑",a(e,"class","leader-crown svelte-t69xgl")},m(t,n){P(t,e,n)},d(t){t&&L(e)}}}function rl(s){let e,t,n,r=tt(s[12].rank)+"",i,c,f,u,v=s[12].avatar.emoji+"",d,p,_,h,m=(s[12].id===s[1].id?"You":s[12].name)+"",g,y,z,C,q,w=(s[12].score||0)+"",T,j,F,S,M,H,I=(s[12].score||0)+"",O,J,Q,Y=s[12].id===s[1].id&&il(),U=s[12].lastLie&&al(s),E=s[12].rank===1&&!s[2]&&ol();return{c(){e=o("div"),t=o("div"),n=o("span"),i=k(r),c=b(),f=o("div"),u=o("div"),d=k(v),p=b(),_=o("div"),h=o("div"),g=k(m),y=b(),Y&&Y.c(),z=b(),C=o("div"),q=o("span"),T=k(w),j=k(" points"),F=b(),U&&U.c(),S=b(),M=o("div"),H=o("div"),O=k(I),J=b(),E&&E.c(),Q=b(),a(n,"class","rank-position svelte-t69xgl"),_e(n,"color",lt(s[12].rank)),a(t,"class","rank-info svelte-t69xgl"),a(u,"class","player-avatar svelte-t69xgl"),_e(u,"background",s[12].avatar.color),a(h,"class","player-name svelte-t69xgl"),a(q,"class","stat-item svelte-t69xgl"),a(C,"class","player-stats svelte-t69xgl"),a(_,"class","player-details svelte-t69xgl"),a(f,"class","player-info svelte-t69xgl"),a(H,"class","score-value svelte-t69xgl"),a(M,"class","score-info svelte-t69xgl"),a(e,"class","ranking-item svelte-t69xgl"),_e(e,"animation-delay",s[14]*100+"ms"),N(e,"me",s[12].id===s[1].id),N(e,"winner",s[12].rank===1),N(e,"podium",s[12].rank<=3)},m(W,X){P(W,e,X),l(e,t),l(t,n),l(n,i),l(e,c),l(e,f),l(f,u),l(u,d),l(f,p),l(f,_),l(_,h),l(h,g),l(h,y),Y&&Y.m(h,null),l(_,z),l(_,C),l(C,q),l(q,T),l(q,j),l(C,F),U&&U.m(C,null),l(e,S),l(e,M),l(M,H),l(H,O),l(M,J),E&&E.m(M,null),l(e,Q)},p(W,X){X&128&&r!==(r=tt(W[12].rank)+"")&&R(i,r),X&128&&_e(n,"color",lt(W[12].rank)),X&128&&v!==(v=W[12].avatar.emoji+"")&&R(d,v),X&128&&_e(u,"background",W[12].avatar.color),X&130&&m!==(m=(W[12].id===W[1].id?"You":W[12].name)+"")&&R(g,m),W[12].id===W[1].id?Y||(Y=il(),Y.c(),Y.m(h,null)):Y&&(Y.d(1),Y=null),X&128&&w!==(w=(W[12].score||0)+"")&&R(T,w),W[12].lastLie?U?U.p(W,X):(U=al(W),U.c(),U.m(C,null)):U&&(U.d(1),U=null),X&128&&I!==(I=(W[12].score||0)+"")&&R(O,I),W[12].rank===1&&!W[2]?E||(E=ol(),E.c(),E.m(M,null)):E&&(E.d(1),E=null),X&130&&N(e,"me",W[12].id===W[1].id),X&128&&N(e,"winner",W[12].rank===1),X&128&&N(e,"podium",W[12].rank<=3)},d(W){W&&L(e),Y&&Y.d(),U&&U.d(),E&&E.d()}}}function cl(s){let e,t,n,r,i,c,f,u,v,d=s[0].round+1+"",p,_,h,m,g,y,z,C,q,w,T,j,F,S,M,H,I,O,J=s[6]===1?"Defend your lead!":s[6]<=3?"Climb higher!":"Make your move!",Q;return{c(){e=o("div"),t=o("div"),n=o("h3"),n.textContent="⚡ Next Round",r=b(),i=o("div"),c=o("div"),f=o("span"),f.textContent="Round",u=b(),v=o("span"),p=k(d),_=b(),h=o("div"),m=o("div"),g=o("span"),g.textContent="Fooling others:",y=b(),z=o("span"),C=k(s[4]),q=k(" pts each"),w=b(),T=o("div"),j=o("span"),j.textContent="Finding truth:",F=b(),S=o("span"),M=k(s[3]),H=k(" pts"),I=b(),O=o("p"),Q=k(J),a(n,"class","svelte-t69xgl"),a(f,"class","round-label svelte-t69xgl"),a(v,"class","round-value svelte-t69xgl"),a(c,"class","round-number svelte-t69xgl"),a(g,"class","multiplier-label svelte-t69xgl"),a(z,"class","multiplier-value svelte-t69xgl"),a(m,"class","multiplier-item svelte-t69xgl"),a(j,"class","multiplier-label svelte-t69xgl"),a(S,"class","multiplier-value svelte-t69xgl"),a(T,"class","multiplier-item svelte-t69xgl"),a(h,"class","multiplier-info svelte-t69xgl"),a(i,"class","round-details svelte-t69xgl"),a(O,"class","round-encouragement svelte-t69xgl"),a(t,"class","info-card glass svelte-t69xgl"),a(e,"class","next-round-info slide-up")},m(Y,U){P(Y,e,U),l(e,t),l(t,n),l(t,r),l(t,i),l(i,c),l(c,f),l(c,u),l(c,v),l(v,p),l(i,_),l(i,h),l(h,m),l(m,g),l(m,y),l(m,z),l(z,C),l(z,q),l(h,w),l(h,T),l(T,j),l(T,F),l(T,S),l(S,M),l(S,H),l(t,I),l(t,O),l(O,Q)},p(Y,U){U&1&&d!==(d=Y[0].round+1+"")&&R(p,d),U&16&&R(C,Y[4]),U&8&&R(M,Y[3]),U&64&&J!==(J=Y[6]===1?"Defend your lead!":Y[6]<=3?"Climb higher!":"Make your move!")&&R(Q,J)},d(Y){Y&&L(e)}}}function ul(s){var M,H;let e,t,n,r,i,c,f,u,v,d,p=(((M=s[7][0])==null?void 0:M.id)===s[1].id?"You":(H=s[7][0])==null?void 0:H.name)+"",_,h,m,g,y,z,C=s[7].length+"",q,w,T,j,F,S;return{c(){e=o("div"),t=o("div"),n=o("h3"),n.textContent="🎮 Game Summary",r=b(),i=o("div"),c=o("div"),f=o("span"),f.textContent="🏆",u=b(),v=o("span"),d=k("Winner: "),_=k(p),h=b(),m=o("div"),g=o("span"),g.textContent="👥",y=b(),z=o("span"),q=k(C),w=k(" players competed"),T=b(),j=o("div"),j.innerHTML=`<span class="summary-emoji svelte-t69xgl">🎯</span> 
            <span class="summary-text svelte-t69xgl">3 rounds completed</span>`,F=b(),S=o("p"),S.textContent="Thanks for playing Lie-Ability! 🎉",a(n,"class","svelte-t69xgl"),a(f,"class","summary-emoji svelte-t69xgl"),a(v,"class","summary-text svelte-t69xgl"),a(c,"class","summary-item svelte-t69xgl"),a(g,"class","summary-emoji svelte-t69xgl"),a(z,"class","summary-text svelte-t69xgl"),a(m,"class","summary-item svelte-t69xgl"),a(j,"class","summary-item svelte-t69xgl"),a(i,"class","summary-stats svelte-t69xgl"),a(S,"class","thank-you svelte-t69xgl"),a(t,"class","summary-card glass svelte-t69xgl"),a(e,"class","game-summary slide-up")},m(I,O){P(I,e,O),l(e,t),l(t,n),l(t,r),l(t,i),l(i,c),l(c,f),l(c,u),l(c,v),l(v,d),l(v,_),l(i,h),l(i,m),l(m,g),l(m,y),l(m,z),l(z,q),l(z,w),l(i,T),l(i,j),l(t,F),l(t,S)},p(I,O){var J,Q;O&130&&p!==(p=(((J=I[7][0])==null?void 0:J.id)===I[1].id?"You":(Q=I[7][0])==null?void 0:Q.name)+"")&&R(_,p),O&128&&C!==(C=I[7].length+"")&&R(q,C)},d(I){I&&L(e)}}}function Rs(s){let e;return{c(){e=o("div"),e.innerHTML=`<span class="context-emoji svelte-t69xgl">🎊</span> 
          <span>Game completed</span>`,a(e,"class","context-item svelte-t69xgl")},m(t,n){P(t,e,n)},p:ue,d(t){t&&L(e)}}}function Fs(s){let e,t,n,r,i,c,f,u=s[0].round+1+"",v;return{c(){e=o("div"),e.innerHTML=`<span class="context-emoji svelte-t69xgl">📈</span> 
          <span>Points multiply each round</span>`,t=b(),n=o("div"),r=o("span"),r.textContent="🎲",i=b(),c=o("span"),f=k("Get ready for round "),v=k(u),a(e,"class","context-item svelte-t69xgl"),a(r,"class","context-emoji svelte-t69xgl"),a(n,"class","context-item svelte-t69xgl")},m(d,p){P(d,e,p),P(d,t,p),P(d,n,p),l(n,r),l(n,i),l(n,c),l(c,f),l(c,v)},p(d,p){p&1&&u!==(u=d[0].round+1+"")&&R(v,u)},d(d){d&&L(e),d&&L(t),d&&L(n)}}}function Hs(s){let e,t,n,r,i,c,f,u,v,d=s[5].icon+"",p,_,h,m=s[5].text+"",g,y,z,C,q,w=tt(s[6])+"",T,j,F,S=s[6]===1?"1st":s[6]===2?"2nd":s[6]===3?"3rd":`${s[6]}th`,M,H,I,O,J,Q=(s[8].score||0)+"",Y,U,E,W,X,B,x,K,ne,re,le,oe,Z,ae;function be(A,se){return A[2]?Ls:Ps}let de=be(s),G=de(s);function ie(A,se){return A[2]?zs:Ms}let V=ie(s),me=V(s),fe=s[7],ee=[];for(let A=0;A<fe.length;A+=1)ee[A]=rl(nl(s,fe,A));let te=!s[2]&&s[0].round<3&&cl(s),ve=s[2]&&ul(s);function Le(A,se){return A[2]?Rs:Fs}let he=Le(s),ge=he(s);return{c(){e=o("div"),t=o("div"),n=o("h1"),G.c(),r=b(),i=o("p"),me.c(),c=b(),f=o("div"),u=o("div"),v=o("div"),p=k(d),_=b(),h=o("h2"),g=k(m),y=b(),z=o("div"),C=o("div"),q=o("span"),T=k(w),j=b(),F=o("span"),M=k(S),H=k(" Place"),I=b(),O=o("div"),J=o("span"),Y=k(Q),U=b(),E=o("span"),E.textContent="points",W=b(),X=o("div"),B=o("div"),x=o("h3"),x.textContent="🏆 Final Rankings",K=b(),ne=o("div");for(let A=0;A<ee.length;A+=1)ee[A].c();re=b(),te&&te.c(),le=b(),ve&&ve.c(),oe=b(),Z=o("div"),ae=o("div"),ge.c(),a(n,"class","svelte-t69xgl"),a(i,"class","svelte-t69xgl"),a(t,"class","scoreboard-header fade-in svelte-t69xgl"),a(v,"class","status-icon svelte-t69xgl"),_e(v,"color",s[5].color==="success"?"var(--success)":s[5].color==="warning"?"var(--warning)":"var(--white)"),a(h,"class","svelte-t69xgl"),a(q,"class","rank-icon svelte-t69xgl"),_e(q,"color",lt(s[6])),a(F,"class","rank-text svelte-t69xgl"),a(C,"class","rank-display svelte-t69xgl"),a(J,"class","score-number svelte-t69xgl"),a(E,"class","score-label svelte-t69xgl"),a(O,"class","score-display svelte-t69xgl"),a(z,"class","my-ranking svelte-t69xgl"),a(u,"class","status-card glass svelte-t69xgl"),N(u,"winner",s[6]===1&&s[2]),N(u,"podium",s[6]<=3),a(f,"class","my-status slide-up"),a(x,"class","svelte-t69xgl"),a(ne,"class","rankings-list svelte-t69xgl"),a(B,"class","rankings-card glass svelte-t69xgl"),a(X,"class","rankings-section scale-in"),a(ae,"class","context-items svelte-t69xgl"),a(Z,"class","game-context svelte-t69xgl"),a(e,"class","scoreboard-container svelte-t69xgl")},m(A,se){P(A,e,se),l(e,t),l(t,n),G.m(n,null),l(t,r),l(t,i),me.m(i,null),l(e,c),l(e,f),l(f,u),l(u,v),l(v,p),l(u,_),l(u,h),l(h,g),l(u,y),l(u,z),l(z,C),l(C,q),l(q,T),l(C,j),l(C,F),l(F,M),l(F,H),l(z,I),l(z,O),l(O,J),l(J,Y),l(O,U),l(O,E),l(e,W),l(e,X),l(X,B),l(B,x),l(B,K),l(B,ne);for(let D=0;D<ee.length;D+=1)ee[D]&&ee[D].m(ne,null);l(e,re),te&&te.m(e,null),l(e,le),ve&&ve.m(e,null),l(e,oe),l(e,Z),l(Z,ae),ge.m(ae,null)},p(A,[se]){if(de!==(de=be(A))&&(G.d(1),G=de(A),G&&(G.c(),G.m(n,null))),V===(V=ie(A))&&me?me.p(A,se):(me.d(1),me=V(A),me&&(me.c(),me.m(i,null))),se&32&&d!==(d=A[5].icon+"")&&R(p,d),se&32&&_e(v,"color",A[5].color==="success"?"var(--success)":A[5].color==="warning"?"var(--warning)":"var(--white)"),se&32&&m!==(m=A[5].text+"")&&R(g,m),se&64&&w!==(w=tt(A[6])+"")&&R(T,w),se&64&&_e(q,"color",lt(A[6])),se&64&&S!==(S=A[6]===1?"1st":A[6]===2?"2nd":A[6]===3?"3rd":`${A[6]}th`)&&R(M,S),se&256&&Q!==(Q=(A[8].score||0)+"")&&R(Y,Q),se&68&&N(u,"winner",A[6]===1&&A[2]),se&64&&N(u,"podium",A[6]<=3),se&134){fe=A[7];let D;for(D=0;D<fe.length;D+=1){const ce=nl(A,fe,D);ee[D]?ee[D].p(ce,se):(ee[D]=rl(ce),ee[D].c(),ee[D].m(ne,null))}for(;D<ee.length;D+=1)ee[D].d(1);ee.length=fe.length}!A[2]&&A[0].round<3?te?te.p(A,se):(te=cl(A),te.c(),te.m(e,le)):te&&(te.d(1),te=null),A[2]?ve?ve.p(A,se):(ve=ul(A),ve.c(),ve.m(e,oe)):ve&&(ve.d(1),ve=null),he===(he=Le(A))&&ge?ge.p(A,se):(ge.d(1),ge=he(A),ge&&(ge.c(),ge.m(ae,null)))},i:ue,o:ue,d(A){A&&L(e),G.d(),me.d(),Me(ee,A),te&&te.d(),ve&&ve.d(),ge.d()}}}function Is(s){const e=[];let t=1;for(let n=0;n<s.length;n++)n>0&&s[n].score!==s[n-1].score&&(t=n+1),e.push({...s[n],rank:t,position:n+1});return e}function tt(s){switch(s){case 1:return"🏆";case 2:return"🥈";case 3:return"🥉";default:return`${s}`}}function lt(s){switch(s){case 1:return"#FFD700";case 2:return"#C0C0C0";case 3:return"#CD7F32";default:return"rgba(255, 255, 255, 0.8)"}}function Gs(s,e,t){let n,r,i,c,f,u,v,d,{gameState:p}=e,{myPlayerData:_}=e,{isGameOver:h=!1}=e;function m(){return h?r===1?{icon:"🎉",text:"You won the game!",color:"success"}:r<=3?{icon:"🎊",text:`${r===2?"2nd":"3rd"} place finish!`,color:"warning"}:{icon:"👏",text:"Great effort!",color:"neutral"}:r===1?{icon:"👑",text:"You're in the lead!",color:"success"}:r<=3?{icon:"⭐",text:"You're in the top 3!",color:"warning"}:{icon:"💪",text:"Keep going strong!",color:"neutral"}}return s.$$set=g=>{"gameState"in g&&t(0,p=g.gameState),"myPlayerData"in g&&t(1,_=g.myPlayerData),"isGameOver"in g&&t(2,h=g.isGameOver)},s.$$.update=()=>{s.$$.dirty&1&&t(10,n=(p.players||[]).filter(g=>g.connected||g.score>0).sort((g,y)=>(y.score||0)-(g.score||0))),s.$$.dirty&1026&&t(6,r=n.findIndex(g=>g.id===_.id)+1),s.$$.dirty&1026&&t(8,i=n.find(g=>g.id===_.id)||_),s.$$.dirty&1024&&t(7,c=Is(n)),s.$$.dirty&1&&t(9,u=p.round<3?p.round+1:3),s.$$.dirty&512&&t(4,v=500*u),s.$$.dirty&512&&t(3,d=1e3*u)},t(5,f=m()),[p,_,h,d,v,f,r,c,i,u,n]}class _l extends ze{constructor(e){super(),Re(this,e,Gs,Hs,Fe,{gameState:0,myPlayerData:1,isGameOver:2})}}function fl(s){let e,t,n,r=s[6].avatar.emoji+"",i,c,f,u,v=s[6].name+"",d,p,_,h=(s[6].score||0)+"",m,g,y,z;return{c(){e=o("header"),t=o("div"),n=o("div"),i=k(r),c=b(),f=o("div"),u=o("div"),d=k(v),p=b(),_=o("div"),m=k(h),g=k(" points"),y=b(),z=o("div"),z.innerHTML='<div class="status-dot svelte-4nmuc1"></div>',a(n,"class","player-avatar svelte-4nmuc1"),_e(n,"background",s[6].avatar.color),a(u,"class","player-name svelte-4nmuc1"),a(_,"class","player-score svelte-4nmuc1"),a(f,"class","player-details svelte-4nmuc1"),a(t,"class","player-info svelte-4nmuc1"),a(z,"class","connection-status svelte-4nmuc1"),N(z,"connected",s[3]==="connected"),a(e,"class","player-header svelte-4nmuc1")},m(C,q){P(C,e,q),l(e,t),l(t,n),l(n,i),l(t,c),l(t,f),l(f,u),l(u,d),l(f,p),l(f,_),l(_,m),l(_,g),l(e,y),l(e,z)},p(C,q){q&64&&r!==(r=C[6].avatar.emoji+"")&&R(i,r),q&64&&_e(n,"background",C[6].avatar.color),q&64&&v!==(v=C[6].name+"")&&R(d,v),q&64&&h!==(h=(C[6].score||0)+"")&&R(m,h),q&8&&N(z,"connected",C[3]==="connected")},d(C){C&&L(e)}}}function vl(s){let e,t,n,r,i,c,f,u,v,d;return{c(){e=o("div"),t=o("div"),n=o("span"),n.textContent="⚠️",r=b(),i=o("span"),c=k(s[4]),f=b(),u=o("button"),u.textContent="×",a(n,"class","error-icon svelte-4nmuc1"),a(i,"class","error-text svelte-4nmuc1"),a(u,"class","error-close svelte-4nmuc1"),a(u,"aria-label","Close error"),a(t,"class","error-content svelte-4nmuc1"),a(e,"class","error-banner svelte-4nmuc1"),N(e,"critical",s[4].includes("Failed to connect"))},m(p,_){P(p,e,_),l(e,t),l(t,n),l(t,r),l(t,i),l(i,c),l(t,f),l(t,u),v||(d=je(u,"click",s[12]),v=!0)},p(p,_){_&16&&R(c,p[4]),_&16&&N(e,"critical",p[4].includes("Failed to connect"))},d(p){p&&L(e),v=!1,d()}}}function As(s){let e;return{c(){e=o("div"),e.innerHTML=`<div class="waiting-content svelte-4nmuc1"><div class="spinner svelte-4nmuc1"></div> 
          <h2 class="svelte-4nmuc1">Waiting for game...</h2> 
          <p class="svelte-4nmuc1">Please wait while the game loads.</p></div>`,a(e,"class","waiting-state svelte-4nmuc1")},m(t,n){P(t,e,n)},p:ue,i:ue,o:ue,d(t){t&&L(e)}}}function Ds(s){let e,t;return e=new _l({props:{gameState:s[1],myPlayerData:s[6],isGameOver:!0}}),{c(){He(e.$$.fragment)},m(n,r){Ie(e,n,r),t=!0},p(n,r){const i={};r&2&&(i.gameState=n[1]),r&64&&(i.myPlayerData=n[6]),e.$set(i)},i(n){t||(Pe(e.$$.fragment,n),t=!0)},o(n){Te(e.$$.fragment,n),t=!1},d(n){Ge(e,n)}}}function Es(s){let e,t,n,r;const i=[Bs,Ws,Js,Vs,Qs,Os],c=[];function f(u,v){return u[1].subStep==="category_selection"?0:u[1].subStep==="question_reading"?1:u[1].subStep==="lie_submission"?2:u[1].subStep==="option_selection"?3:u[1].subStep==="truth_reveal"?4:u[1].subStep==="scoreboard"?5:-1}return~(e=f(s))&&(t=c[e]=i[e](s)),{c(){t&&t.c(),n=ml()},m(u,v){~e&&c[e].m(u,v),P(u,n,v),r=!0},p(u,v){let d=e;e=f(u),e===d?~e&&c[e].p(u,v):(t&&(gl(),Te(c[d],1,1,()=>{c[d]=null}),pl()),~e?(t=c[e],t?t.p(u,v):(t=c[e]=i[e](u),t.c()),Pe(t,1),t.m(n.parentNode,n)):t=null)},i(u){r||(Pe(t),r=!0)},o(u){Te(t),r=!1},d(u){~e&&c[e].d(u),u&&L(n)}}}function Ns(s){let e,t;return e=new Vl({props:{gameState:s[1],myPlayerData:s[6]}}),{c(){He(e.$$.fragment)},m(n,r){Ie(e,n,r),t=!0},p(n,r){const i={};r&2&&(i.gameState=n[1]),r&64&&(i.myPlayerData=n[6]),e.$set(i)},i(n){t||(Pe(e.$$.fragment,n),t=!0)},o(n){Te(e.$$.fragment,n),t=!1},d(n){Ge(e,n)}}}function Ys(s){let e,t;return e=new Al({props:{connectionStatus:s[3],isReconnecting:s[5]}}),e.$on("join",s[13]),{c(){He(e.$$.fragment)},m(n,r){Ie(e,n,r),t=!0},p(n,r){const i={};r&8&&(i.connectionStatus=n[3]),r&32&&(i.isReconnecting=n[5]),e.$set(i)},i(n){t||(Pe(e.$$.fragment,n),t=!0)},o(n){Te(e.$$.fragment,n),t=!1},d(n){Ge(e,n)}}}function Os(s){let e,t;return e=new _l({props:{gameState:s[1],myPlayerData:s[6]}}),{c(){He(e.$$.fragment)},m(n,r){Ie(e,n,r),t=!0},p(n,r){const i={};r&2&&(i.gameState=n[1]),r&64&&(i.myPlayerData=n[6]),e.$set(i)},i(n){t||(Pe(e.$$.fragment,n),t=!0)},o(n){Te(e.$$.fragment,n),t=!1},d(n){Ge(e,n)}}}function Qs(s){let e,t;return e=new Ts({props:{gameState:s[1],myPlayerData:s[6]}}),{c(){He(e.$$.fragment)},m(n,r){Ie(e,n,r),t=!0},p(n,r){const i={};r&2&&(i.gameState=n[1]),r&64&&(i.myPlayerData=n[6]),e.$set(i)},i(n){t||(Pe(e.$$.fragment,n),t=!0)},o(n){Te(e.$$.fragment,n),t=!1},d(n){Ge(e,n)}}}function Vs(s){let e,t;return e=new ws({props:{gameState:s[1],subStepInfo:s[2]}}),e.$on("selectOption",s[16]),e.$on("likeLie",s[17]),{c(){He(e.$$.fragment)},m(n,r){Ie(e,n,r),t=!0},p(n,r){const i={};r&2&&(i.gameState=n[1]),r&4&&(i.subStepInfo=n[2]),e.$set(i)},i(n){t||(Pe(e.$$.fragment,n),t=!0)},o(n){Te(e.$$.fragment,n),t=!1},d(n){Ge(e,n)}}}function Js(s){let e,t;return e=new ds({props:{gameState:s[1],subStepInfo:s[2]}}),e.$on("submitLie",s[15]),{c(){He(e.$$.fragment)},m(n,r){Ie(e,n,r),t=!0},p(n,r){const i={};r&2&&(i.gameState=n[1]),r&4&&(i.subStepInfo=n[2]),e.$set(i)},i(n){t||(Pe(e.$$.fragment,n),t=!0)},o(n){Te(e.$$.fragment,n),t=!1},d(n){Ge(e,n)}}}function Ws(s){let e,t;return e=new ls({props:{gameState:s[1]}}),{c(){He(e.$$.fragment)},m(n,r){Ie(e,n,r),t=!0},p(n,r){const i={};r&2&&(i.gameState=n[1]),e.$set(i)},i(n){t||(Pe(e.$$.fragment,n),t=!0)},o(n){Te(e.$$.fragment,n),t=!1},d(n){Ge(e,n)}}}function Bs(s){let e,t;return e=new Zl({props:{gameState:s[1],subStepInfo:s[2]}}),e.$on("selectCategory",s[14]),{c(){He(e.$$.fragment)},m(n,r){Ie(e,n,r),t=!0},p(n,r){const i={};r&2&&(i.gameState=n[1]),r&4&&(i.subStepInfo=n[2]),e.$set(i)},i(n){t||(Pe(e.$$.fragment,n),t=!0)},o(n){Te(e.$$.fragment,n),t=!1},d(n){Ge(e,n)}}}function Ks(s){let e,t,n,r,i,c,f,u,v=s[0].hasJoined&&fl(s),d=s[4]&&vl(s);const p=[Ys,Ns,Es,Ds,As],_=[];function h(m,g){return m[0].hasJoined?m[1].phase==="lobby"?1:m[1].phase==="playing"?2:m[1].phase==="game_over"?3:4:0}return i=h(s),c=_[i]=p[i](s),{c(){e=o("main"),v&&v.c(),t=b(),d&&d.c(),n=b(),r=o("div"),c.c(),f=b(),a(r,"class","player-content svelte-4nmuc1"),a(e,"class","player-container svelte-4nmuc1")},m(m,g){P(m,e,g),v&&v.m(e,null),l(e,t),d&&d.m(e,null),l(e,n),l(e,r),_[i].m(r,null),l(e,f),u=!0},p(m,[g]){m[0].hasJoined?v?v.p(m,g):(v=fl(m),v.c(),v.m(e,t)):v&&(v.d(1),v=null),m[4]?d?d.p(m,g):(d=vl(m),d.c(),d.m(e,n)):d&&(d.d(1),d=null);let y=i;i=h(m),i===y?_[i].p(m,g):(gl(),Te(_[y],1,1,()=>{_[y]=null}),pl(),c=_[i],c?c.p(m,g):(c=_[i]=p[i](m),c.c()),Pe(c,1),c.m(r,null))},i(m){u||(Pe(c),u=!0)},o(m){Te(c),u=!1},d(m){m&&L(e),v&&v.d(),d&&d.d(),_[i].d()}}}function Us(s,e,t){let n,r,i={id:null,name:"",avatar:{emoji:"😊",color:"#667eea"},score:0,connected:!1,hasJoined:!1},c={phase:"lobby",round:1,question:1,subStep:"waiting",players:[],currentQuestion:null,options:[],timer:null},f={isMyTurn:!1,hasSubmitted:!1,hasSelected:!1,canAct:!1,message:""},u="connecting",v="",d=!1;bl(()=>{const S=sessionStorage.getItem("lieability_player");if(S)try{const M=JSON.parse(S);t(0,i={...i,...M}),t(5,d=!0)}catch{console.warn("Failed to parse saved player data")}r=yl(),r.on("connect",()=>{t(3,u="connected"),console.log("Player connected to server"),d&&i.id&&i.name&&h(),p()}),r.on("disconnect",()=>{t(3,u="disconnected"),console.log("Player disconnected from server")}),r.on("connect_error",M=>{t(3,u="error"),t(4,v="Failed to connect to game server"),console.error("Connection error:",M)}),r.on("player_joined_response",M=>{M.success?(t(0,i={...i,...M.player,hasJoined:!0}),t(4,v=""),sessionStorage.setItem("lieability_player",JSON.stringify({id:i.id,name:i.name,avatar:i.avatar}))):t(4,v=M.error||"Failed to join game")}),r.on("game_state_update",M=>{console.log("Game state update:",M),t(1,c={...c,...M})}),r.on("sub_step_info",M=>{console.log("Sub step info:",M),t(2,f={...f,...M})}),r.on("player_data_update",M=>{console.log("Player data update:",M),t(0,i={...i,...M})}),r.on("timer_update",M=>{t(1,c.timer=M,c)}),r.on("error",M=>{t(4,v=M.message||"An error occurred"),console.error("Socket error:",M),v.includes("Failed to connect")||setTimeout(()=>{v===(M.message||"An error occurred")&&t(4,v="")},1e4)}),r.on("player_reconnected",M=>{M.success?(t(0,i={...i,hasJoined:!0}),t(1,c={...c,...M.gameState}),t(4,v=""),t(5,d=!1)):(t(4,v="Failed to reconnect"),t(5,d=!1),sessionStorage.removeItem("lieability_player"),t(0,i.hasJoined=!1,i))})}),hl(()=>{r&&r.disconnect()});function p(){r&&r.emit("request_game_state")}function _(S,M){r&&S.trim()&&r.emit("join_game",{name:S.trim(),avatar:M})}function h(){r&&i.id&&i.name&&r.emit("join_game",{playerId:i.id,name:i.name,avatar:i.avatar})}function m(S){r&&r.emit("select_category",{categoryId:S})}function g(S){r&&S.trim()&&r.emit("submit_lie",{lie:S.trim()})}function y(S){r&&r.emit("select_option",{optionId:S})}function z(S){r&&r.emit("like_lie",{likedPlayerId:S})}function C(){t(4,v="")}const q=S=>_(S.detail.name,S.detail.avatar),w=S=>m(S.detail.index),T=S=>g(S.detail.lie),j=S=>y(S.detail.index),F=S=>z(S.detail.index);return s.$$.update=()=>{s.$$.dirty&3&&t(6,n=c.players.find(S=>S.id===i.id)||i),s.$$.dirty&2&&c.phase},[i,c,f,u,v,d,n,_,m,g,y,z,C,q,w,T,j,F]}class Xs extends ze{constructor(e){super(),Re(this,e,Us,Ks,Fe,{})}}new Xs({target:document.getElementById("app")});
