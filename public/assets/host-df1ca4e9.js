import{S as he,i as me,s as pe,e as d,a as C,t as E,b as f,c as Ce,d as $,f as r,l as Sn,g as I,n as ne,h as G,j as re,k as x,m as Tn,o as kt,p as on,q as ae,r as Bn,u as ce,v as An,w as Mn,x as Rn,y as _e,z as be,A as ye,B as Ln}from"./index-1f04db52.js";var Ee={},Nn=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},an={},se={};let ct;const In=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];se.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};se.getSymbolTotalCodewords=function(e){return In[e]};se.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};se.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');ct=e};se.isKanjiModeEnabled=function(){return typeof ct<"u"};se.toSJIS=function(e){return ct(e)};var Je={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(l){if(typeof l!="string")throw new Error("Param is not a string");switch(l.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+l)}}t.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},t.from=function(n,i){if(t.isValid(n))return n;try{return e(n)}catch{return i}}})(Je);function cn(){this.buffer=[],this.length=0}cn.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let l=0;l<e;l++)this.putBit((t>>>e-l-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var Pn=cn;function Re(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}Re.prototype.set=function(t,e,l,n){const i=t*this.size+e;this.data[i]=l,n&&(this.reservedBit[i]=!0)};Re.prototype.get=function(t,e){return this.data[t*this.size+e]};Re.prototype.xor=function(t,e,l){this.data[t*this.size+e]^=l};Re.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var zn=Re,un={};(function(t){const e=se.getSymbolSize;t.getRowColCoords=function(n){if(n===1)return[];const i=Math.floor(n/7)+2,s=e(n),o=s===145?26:Math.ceil((s-13)/(2*i-2))*2,a=[s-7];for(let c=1;c<i-1;c++)a[c]=a[c-1]-o;return a.push(6),a.reverse()},t.getPositions=function(n){const i=[],s=t.getRowColCoords(n),o=s.length;for(let a=0;a<o;a++)for(let c=0;c<o;c++)a===0&&c===0||a===0&&c===o-1||a===o-1&&c===0||i.push([s[a],s[c]]);return i}})(un);var fn={};const jn=se.getSymbolSize,St=7;fn.getPositions=function(e){const l=jn(e);return[[0,0],[l-St,0],[0,l-St]]};var dn={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const s=i.size;let o=0,a=0,c=0,u=null,v=null;for(let m=0;m<s;m++){a=c=0,u=v=null;for(let _=0;_<s;_++){let h=i.get(m,_);h===u?a++:(a>=5&&(o+=e.N1+(a-5)),u=h,a=1),h=i.get(_,m),h===v?c++:(c>=5&&(o+=e.N1+(c-5)),v=h,c=1)}a>=5&&(o+=e.N1+(a-5)),c>=5&&(o+=e.N1+(c-5))}return o},t.getPenaltyN2=function(i){const s=i.size;let o=0;for(let a=0;a<s-1;a++)for(let c=0;c<s-1;c++){const u=i.get(a,c)+i.get(a,c+1)+i.get(a+1,c)+i.get(a+1,c+1);(u===4||u===0)&&o++}return o*e.N2},t.getPenaltyN3=function(i){const s=i.size;let o=0,a=0,c=0;for(let u=0;u<s;u++){a=c=0;for(let v=0;v<s;v++)a=a<<1&2047|i.get(u,v),v>=10&&(a===1488||a===93)&&o++,c=c<<1&2047|i.get(v,u),v>=10&&(c===1488||c===93)&&o++}return o*e.N3},t.getPenaltyN4=function(i){let s=0;const o=i.data.length;for(let c=0;c<o;c++)s+=i.data[c];return Math.abs(Math.ceil(s*100/o/5)-10)*e.N4};function l(n,i,s){switch(n){case t.Patterns.PATTERN000:return(i+s)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return s%3===0;case t.Patterns.PATTERN011:return(i+s)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case t.Patterns.PATTERN101:return i*s%2+i*s%3===0;case t.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case t.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}t.applyMask=function(i,s){const o=s.size;for(let a=0;a<o;a++)for(let c=0;c<o;c++)s.isReserved(c,a)||s.xor(c,a,l(i,c,a))},t.getBestMask=function(i,s){const o=Object.keys(t.Patterns).length;let a=0,c=1/0;for(let u=0;u<o;u++){s(u),t.applyMask(u,i);const v=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(u,i),v<c&&(c=v,a=u)}return a}})(dn);var Ye={};const de=Je,Qe=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],$e=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Ye.getBlocksCount=function(e,l){switch(l){case de.L:return Qe[(e-1)*4+0];case de.M:return Qe[(e-1)*4+1];case de.Q:return Qe[(e-1)*4+2];case de.H:return Qe[(e-1)*4+3];default:return}};Ye.getTotalCodewordsCount=function(e,l){switch(l){case de.L:return $e[(e-1)*4+0];case de.M:return $e[(e-1)*4+1];case de.Q:return $e[(e-1)*4+2];case de.H:return $e[(e-1)*4+3];default:return}};var vn={},Oe={};const Ae=new Uint8Array(512),Ge=new Uint8Array(256);(function(){let e=1;for(let l=0;l<255;l++)Ae[l]=e,Ge[e]=l,e<<=1,e&256&&(e^=285);for(let l=255;l<512;l++)Ae[l]=Ae[l-255]})();Oe.log=function(e){if(e<1)throw new Error("log("+e+")");return Ge[e]};Oe.exp=function(e){return Ae[e]};Oe.mul=function(e,l){return e===0||l===0?0:Ae[Ge[e]+Ge[l]]};(function(t){const e=Oe;t.mul=function(n,i){const s=new Uint8Array(n.length+i.length-1);for(let o=0;o<n.length;o++)for(let a=0;a<i.length;a++)s[o+a]^=e.mul(n[o],i[a]);return s},t.mod=function(n,i){let s=new Uint8Array(n);for(;s.length-i.length>=0;){const o=s[0];for(let c=0;c<i.length;c++)s[c]^=e.mul(i[c],o);let a=0;for(;a<s.length&&s[a]===0;)a++;s=s.slice(a)}return s},t.generateECPolynomial=function(n){let i=new Uint8Array([1]);for(let s=0;s<n;s++)i=t.mul(i,new Uint8Array([1,e.exp(s)]));return i}})(vn);const gn=vn;function ut(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}ut.prototype.initialize=function(e){this.degree=e,this.genPoly=gn.generateECPolynomial(this.degree)};ut.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const l=new Uint8Array(e.length+this.degree);l.set(e);const n=gn.mod(l,this.genPoly),i=this.degree-n.length;if(i>0){const s=new Uint8Array(this.degree);return s.set(n,i),s}return n};var qn=ut,hn={},ve={},ft={};ft.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var oe={};const mn="[0-9]+",Un="[A-Z $%*+\\-./:]+";let Me="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Me=Me.replace(/u/g,"\\u");const Dn="(?:(?![A-Z0-9 $%*+\\-./:]|"+Me+`)(?:.|[\r
]))+`;oe.KANJI=new RegExp(Me,"g");oe.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");oe.BYTE=new RegExp(Dn,"g");oe.NUMERIC=new RegExp(mn,"g");oe.ALPHANUMERIC=new RegExp(Un,"g");const Fn=new RegExp("^"+Me+"$"),Hn=new RegExp("^"+mn+"$"),Vn=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");oe.testKanji=function(e){return Fn.test(e)};oe.testNumeric=function(e){return Hn.test(e)};oe.testAlphanumeric=function(e){return Vn.test(e)};(function(t){const e=ft,l=oe;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(s,o){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?s.ccBits[0]:o<27?s.ccBits[1]:s.ccBits[2]},t.getBestModeForData=function(s){return l.testNumeric(s)?t.NUMERIC:l.testAlphanumeric(s)?t.ALPHANUMERIC:l.testKanji(s)?t.KANJI:t.BYTE},t.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},t.isValid=function(s){return s&&s.bit&&s.ccBits};function n(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(s,o){if(t.isValid(s))return s;try{return n(s)}catch{return o}}})(ve);(function(t){const e=se,l=Ye,n=Je,i=ve,s=ft,o=7973,a=e.getBCHDigit(o);function c(_,h,b){for(let g=1;g<=40;g++)if(h<=t.getCapacity(g,b,_))return g}function u(_,h){return i.getCharCountIndicator(_,h)+4}function v(_,h){let b=0;return _.forEach(function(g){const T=u(g.mode,h);b+=T+g.getBitsLength()}),b}function m(_,h){for(let b=1;b<=40;b++)if(v(_,b)<=t.getCapacity(b,h,i.MIXED))return b}t.from=function(h,b){return s.isValid(h)?parseInt(h,10):b},t.getCapacity=function(h,b,g){if(!s.isValid(h))throw new Error("Invalid QR Code version");typeof g>"u"&&(g=i.BYTE);const T=e.getSymbolTotalCodewords(h),y=l.getTotalCodewordsCount(h,b),p=(T-y)*8;if(g===i.MIXED)return p;const w=p-u(g,h);switch(g){case i.NUMERIC:return Math.floor(w/10*3);case i.ALPHANUMERIC:return Math.floor(w/11*2);case i.KANJI:return Math.floor(w/13);case i.BYTE:default:return Math.floor(w/8)}},t.getBestVersionForData=function(h,b){let g;const T=n.from(b,n.M);if(Array.isArray(h)){if(h.length>1)return m(h,T);if(h.length===0)return 1;g=h[0]}else g=h;return c(g.mode,g.getLength(),T)},t.getEncodedBits=function(h){if(!s.isValid(h)||h<7)throw new Error("Invalid QR Code version");let b=h<<12;for(;e.getBCHDigit(b)-a>=0;)b^=o<<e.getBCHDigit(b)-a;return h<<12|b}})(hn);var pn={};const it=se,_n=1335,Qn=21522,Tt=it.getBCHDigit(_n);pn.getEncodedBits=function(e,l){const n=e.bit<<3|l;let i=n<<10;for(;it.getBCHDigit(i)-Tt>=0;)i^=_n<<it.getBCHDigit(i)-Tt;return(n<<10|i)^Qn};var bn={};const $n=ve;function ke(t){this.mode=$n.NUMERIC,this.data=t.toString()}ke.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};ke.prototype.getLength=function(){return this.data.length};ke.prototype.getBitsLength=function(){return ke.getBitsLength(this.data.length)};ke.prototype.write=function(e){let l,n,i;for(l=0;l+3<=this.data.length;l+=3)n=this.data.substr(l,3),i=parseInt(n,10),e.put(i,10);const s=this.data.length-l;s>0&&(n=this.data.substr(l),i=parseInt(n,10),e.put(i,s*3+1))};var Gn=ke;const Kn=ve,et=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Se(t){this.mode=Kn.ALPHANUMERIC,this.data=t}Se.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};Se.prototype.getLength=function(){return this.data.length};Se.prototype.getBitsLength=function(){return Se.getBitsLength(this.data.length)};Se.prototype.write=function(e){let l;for(l=0;l+2<=this.data.length;l+=2){let n=et.indexOf(this.data[l])*45;n+=et.indexOf(this.data[l+1]),e.put(n,11)}this.data.length%2&&e.put(et.indexOf(this.data[l]),6)};var Jn=Se;const Yn=ve;function Te(t){this.mode=Yn.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}Te.getBitsLength=function(e){return e*8};Te.prototype.getLength=function(){return this.data.length};Te.prototype.getBitsLength=function(){return Te.getBitsLength(this.data.length)};Te.prototype.write=function(t){for(let e=0,l=this.data.length;e<l;e++)t.put(this.data[e],8)};var On=Te;const Wn=ve,Zn=se;function Be(t){this.mode=Wn.KANJI,this.data=t}Be.getBitsLength=function(e){return e*13};Be.prototype.getLength=function(){return this.data.length};Be.prototype.getBitsLength=function(){return Be.getBitsLength(this.data.length)};Be.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let l=Zn.toSJIS(this.data[e]);if(l>=33088&&l<=40956)l-=33088;else if(l>=57408&&l<=60351)l-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);l=(l>>>8&255)*192+(l&255),t.put(l,13)}};var Xn=Be,yn={exports:{}};(function(t){var e={single_source_shortest_paths:function(l,n,i){var s={},o={};o[n]=0;var a=e.PriorityQueue.make();a.push(n,0);for(var c,u,v,m,_,h,b,g,T;!a.empty();){c=a.pop(),u=c.value,m=c.cost,_=l[u]||{};for(v in _)_.hasOwnProperty(v)&&(h=_[v],b=m+h,g=o[v],T=typeof o[v]>"u",(T||g>b)&&(o[v]=b,a.push(v,b),s[v]=u))}if(typeof i<"u"&&typeof o[i]>"u"){var y=["Could not find a path from ",n," to ",i,"."].join("");throw new Error(y)}return s},extract_shortest_path_from_predecessor_list:function(l,n){for(var i=[],s=n;s;)i.push(s),l[s],s=l[s];return i.reverse(),i},find_path:function(l,n,i){var s=e.single_source_shortest_paths(l,n,i);return e.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(l){var n=e.PriorityQueue,i={},s;l=l||{};for(s in n)n.hasOwnProperty(s)&&(i[s]=n[s]);return i.queue=[],i.sorter=l.sorter||n.default_sorter,i},default_sorter:function(l,n){return l.cost-n.cost},push:function(l,n){var i={value:l,cost:n};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(yn);var xn=yn.exports;(function(t){const e=ve,l=Gn,n=Jn,i=On,s=Xn,o=oe,a=se,c=xn;function u(y){return unescape(encodeURIComponent(y)).length}function v(y,p,w){const S=[];let A;for(;(A=y.exec(w))!==null;)S.push({data:A[0],index:A.index,mode:p,length:A[0].length});return S}function m(y){const p=v(o.NUMERIC,e.NUMERIC,y),w=v(o.ALPHANUMERIC,e.ALPHANUMERIC,y);let S,A;return a.isKanjiModeEnabled()?(S=v(o.BYTE,e.BYTE,y),A=v(o.KANJI,e.KANJI,y)):(S=v(o.BYTE_KANJI,e.BYTE,y),A=[]),p.concat(w,S,A).sort(function(P,z){return P.index-z.index}).map(function(P){return{data:P.data,mode:P.mode,length:P.length}})}function _(y,p){switch(p){case e.NUMERIC:return l.getBitsLength(y);case e.ALPHANUMERIC:return n.getBitsLength(y);case e.KANJI:return s.getBitsLength(y);case e.BYTE:return i.getBitsLength(y)}}function h(y){return y.reduce(function(p,w){const S=p.length-1>=0?p[p.length-1]:null;return S&&S.mode===w.mode?(p[p.length-1].data+=w.data,p):(p.push(w),p)},[])}function b(y){const p=[];for(let w=0;w<y.length;w++){const S=y[w];switch(S.mode){case e.NUMERIC:p.push([S,{data:S.data,mode:e.ALPHANUMERIC,length:S.length},{data:S.data,mode:e.BYTE,length:S.length}]);break;case e.ALPHANUMERIC:p.push([S,{data:S.data,mode:e.BYTE,length:S.length}]);break;case e.KANJI:p.push([S,{data:S.data,mode:e.BYTE,length:u(S.data)}]);break;case e.BYTE:p.push([{data:S.data,mode:e.BYTE,length:u(S.data)}])}}return p}function g(y,p){const w={},S={start:{}};let A=["start"];for(let N=0;N<y.length;N++){const P=y[N],z=[];for(let Q=0;Q<P.length;Q++){const j=P[Q],L=""+N+Q;z.push(L),w[L]={node:j,lastCount:0},S[L]={};for(let M=0;M<A.length;M++){const k=A[M];w[k]&&w[k].node.mode===j.mode?(S[k][L]=_(w[k].lastCount+j.length,j.mode)-_(w[k].lastCount,j.mode),w[k].lastCount+=j.length):(w[k]&&(w[k].lastCount=j.length),S[k][L]=_(j.length,j.mode)+4+e.getCharCountIndicator(j.mode,p))}}A=z}for(let N=0;N<A.length;N++)S[A[N]].end=0;return{map:S,table:w}}function T(y,p){let w;const S=e.getBestModeForData(y);if(w=e.from(p,S),w!==e.BYTE&&w.bit<S.bit)throw new Error('"'+y+'" cannot be encoded with mode '+e.toString(w)+`.
 Suggested mode is: `+e.toString(S));switch(w===e.KANJI&&!a.isKanjiModeEnabled()&&(w=e.BYTE),w){case e.NUMERIC:return new l(y);case e.ALPHANUMERIC:return new n(y);case e.KANJI:return new s(y);case e.BYTE:return new i(y)}}t.fromArray=function(p){return p.reduce(function(w,S){return typeof S=="string"?w.push(T(S,null)):S.data&&w.push(T(S.data,S.mode)),w},[])},t.fromString=function(p,w){const S=m(p,a.isKanjiModeEnabled()),A=b(S),N=g(A,w),P=c.find_path(N.map,"start","end"),z=[];for(let Q=1;Q<P.length-1;Q++)z.push(N.table[P[Q]].node);return t.fromArray(h(z))},t.rawSplit=function(p){return t.fromArray(m(p,a.isKanjiModeEnabled()))}})(bn);const We=se,tt=Je,el=Pn,tl=zn,nl=un,ll=fn,rt=dn,ot=Ye,sl=qn,Ke=hn,il=pn,rl=ve,nt=bn;function ol(t,e){const l=t.size,n=ll.getPositions(e);for(let i=0;i<n.length;i++){const s=n[i][0],o=n[i][1];for(let a=-1;a<=7;a++)if(!(s+a<=-1||l<=s+a))for(let c=-1;c<=7;c++)o+c<=-1||l<=o+c||(a>=0&&a<=6&&(c===0||c===6)||c>=0&&c<=6&&(a===0||a===6)||a>=2&&a<=4&&c>=2&&c<=4?t.set(s+a,o+c,!0,!0):t.set(s+a,o+c,!1,!0))}}function al(t){const e=t.size;for(let l=8;l<e-8;l++){const n=l%2===0;t.set(l,6,n,!0),t.set(6,l,n,!0)}}function cl(t,e){const l=nl.getPositions(e);for(let n=0;n<l.length;n++){const i=l[n][0],s=l[n][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?t.set(i+o,s+a,!0,!0):t.set(i+o,s+a,!1,!0)}}function ul(t,e){const l=t.size,n=Ke.getEncodedBits(e);let i,s,o;for(let a=0;a<18;a++)i=Math.floor(a/3),s=a%3+l-8-3,o=(n>>a&1)===1,t.set(i,s,o,!0),t.set(s,i,o,!0)}function lt(t,e,l){const n=t.size,i=il.getEncodedBits(e,l);let s,o;for(s=0;s<15;s++)o=(i>>s&1)===1,s<6?t.set(s,8,o,!0):s<8?t.set(s+1,8,o,!0):t.set(n-15+s,8,o,!0),s<8?t.set(8,n-s-1,o,!0):s<9?t.set(8,15-s-1+1,o,!0):t.set(8,15-s-1,o,!0);t.set(n-8,8,1,!0)}function fl(t,e){const l=t.size;let n=-1,i=l-1,s=7,o=0;for(let a=l-1;a>0;a-=2)for(a===6&&a--;;){for(let c=0;c<2;c++)if(!t.isReserved(i,a-c)){let u=!1;o<e.length&&(u=(e[o]>>>s&1)===1),t.set(i,a-c,u),s--,s===-1&&(o++,s=7)}if(i+=n,i<0||l<=i){i-=n,n=-n;break}}}function dl(t,e,l){const n=new el;l.forEach(function(c){n.put(c.mode.bit,4),n.put(c.getLength(),rl.getCharCountIndicator(c.mode,t)),c.write(n)});const i=We.getSymbolTotalCodewords(t),s=ot.getTotalCodewordsCount(t,e),o=(i-s)*8;for(n.getLengthInBits()+4<=o&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);const a=(o-n.getLengthInBits())/8;for(let c=0;c<a;c++)n.put(c%2?17:236,8);return vl(n,t,e)}function vl(t,e,l){const n=We.getSymbolTotalCodewords(e),i=ot.getTotalCodewordsCount(e,l),s=n-i,o=ot.getBlocksCount(e,l),a=n%o,c=o-a,u=Math.floor(n/o),v=Math.floor(s/o),m=v+1,_=u-v,h=new sl(_);let b=0;const g=new Array(o),T=new Array(o);let y=0;const p=new Uint8Array(t.buffer);for(let P=0;P<o;P++){const z=P<c?v:m;g[P]=p.slice(b,b+z),T[P]=h.encode(g[P]),b+=z,y=Math.max(y,z)}const w=new Uint8Array(n);let S=0,A,N;for(A=0;A<y;A++)for(N=0;N<o;N++)A<g[N].length&&(w[S++]=g[N][A]);for(A=0;A<_;A++)for(N=0;N<o;N++)w[S++]=T[N][A];return w}function gl(t,e,l,n){let i;if(Array.isArray(t))i=nt.fromArray(t);else if(typeof t=="string"){let u=e;if(!u){const v=nt.rawSplit(t);u=Ke.getBestVersionForData(v,l)}i=nt.fromString(t,u||40)}else throw new Error("Invalid data");const s=Ke.getBestVersionForData(i,l);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=s;else if(e<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);const o=dl(e,l,i),a=We.getSymbolSize(e),c=new tl(a);return ol(c,e),al(c),cl(c,e),lt(c,l,0),e>=7&&ul(c,e),fl(c,o),isNaN(n)&&(n=rt.getBestMask(c,lt.bind(null,c,l))),rt.applyMask(n,c),lt(c,l,n),{modules:c,version:e,errorCorrectionLevel:l,maskPattern:n,segments:i}}an.create=function(e,l){if(typeof e>"u"||e==="")throw new Error("No input text");let n=tt.M,i,s;return typeof l<"u"&&(n=tt.from(l.errorCorrectionLevel,tt.M),i=Ke.from(l.version),s=rt.from(l.maskPattern),l.toSJISFunc&&We.setToSJISFunction(l.toSJISFunc)),gl(e,i,n,s)};var wn={},dt={};(function(t){function e(l){if(typeof l=="number"&&(l=l.toString()),typeof l!="string")throw new Error("Color should be defined as hex string");let n=l.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+l);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(s){return[s,s]}))),n.length===6&&n.push("F","F");const i=parseInt(n.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+n.slice(0,6).join("")}}t.getOptions=function(n){n||(n={}),n.color||(n.color={});const i=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,s=n.width&&n.width>=21?n.width:void 0,o=n.scale||4;return{width:s,scale:s?4:o,margin:i,color:{dark:e(n.color.dark||"#000000ff"),light:e(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},t.getScale=function(n,i){return i.width&&i.width>=n+i.margin*2?i.width/(n+i.margin*2):i.scale},t.getImageWidth=function(n,i){const s=t.getScale(n,i);return Math.floor((n+i.margin*2)*s)},t.qrToImageData=function(n,i,s){const o=i.modules.size,a=i.modules.data,c=t.getScale(o,s),u=Math.floor((o+s.margin*2)*c),v=s.margin*c,m=[s.color.light,s.color.dark];for(let _=0;_<u;_++)for(let h=0;h<u;h++){let b=(_*u+h)*4,g=s.color.light;if(_>=v&&h>=v&&_<u-v&&h<u-v){const T=Math.floor((_-v)/c),y=Math.floor((h-v)/c);g=m[a[T*o+y]?1:0]}n[b++]=g.r,n[b++]=g.g,n[b++]=g.b,n[b]=g.a}}})(dt);(function(t){const e=dt;function l(i,s,o){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(s,o,a){let c=a,u=o;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),o||(u=n()),c=e.getOptions(c);const v=e.getImageWidth(s.modules.size,c),m=u.getContext("2d"),_=m.createImageData(v,v);return e.qrToImageData(_.data,s,c),l(m,u,v),m.putImageData(_,0,0),u},t.renderToDataURL=function(s,o,a){let c=a;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),c||(c={});const u=t.render(s,o,c),v=c.type||"image/png",m=c.rendererOpts||{};return u.toDataURL(v,m.quality)}})(wn);var Cn={};const hl=dt;function Bt(t,e){const l=t.a/255,n=e+'="'+t.hex+'"';return l<1?n+" "+e+'-opacity="'+l.toFixed(2).slice(1)+'"':n}function st(t,e,l){let n=t+e;return typeof l<"u"&&(n+=" "+l),n}function ml(t,e,l){let n="",i=0,s=!1,o=0;for(let a=0;a<t.length;a++){const c=Math.floor(a%e),u=Math.floor(a/e);!c&&!s&&(s=!0),t[a]?(o++,a>0&&c>0&&t[a-1]||(n+=s?st("M",c+l,.5+u+l):st("m",i,0),i=0,s=!1),c+1<e&&t[a+1]||(n+=st("h",o),o=0)):i++}return n}Cn.render=function(e,l,n){const i=hl.getOptions(l),s=e.modules.size,o=e.modules.data,a=s+i.margin*2,c=i.color.light.a?"<path "+Bt(i.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",u="<path "+Bt(i.color.dark,"stroke")+' d="'+ml(o,s,i.margin)+'"/>',v='viewBox="0 0 '+a+" "+a+'"',_='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+v+' shape-rendering="crispEdges">'+c+u+`</svg>
`;return typeof n=="function"&&n(null,_),_};const pl=Nn,at=an,En=wn,_l=Cn;function vt(t,e,l,n,i){const s=[].slice.call(arguments,1),o=s.length,a=typeof s[o-1]=="function";if(!a&&!pl())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(i=l,l=e,e=n=void 0):o===3&&(e.getContext&&typeof i>"u"?(i=n,n=void 0):(i=n,n=l,l=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(l=e,e=n=void 0):o===2&&!e.getContext&&(n=l,l=e,e=void 0),new Promise(function(c,u){try{const v=at.create(l,n);c(t(v,e,n))}catch(v){u(v)}})}try{const c=at.create(l,n);i(null,t(c,e,n))}catch(c){i(c)}}Ee.create=at.create;Ee.toCanvas=vt.bind(null,En.render);Ee.toDataURL=vt.bind(null,En.renderToDataURL);Ee.toString=vt.bind(null,function(t,e,l){return _l.render(t,l)});function At(t,e,l){const n=t.slice();return n[5]=e[l],n[7]=l,n}function bl(t){let e;return{c(){e=d("div"),e.innerHTML=`<div class="loading-spinner svelte-7sqwyt"></div> 
            <p>Generating QR Code...</p>`,f(e,"class","qr-placeholder svelte-7sqwyt")},m(l,n){$(l,e,n)},p:ne,d(l){l&&G(e)}}}function yl(t){let e,l;return{c(){e=d("img"),kt(e.src,l=t[1])||f(e,"src",l),f(e,"alt","QR Code to join game"),f(e,"class","qr-code svelte-7sqwyt")},m(n,i){$(n,e,i)},p(n,i){i&2&&!kt(e.src,l=n[1])&&f(e,"src",l)},d(n){n&&G(e)}}}function Mt(t){let e;return{c(){e=d("span"),e.textContent="Minimum 2 players needed",f(e,"class","min-players svelte-7sqwyt")},m(l,n){$(l,e,n)},d(l){l&&G(e)}}}function Rt(t){let e,l,n,i=t[5].avatar.emoji+"",s,o,a,c,u=t[5].name+"",v,m,_;return{c(){e=d("div"),l=d("div"),n=d("span"),s=E(i),o=C(),a=d("div"),c=d("span"),v=E(u),m=C(),_=d("span"),_.textContent="Ready",f(n,"class","player-emoji svelte-7sqwyt"),f(l,"class","player-avatar svelte-7sqwyt"),x(l,"background-color",t[5].avatar.color),f(c,"class","player-name svelte-7sqwyt"),f(_,"class","player-status svelte-7sqwyt"),f(a,"class","player-details svelte-7sqwyt"),f(e,"class","player-card svelte-7sqwyt"),x(e,"animation-delay",t[7]*.1+"s")},m(h,b){$(h,e,b),r(e,l),r(l,n),r(n,s),r(e,o),r(e,a),r(a,c),r(c,v),r(a,m),r(a,_)},p(h,b){b&1&&i!==(i=h[5].avatar.emoji+"")&&I(s,i),b&1&&x(l,"background-color",h[5].avatar.color),b&1&&u!==(u=h[5].name+"")&&I(v,u)},d(h){h&&G(e)}}}function Lt(t){let e;return{c(){e=d("div"),e.innerHTML=`<div class="empty-icon svelte-7sqwyt">👥</div> 
          <p class="svelte-7sqwyt">Waiting for players to join...</p> 
          <p class="empty-hint svelte-7sqwyt">Share the QR code or URL!</p>`,f(e,"class","empty-state svelte-7sqwyt")},m(l,n){$(l,e,n)},d(l){l&&G(e)}}}function wl(t){let e,l;return{c(){e=d("span"),e.textContent="🚀",l=E(`
        Start Game`),f(e,"class","button-icon svelte-7sqwyt")},m(n,i){$(n,e,i),$(n,l,i)},d(n){n&&G(e),n&&G(l)}}}function Cl(t){let e,l;return{c(){e=d("span"),e.textContent="⏳",l=E(`
        Waiting for Players`),f(e,"class","button-icon svelte-7sqwyt")},m(n,i){$(n,e,i),$(n,l,i)},d(n){n&&G(e),n&&G(l)}}}function El(t){let e;return{c(){e=d("p"),e.textContent="Need at least 2 players to start",f(e,"class","start-hint svelte-7sqwyt")},m(l,n){$(l,e,n)},d(l){l&&G(e)}}}function kl(t){let e;return{c(){e=d("p"),e.textContent="Ready to begin? Let the lies commence! 🎭",f(e,"class","start-hint svelte-7sqwyt")},m(l,n){$(l,e,n)},d(l){l&&G(e)}}}function Sl(t){let e,l,n,i,s,o,a,c,u,v,m,_,h,b,g,T=t[0].players.length+"",y,p,w,S,A,N,P,z,Q,j,L,M;function k(H,W){return H[1]?yl:bl}let U=k(t),D=U(t),q=t[0].players.length<2&&Mt(),V=t[0].players,R=[];for(let H=0;H<V.length;H+=1)R[H]=Rt(At(t,V,H));let B=t[0].players.length===0&&Lt();function K(H,W){return H[4]?wl:Cl}let J=K(t),Y=J(t);function F(H,W){return H[4]?kl:El}let O=F(t),ee=O(t);return{c(){e=d("div"),l=d("div"),l.innerHTML=`<h2 class="welcome-title svelte-7sqwyt">Welcome to Lie-Ability!</h2> 
    <p class="welcome-subtitle svelte-7sqwyt">A party game where creativity meets deception. 
      Create convincing lies and spot the truth!</p>`,n=C(),i=d("div"),s=d("div"),o=d("div"),a=d("h3"),a.textContent="Scan to Join",c=C(),D.c(),u=C(),v=d("p"),m=E(t[2]),_=C(),h=d("div"),b=d("h3"),g=E("Players ("),y=E(T),p=E(`)
      `),q&&q.c(),w=C(),S=d("div");for(let H=0;H<R.length;H+=1)R[H].c();A=C(),B&&B.c(),N=C(),P=d("div"),z=d("button"),Y.c(),j=C(),ee.c(),f(l,"class","welcome-section svelte-7sqwyt"),f(a,"class","svelte-7sqwyt"),f(v,"class","join-url svelte-7sqwyt"),f(o,"class","qr-card svelte-7sqwyt"),f(s,"class","qr-container svelte-7sqwyt"),f(i,"class","join-section svelte-7sqwyt"),f(b,"class","players-title svelte-7sqwyt"),f(S,"class","players-grid svelte-7sqwyt"),f(h,"class","players-section svelte-7sqwyt"),f(z,"class","start-button svelte-7sqwyt"),z.disabled=Q=!t[4],Ce(z,"disabled",!t[4]),f(P,"class","start-section svelte-7sqwyt"),f(e,"class","lobby-container svelte-7sqwyt")},m(H,W){$(H,e,W),r(e,l),r(e,n),r(e,i),r(i,s),r(s,o),r(o,a),r(o,c),D.m(o,null),r(o,u),r(o,v),r(v,m),r(e,_),r(e,h),r(h,b),r(b,g),r(b,y),r(b,p),q&&q.m(b,null),r(h,w),r(h,S);for(let Z=0;Z<R.length;Z+=1)R[Z]&&R[Z].m(S,null);r(S,A),B&&B.m(S,null),r(e,N),r(e,P),r(P,z),Y.m(z,null),r(P,j),ee.m(P,null),L||(M=Sn(z,"click",function(){Tn(t[3])&&t[3].apply(this,arguments)}),L=!0)},p(H,[W]){if(t=H,U===(U=k(t))&&D?D.p(t,W):(D.d(1),D=U(t),D&&(D.c(),D.m(o,u))),W&4&&I(m,t[2]),W&1&&T!==(T=t[0].players.length+"")&&I(y,T),t[0].players.length<2?q||(q=Mt(),q.c(),q.m(b,null)):q&&(q.d(1),q=null),W&1){V=t[0].players;let Z;for(Z=0;Z<V.length;Z+=1){const ge=At(t,V,Z);R[Z]?R[Z].p(ge,W):(R[Z]=Rt(ge),R[Z].c(),R[Z].m(S,A))}for(;Z<R.length;Z+=1)R[Z].d(1);R.length=V.length}t[0].players.length===0?B||(B=Lt(),B.c(),B.m(S,null)):B&&(B.d(1),B=null),J!==(J=K(t))&&(Y.d(1),Y=J(t),Y&&(Y.c(),Y.m(z,null))),W&16&&Q!==(Q=!t[4])&&(z.disabled=Q),W&16&&Ce(z,"disabled",!t[4]),O!==(O=F(t))&&(ee.d(1),ee=O(t),ee&&(ee.c(),ee.m(P,null)))},i:ne,o:ne,d(H){H&&G(e),D.d(),q&&q.d(),re(R,H),B&&B.d(),Y.d(),ee.d(),L=!1,M()}}}function Tl(t,e,l){let n,{gameState:i}=e,{qrCodeUrl:s}=e,{serverUrl:o}=e,{onStart:a}=e;return t.$$set=c=>{"gameState"in c&&l(0,i=c.gameState),"qrCodeUrl"in c&&l(1,s=c.qrCodeUrl),"serverUrl"in c&&l(2,o=c.serverUrl),"onStart"in c&&l(3,a=c.onStart)},t.$$.update=()=>{t.$$.dirty&1&&l(4,n=i.players.length>=2)},[i,s,o,a,n]}class Bl extends he{constructor(e){super(),me(this,e,Tl,Sl,pe,{gameState:0,qrCodeUrl:1,serverUrl:2,onStart:3})}}function Nt(t,e,l){const n=t.slice();return n[3]=e[l],n[5]=l,n}function It(t){let e,l,n=t[1](t[3].category)+"",i,s,o,a=t[3].category+"",c,u,v,m;return{c(){e=d("div"),l=d("div"),i=E(n),s=C(),o=d("div"),c=E(a),u=C(),v=d("div"),m=C(),f(l,"class","category-emoji svelte-4cbdtp"),f(o,"class","category-name svelte-4cbdtp"),f(v,"class","category-pulse svelte-4cbdtp"),f(e,"class","category-card svelte-4cbdtp"),x(e,"animation-delay",t[5]*.1+"s")},m(_,h){$(_,e,h),r(e,l),r(l,i),r(e,s),r(e,o),r(o,c),r(e,u),r(e,v),r(e,m)},p(_,h){h&1&&n!==(n=_[1](_[3].category)+"")&&I(i,n),h&1&&a!==(a=_[3].category+"")&&I(c,a)},d(_){_&&G(e)}}}function Al(t){let e,l,n,i,s,o,a=t[0].selectorName+"",c,u,v,m,_,h,b=t[0].categories,g=[];for(let T=0;T<b.length;T+=1)g[T]=It(Nt(t,b,T));return{c(){e=d("div"),l=d("div"),n=d("h2"),n.textContent="Category Selection",i=C(),s=d("p"),o=d("span"),c=E(a),u=E(" is choosing the category"),v=C(),m=d("div");for(let T=0;T<g.length;T+=1)g[T].c();_=C(),h=d("div"),h.innerHTML=`<div class="dots svelte-4cbdtp"><span class="svelte-4cbdtp"></span> 
      <span class="svelte-4cbdtp"></span> 
      <span class="svelte-4cbdtp"></span></div> 
    <p class="svelte-4cbdtp">Waiting for selection...</p>`,f(n,"class","title svelte-4cbdtp"),f(o,"class","selector-name svelte-4cbdtp"),f(s,"class","selector-info svelte-4cbdtp"),f(l,"class","header svelte-4cbdtp"),f(m,"class","categories-grid svelte-4cbdtp"),f(h,"class","waiting-indicator svelte-4cbdtp"),f(e,"class","category-container svelte-4cbdtp")},m(T,y){$(T,e,y),r(e,l),r(l,n),r(l,i),r(l,s),r(s,o),r(o,c),r(s,u),r(e,v),r(e,m);for(let p=0;p<g.length;p+=1)g[p]&&g[p].m(m,null);r(e,_),r(e,h)},p(T,[y]){if(y&1&&a!==(a=T[0].selectorName+"")&&I(c,a),y&3){b=T[0].categories;let p;for(p=0;p<b.length;p+=1){const w=Nt(T,b,p);g[p]?g[p].p(w,y):(g[p]=It(w),g[p].c(),g[p].m(m,null))}for(;p<g.length;p+=1)g[p].d(1);g.length=b.length}},i:ne,o:ne,d(T){T&&G(e),re(g,T)}}}function Ml(t,e,l){let{currentQuestion:n}=e;const i={History:"📚",Animals:"🐾",Food:"🍎",Sports:"⚽",Geography:"🌍",Music:"🎵",Science:"🔬",Literature:"📖",Inventions:"💡",TV:"📺",Art:"🎨",Language:"🗣️",Movies:"🎬",Tech:"💻",Fashion:"👗",Mythology:"⚡",Games:"🎮",Space:"🚀",Comics:"💥",Misc:"🎯",Bonus:"✨",Entertainment:"🎭",Nature:"🌿",Travel:"✈️"};function s(o){return i[o]||"❓"}return t.$$set=o=>{"currentQuestion"in o&&l(0,n=o.currentQuestion)},[n,s]}class Rl extends he{constructor(e){super(),me(this,e,Ml,Al,pe,{currentQuestion:0})}}function Pt(t,e,l){const n=t.slice();return n[4]=e[l],n[6]=l,n}function Ll(t){let e,l,n,i,s=t[0].options,o=[];for(let a=0;a<s.length;a+=1)o[a]=zt(Pt(t,s,a));return{c(){e=d("div"),l=d("h4"),l.textContent="Vote for the Real Answer",n=C(),i=d("div");for(let a=0;a<o.length;a+=1)o[a].c();f(l,"class","options-title svelte-1m9ma33"),f(i,"class","options-grid svelte-1m9ma33"),f(e,"class","options-section svelte-1m9ma33")},m(a,c){$(a,e,c),r(e,l),r(e,n),r(e,i);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(i,null)},p(a,c){if(c&1){s=a[0].options;let u;for(u=0;u<s.length;u+=1){const v=Pt(a,s,u);o[u]?o[u].p(v,c):(o[u]=zt(v),o[u].c(),o[u].m(i,null))}for(;u<o.length;u+=1)o[u].d(1);o.length=s.length}},d(a){a&&G(e),re(o,a)}}}function Nl(t){let e;return{c(){e=d("div"),e.innerHTML=`<div class="activity-icon svelte-1m9ma33">✍️</div> 
        <p class="svelte-1m9ma33">Players are writing their lies...</p>`,f(e,"class","activity-indicator svelte-1m9ma33")},m(l,n){$(l,e,n)},p:ne,d(l){l&&G(e)}}}function Il(t){let e;return{c(){e=d("div"),e.innerHTML=`<div class="reading-dots svelte-1m9ma33"><span class="svelte-1m9ma33"></span> 
          <span class="svelte-1m9ma33"></span> 
          <span class="svelte-1m9ma33"></span></div> 
        <p class="svelte-1m9ma33">Everyone read carefully...</p>`,f(e,"class","reading-indicator svelte-1m9ma33")},m(l,n){$(l,e,n)},p:ne,d(l){l&&G(e)}}}function zt(t){let e,l,n=String.fromCharCode(65+t[6])+"",i,s,o,a=t[4].text+"",c,u;return{c(){e=d("div"),l=d("div"),i=E(n),s=C(),o=d("div"),c=E(a),u=C(),f(l,"class","option-letter svelte-1m9ma33"),f(o,"class","option-text svelte-1m9ma33"),f(e,"class","option-card svelte-1m9ma33"),x(e,"animation-delay",t[6]*.1+"s")},m(v,m){$(v,e,m),r(e,l),r(l,i),r(e,s),r(e,o),r(o,c),r(e,u)},p(v,m){m&1&&a!==(a=v[4].text+"")&&I(c,a)},d(v){v&&G(e)}}}function Pl(t){let e,l,n,i=jt(t[1])+"",s,o,a,c=qt(t[1])+"",u,v,m,_,h,b=t[2](t[0].category)+"",g,T,y,p=t[0].category+"",w,S,A,N,P=t[0].question+"",z,Q;function j(k,U){if(k[1]==="question_reading")return Il;if(k[1]==="lie_submission")return Nl;if(k[1]==="option_selection"&&k[0].options)return Ll}let L=j(t),M=L&&L(t);return{c(){e=d("div"),l=d("div"),n=d("h2"),s=E(i),o=C(),a=d("p"),u=E(c),v=C(),m=d("div"),_=d("div"),h=d("span"),g=E(b),T=C(),y=d("span"),w=E(p),S=C(),A=d("div"),N=d("h3"),z=E(P),Q=C(),M&&M.c(),f(n,"class","state-title svelte-1m9ma33"),f(a,"class","state-subtitle svelte-1m9ma33"),f(l,"class","state-header svelte-1m9ma33"),f(h,"class","category-emoji svelte-1m9ma33"),f(y,"class","category-name"),f(_,"class","category-badge svelte-1m9ma33"),f(N,"class","question-text svelte-1m9ma33"),f(A,"class","question-content svelte-1m9ma33"),f(m,"class","question-card svelte-1m9ma33"),f(e,"class","question-container svelte-1m9ma33")},m(k,U){$(k,e,U),r(e,l),r(l,n),r(n,s),r(l,o),r(l,a),r(a,u),r(e,v),r(e,m),r(m,_),r(_,h),r(h,g),r(_,T),r(_,y),r(y,w),r(m,S),r(m,A),r(A,N),r(N,z),r(m,Q),M&&M.m(m,null)},p(k,[U]){U&2&&i!==(i=jt(k[1])+"")&&I(s,i),U&2&&c!==(c=qt(k[1])+"")&&I(u,c),U&1&&b!==(b=k[2](k[0].category)+"")&&I(g,b),U&1&&p!==(p=k[0].category+"")&&I(w,p),U&1&&P!==(P=k[0].question+"")&&I(z,P),L===(L=j(k))&&M?M.p(k,U):(M&&M.d(1),M=L&&L(k),M&&(M.c(),M.m(m,null)))},i:ne,o:ne,d(k){k&&G(e),M&&M.d()}}}function jt(t){switch(t){case"question_reading":return"Read the Question";case"lie_submission":return"Players Are Creating Lies";case"option_selection":return"Time to Vote!";default:return"Question"}}function qt(t){switch(t){case"question_reading":return"Everyone study this question carefully";case"lie_submission":return"Players are crafting their most convincing lies...";case"option_selection":return"Which option is the real answer?";default:return""}}function zl(t,e,l){let{currentQuestion:n}=e,{state:i}=e;const s={History:"📚",Animals:"🐾",Food:"🍎",Sports:"⚽",Geography:"🌍",Music:"🎵",Science:"🔬",Literature:"📖",Inventions:"💡",TV:"📺",Art:"🎨",Language:"🗣️",Movies:"🎬",Tech:"💻",Fashion:"👗",Mythology:"⚡",Games:"🎮",Space:"🚀",Comics:"💥",Misc:"🎯",Bonus:"✨",Entertainment:"🎭",Nature:"🌿",Travel:"✈️"};function o(a){return s[a]||"❓"}return t.$$set=a=>{"currentQuestion"in a&&l(0,n=a.currentQuestion),"state"in a&&l(1,i=a.state)},[n,i,o]}class kn extends he{constructor(e){super(),me(this,e,zl,Pl,pe,{currentQuestion:0,state:1})}}function Ut(t,e,l){const n=t.slice();return n[3]=e[l],n[5]=l,n}function Dt(t,e,l){const n=t.slice();return n[6]=e[l],n[5]=l,n}function Ft(t,e,l){const n=t.slice();return n[3]=e[l],n[9]=l,n}function Ht(t,e,l){const n=t.slice();return n[10]=e[l],n[12]=l,n}function Vt(t){let e,l,n,i,s=t[0].lies,o=[];for(let a=0;a<s.length;a+=1)o[a]=Yt(Dt(t,s,a));return{c(){e=d("div"),l=d("h3"),l.textContent="The Lies That Fooled You",n=C(),i=d("div");for(let a=0;a<o.length;a+=1)o[a].c();f(l,"class","lies-title svelte-ufutjc"),f(i,"class","lies-grid svelte-ufutjc"),f(e,"class","lies-section svelte-ufutjc")},m(a,c){$(a,e,c),r(e,l),r(e,n),r(e,i);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(i,null)},p(a,c){if(c&1){s=a[0].lies;let u;for(u=0;u<s.length;u+=1){const v=Dt(a,s,u);o[u]?o[u].p(v,c):(o[u]=Yt(v),o[u].c(),o[u].m(i,null))}for(;u<o.length;u+=1)o[u].d(1);o.length=s.length}},d(a){a&&G(e),re(o,a)}}}function Qt(t){let e;return{c(){e=E(",")},m(l,n){$(l,e,n)},d(l){l&&G(e)}}}function $t(t){let e,l=t[10].avatar.emoji+"",n,i,s=t[10].name+"",o,a,c,u=t[12]<t[6].authors.length-1&&Qt();return{c(){e=d("span"),n=E(l),i=C(),o=E(s),a=C(),u&&u.c(),c=on(),f(e,"class","author svelte-ufutjc"),x(e,"color",t[10].avatar.color)},m(v,m){$(v,e,m),r(e,n),r(e,i),r(e,o),$(v,a,m),u&&u.m(v,m),$(v,c,m)},p(v,m){m&1&&l!==(l=v[10].avatar.emoji+"")&&I(n,l),m&1&&s!==(s=v[10].name+"")&&I(o,s),m&1&&x(e,"color",v[10].avatar.color),v[12]<v[6].authors.length-1?u||(u=Qt(),u.c(),u.m(c.parentNode,c)):u&&(u.d(1),u=null)},d(v){v&&G(e),v&&G(a),u&&u.d(v),v&&G(c)}}}function Gt(t){let e,l,n,i=t[6].voters,s=[];for(let o=0;o<i.length;o+=1)s[o]=Jt(Ft(t,i,o));return{c(){e=d("div"),l=d("span"),l.textContent="Fooled:",n=C();for(let o=0;o<s.length;o+=1)s[o].c();f(l,"class","voters-label svelte-ufutjc"),f(e,"class","voters svelte-ufutjc")},m(o,a){$(o,e,a),r(e,l),r(e,n);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null)},p(o,a){if(a&1){i=o[6].voters;let c;for(c=0;c<i.length;c+=1){const u=Ft(o,i,c);s[c]?s[c].p(u,a):(s[c]=Jt(u),s[c].c(),s[c].m(e,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=i.length}},d(o){o&&G(e),re(s,o)}}}function Kt(t){let e;return{c(){e=E(",")},m(l,n){$(l,e,n)},d(l){l&&G(e)}}}function Jt(t){let e,l=t[3].avatar.emoji+"",n,i,s=t[3].name+"",o,a,c,u=t[9]<t[6].voters.length-1&&Kt();return{c(){e=d("span"),n=E(l),i=C(),o=E(s),a=C(),u&&u.c(),c=on(),f(e,"class","voter svelte-ufutjc"),x(e,"color",t[3].avatar.color)},m(v,m){$(v,e,m),r(e,n),r(e,i),r(e,o),$(v,a,m),u&&u.m(v,m),$(v,c,m)},p(v,m){m&1&&l!==(l=v[3].avatar.emoji+"")&&I(n,l),m&1&&s!==(s=v[3].name+"")&&I(o,s),m&1&&x(e,"color",v[3].avatar.color),v[9]<v[6].voters.length-1?u||(u=Kt(),u.c(),u.m(c.parentNode,c)):u&&(u.d(1),u=null)},d(v){v&&G(e),v&&G(a),u&&u.d(v),v&&G(c)}}}function Yt(t){let e,l,n,i,s,o,a=t[6].votes+"",c,u,v=t[6].votes!==1?"s":"",m,_,h,b,g=t[6].points+"",T,y,p,w,S,A=t[6].text+"",N,P,z,Q,j,L,M,k,U,D=t[6].authors,q=[];for(let R=0;R<D.length;R+=1)q[R]=$t(Ht(t,D,R));let V=t[6].voters&&t[6].voters.length>0&&Gt(t);return{c(){e=d("div"),l=d("div"),n=d("div"),i=d("span"),i.textContent="🗳️",s=C(),o=d("span"),c=E(a),u=E(" vote"),m=E(v),_=C(),h=d("div"),b=E("+"),T=E(g),y=E("pts"),p=C(),w=d("div"),S=E('"'),N=E(A),P=E('"'),z=C(),Q=d("div"),j=d("div"),L=d("span"),L.textContent="By:",M=C();for(let R=0;R<q.length;R+=1)q[R].c();k=C(),V&&V.c(),U=C(),f(i,"class","votes-icon svelte-ufutjc"),f(o,"class","votes-count"),f(n,"class","lie-votes svelte-ufutjc"),f(h,"class","lie-points svelte-ufutjc"),f(l,"class","lie-header svelte-ufutjc"),f(w,"class","lie-text svelte-ufutjc"),f(L,"class","authors-label svelte-ufutjc"),f(j,"class","authors svelte-ufutjc"),f(Q,"class","lie-attribution svelte-ufutjc"),f(e,"class","lie-card svelte-ufutjc"),x(e,"animation-delay",t[5]*.15+"s")},m(R,B){$(R,e,B),r(e,l),r(l,n),r(n,i),r(n,s),r(n,o),r(o,c),r(o,u),r(o,m),r(l,_),r(l,h),r(h,b),r(h,T),r(h,y),r(e,p),r(e,w),r(w,S),r(w,N),r(w,P),r(e,z),r(e,Q),r(Q,j),r(j,L),r(j,M);for(let K=0;K<q.length;K+=1)q[K]&&q[K].m(j,null);r(Q,k),V&&V.m(Q,null),r(e,U)},p(R,B){if(B&1&&a!==(a=R[6].votes+"")&&I(c,a),B&1&&v!==(v=R[6].votes!==1?"s":"")&&I(m,v),B&1&&g!==(g=R[6].points+"")&&I(T,g),B&1&&A!==(A=R[6].text+"")&&I(N,A),B&1){D=R[6].authors;let K;for(K=0;K<D.length;K+=1){const J=Ht(R,D,K);q[K]?q[K].p(J,B):(q[K]=$t(J),q[K].c(),q[K].m(j,null))}for(;K<q.length;K+=1)q[K].d(1);q.length=D.length}R[6].voters&&R[6].voters.length>0?V?V.p(R,B):(V=Gt(R),V.c(),V.m(Q,null)):V&&(V.d(1),V=null)},d(R){R&&G(e),re(q,R),V&&V.d()}}}function Ot(t){let e,l,n,i,s=t[0].truthVoters,o=[];for(let a=0;a<s.length;a+=1)o[a]=Wt(Ut(t,s,a));return{c(){e=d("div"),l=d("h3"),l.textContent="Truth Detectives 🕵️",n=C(),i=d("div");for(let a=0;a<o.length;a+=1)o[a].c();f(l,"class","truth-voters-title svelte-ufutjc"),f(i,"class","truth-voters svelte-ufutjc"),f(e,"class","truth-voters-section svelte-ufutjc")},m(a,c){$(a,e,c),r(e,l),r(e,n),r(e,i);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(i,null)},p(a,c){if(c&1){s=a[0].truthVoters;let u;for(u=0;u<s.length;u+=1){const v=Ut(a,s,u);o[u]?o[u].p(v,c):(o[u]=Wt(v),o[u].c(),o[u].m(i,null))}for(;u<o.length;u+=1)o[u].d(1);o.length=s.length}},d(a){a&&G(e),re(o,a)}}}function Wt(t){let e,l,n,i=t[3].avatar.emoji+"",s,o,a,c=t[3].name+"",u,v,m,_,h=(t[0].truthPoints||1e3)+"",b,g,T;return{c(){e=d("div"),l=d("div"),n=d("span"),s=E(i),o=C(),a=d("div"),u=E(c),v=C(),m=d("div"),_=E("+"),b=E(h),g=E(" pts"),T=C(),f(n,"class","voter-emoji svelte-ufutjc"),f(l,"class","voter-avatar svelte-ufutjc"),x(l,"background-color",t[3].avatar.color),f(a,"class","voter-name svelte-ufutjc"),f(m,"class","voter-bonus svelte-ufutjc"),f(e,"class","truth-voter svelte-ufutjc"),x(e,"animation-delay",t[5]*.1+"s")},m(y,p){$(y,e,p),r(e,l),r(l,n),r(n,s),r(e,o),r(e,a),r(a,u),r(e,v),r(e,m),r(m,_),r(m,b),r(m,g),r(e,T)},p(y,p){p&1&&i!==(i=y[3].avatar.emoji+"")&&I(s,i),p&1&&x(l,"background-color",y[3].avatar.color),p&1&&c!==(c=y[3].name+"")&&I(u,c),p&1&&h!==(h=(y[0].truthPoints||1e3)+"")&&I(b,h)},d(y){y&&G(e)}}}function jl(t){let e,l,n,i,s=t[1](t[0].category)+"",o,a,c,u=t[0].category+"",v,m,_,h=t[0].question+"",b,g,T,y,p,w,S,A=t[0].truth.answer+"",N,P,z,Q,j,L=t[0].lies&&t[0].lies.length>0&&Vt(t),M=t[0].truthVoters&&t[0].truthVoters.length>0&&Ot(t);return{c(){e=d("div"),l=d("div"),n=d("div"),i=d("span"),o=E(s),a=C(),c=d("span"),v=E(u),m=C(),_=d("h2"),b=E(h),g=C(),T=d("div"),y=d("div"),p=d("div"),p.textContent="The Truth",w=C(),S=d("div"),N=E(A),P=C(),z=d("div"),z.textContent="🎯",Q=C(),L&&L.c(),j=C(),M&&M.c(),f(i,"class","category-emoji svelte-ufutjc"),f(c,"class","category-name"),f(n,"class","category-badge svelte-ufutjc"),f(_,"class","question-text svelte-ufutjc"),f(l,"class","question-section svelte-ufutjc"),f(p,"class","answer-label svelte-ufutjc"),f(S,"class","answer-text svelte-ufutjc"),f(z,"class","answer-celebration svelte-ufutjc"),f(y,"class","answer-card svelte-ufutjc"),f(T,"class","answer-reveal svelte-ufutjc"),f(e,"class","reveal-container svelte-ufutjc")},m(k,U){$(k,e,U),r(e,l),r(l,n),r(n,i),r(i,o),r(n,a),r(n,c),r(c,v),r(l,m),r(l,_),r(_,b),r(e,g),r(e,T),r(T,y),r(y,p),r(y,w),r(y,S),r(S,N),r(y,P),r(y,z),r(e,Q),L&&L.m(e,null),r(e,j),M&&M.m(e,null)},p(k,[U]){U&1&&s!==(s=k[1](k[0].category)+"")&&I(o,s),U&1&&u!==(u=k[0].category+"")&&I(v,u),U&1&&h!==(h=k[0].question+"")&&I(b,h),U&1&&A!==(A=k[0].truth.answer+"")&&I(N,A),k[0].lies&&k[0].lies.length>0?L?L.p(k,U):(L=Vt(k),L.c(),L.m(e,j)):L&&(L.d(1),L=null),k[0].truthVoters&&k[0].truthVoters.length>0?M?M.p(k,U):(M=Ot(k),M.c(),M.m(e,null)):M&&(M.d(1),M=null)},i:ne,o:ne,d(k){k&&G(e),L&&L.d(),M&&M.d()}}}function ql(t,e,l){let{data:n}=e;const i={History:"📚",Animals:"🐾",Food:"🍎",Sports:"⚽",Geography:"🌍",Music:"🎵",Science:"🔬",Literature:"📖",Inventions:"💡",TV:"📺",Art:"🎨",Language:"🗣️",Movies:"🎬",Tech:"💻",Fashion:"👗",Mythology:"⚡",Games:"🎮",Space:"🚀",Comics:"💥",Misc:"🎯",Bonus:"✨",Entertainment:"🎭",Nature:"🌿",Travel:"✈️"};function s(o){return i[o]||"❓"}return t.$$set=o=>{"data"in o&&l(0,n=o.data)},[n,s]}class Ul extends he{constructor(e){super(),me(this,e,ql,jl,pe,{data:0})}}function Zt(t,e,l){const n=t.slice();return n[2]=e[l],n[4]=l,n}function Xt(t){let e,l,n=t[2].lastLie+"",i,s;return{c(){e=d("div"),l=E('"'),i=E(n),s=E('"'),f(e,"class","last-lie svelte-me8ivb")},m(o,a){$(o,e,a),r(e,l),r(e,i),r(e,s)},p(o,a){a&2&&n!==(n=o[2].lastLie+"")&&I(i,n)},d(o){o&&G(e)}}}function xt(t){let e,l,n=t[2].pointsThisRound+"",i;return{c(){e=d("div"),l=E("+"),i=E(n),f(e,"class","points-gained svelte-me8ivb")},m(s,o){$(s,e,o),r(e,l),r(e,i)},p(s,o){o&2&&n!==(n=s[2].pointsThisRound+"")&&I(i,n)},d(s){s&&G(e)}}}function en(t){let e,l,n,i=Vl(t[4]+1)+"",s,o,a,c,u,v=t[2].avatar.emoji+"",m,_,h,b,g=t[2].name+"",T,y,p,w,S,A=t[2].points+"",N,P,z,Q,j,L=t[2].lastLie&&Xt(t),M=t[2].pointsThisRound&&xt(t);return{c(){e=d("div"),l=d("div"),n=d("span"),s=E(i),o=C(),a=d("div"),c=d("div"),u=d("span"),m=E(v),_=C(),h=d("div"),b=d("div"),T=E(g),y=C(),L&&L.c(),p=C(),w=d("div"),S=d("div"),N=E(A),P=C(),z=d("div"),z.textContent="points",Q=C(),M&&M.c(),j=C(),f(n,"class","rank-display svelte-me8ivb"),f(l,"class","player-rank svelte-me8ivb"),f(u,"class","player-emoji svelte-me8ivb"),f(c,"class","player-avatar svelte-me8ivb"),x(c,"background-color",t[2].avatar.color),f(b,"class","player-name svelte-me8ivb"),f(h,"class","player-details svelte-me8ivb"),f(a,"class","player-info svelte-me8ivb"),f(S,"class","points-total svelte-me8ivb"),f(z,"class","points-label svelte-me8ivb"),f(w,"class","player-stats svelte-me8ivb"),f(e,"class","player-row "+Ql(t[4]+1)+" svelte-me8ivb"),x(e,"animation-delay",t[4]*.1+"s")},m(k,U){$(k,e,U),r(e,l),r(l,n),r(n,s),r(e,o),r(e,a),r(a,c),r(c,u),r(u,m),r(a,_),r(a,h),r(h,b),r(b,T),r(h,y),L&&L.m(h,null),r(e,p),r(e,w),r(w,S),r(S,N),r(w,P),r(w,z),r(w,Q),M&&M.m(w,null),r(e,j)},p(k,U){U&2&&v!==(v=k[2].avatar.emoji+"")&&I(m,v),U&2&&x(c,"background-color",k[2].avatar.color),U&2&&g!==(g=k[2].name+"")&&I(T,g),k[2].lastLie?L?L.p(k,U):(L=Xt(k),L.c(),L.m(h,null)):L&&(L.d(1),L=null),U&2&&A!==(A=k[2].points+"")&&I(N,A),k[2].pointsThisRound?M?M.p(k,U):(M=xt(k),M.c(),M.m(w,null)):M&&(M.d(1),M=null)},d(k){k&&G(e),L&&L.d(),M&&M.d()}}}function Dl(t){let e;return{c(){e=E("Preparing final results...")},m(l,n){$(l,e,n)},p:ne,d(l){l&&G(e)}}}function Fl(t){let e,l=t[0].round+1+"",n,i;return{c(){e=E("Get ready for Round "),n=E(l),i=E("...")},m(s,o){$(s,e,o),$(s,n,o),$(s,i,o)},p(s,o){o&1&&l!==(l=s[0].round+1+"")&&I(n,l)},d(s){s&&G(e),s&&G(n),s&&G(i)}}}function Hl(t){let e,l,n,i,s=t[0].round+"",o,a,c,u,v,m=t[0].question+"",_,h,b=t[0].totalRounds-t[0].round+"",g,T,y=t[0].totalRounds-t[0].round!==1?"s":"",p,w,S,A,N,P,z,Q,j,L,M,k,U=t[1],D=[];for(let B=0;B<U.length;B+=1)D[B]=en(Zt(t,U,B));function q(B,K){return B[0].round<B[0].totalRounds?Fl:Dl}let V=q(t),R=V(t);return{c(){e=d("div"),l=d("div"),n=d("h2"),i=E("Round "),o=E(s),a=E(" Complete!"),c=C(),u=d("p"),v=E("Question "),_=E(m),h=E(" • "),g=E(b),T=E(" round"),p=E(y),w=E(" remaining"),S=C(),A=d("div"),N=d("div"),N.innerHTML='<h3 class="leaderboard-title svelte-me8ivb">🏆 Leaderboard</h3>',P=C(),z=d("div");for(let B=0;B<D.length;B+=1)D[B].c();Q=C(),j=d("div"),L=d("div"),L.innerHTML=`<span class="svelte-me8ivb"></span> 
      <span class="svelte-me8ivb"></span> 
      <span class="svelte-me8ivb"></span>`,M=C(),k=d("p"),R.c(),f(n,"class","scoreboard-title svelte-me8ivb"),f(u,"class","round-progress svelte-me8ivb"),f(l,"class","scoreboard-header svelte-me8ivb"),f(N,"class","leaderboard-header svelte-me8ivb"),f(z,"class","players-list svelte-me8ivb"),f(A,"class","leaderboard svelte-me8ivb"),f(L,"class","continue-dots svelte-me8ivb"),f(k,"class","svelte-me8ivb"),f(j,"class","continue-indicator svelte-me8ivb"),f(e,"class","scoreboard-container svelte-me8ivb")},m(B,K){$(B,e,K),r(e,l),r(l,n),r(n,i),r(n,o),r(n,a),r(l,c),r(l,u),r(u,v),r(u,_),r(u,h),r(u,g),r(u,T),r(u,p),r(u,w),r(e,S),r(e,A),r(A,N),r(A,P),r(A,z);for(let J=0;J<D.length;J+=1)D[J]&&D[J].m(z,null);r(e,Q),r(e,j),r(j,L),r(j,M),r(j,k),R.m(k,null)},p(B,[K]){if(K&1&&s!==(s=B[0].round+"")&&I(o,s),K&1&&m!==(m=B[0].question+"")&&I(_,m),K&1&&b!==(b=B[0].totalRounds-B[0].round+"")&&I(g,b),K&1&&y!==(y=B[0].totalRounds-B[0].round!==1?"s":"")&&I(p,y),K&2){U=B[1];let J;for(J=0;J<U.length;J+=1){const Y=Zt(B,U,J);D[J]?D[J].p(Y,K):(D[J]=en(Y),D[J].c(),D[J].m(z,null))}for(;J<D.length;J+=1)D[J].d(1);D.length=U.length}V===(V=q(B))&&R?R.p(B,K):(R.d(1),R=V(B),R&&(R.c(),R.m(k,null)))},i:ne,o:ne,d(B){B&&G(e),re(D,B),R.d()}}}function Vl(t){switch(t){case 1:return"🥇";case 2:return"🥈";case 3:return"🥉";default:return`#${t}`}}function Ql(t){switch(t){case 1:return"rank-first";case 2:return"rank-second";case 3:return"rank-third";default:return"rank-other"}}function $l(t,e,l){let n,{data:i}=e;return t.$$set=s=>{"data"in s&&l(0,i=s.data)},t.$$.update=()=>{t.$$.dirty&1&&l(1,n=[...i.players].sort((s,o)=>o.points-s.points))},[i,n]}class Gl extends he{constructor(e){super(),me(this,e,$l,Hl,pe,{data:0})}}function tn(t,e,l){const n=t.slice();return n[2]=e[l],n[4]=l,n}function nn(t){let e,l,n,i=Jl(t[4]+1)+"",s,o,a,c=t[4]+1+"",u,v,m,_,h,b=t[2].avatar.emoji+"",g,T,y,p,w=t[2].name+"",S,A,N,P,z,Q=(t[2].liesSubmitted||0)+"",j,L,M,k,U,D=(t[2].truthsFound||0)+"",q,V,R,B,K,J=t[2].points+"",Y,F,O,ee;return{c(){e=d("div"),l=d("div"),n=d("span"),s=E(i),o=C(),a=d("span"),u=E(c),v=C(),m=d("div"),_=d("div"),h=d("span"),g=E(b),T=C(),y=d("div"),p=d("div"),S=E(w),A=C(),N=d("div"),P=d("span"),z=E("🤥 "),j=E(Q),L=E(" lies"),M=C(),k=d("span"),U=E("🎯 "),q=E(D),V=E(" truths"),R=C(),B=d("div"),K=d("div"),Y=E(J),F=C(),O=d("div"),O.textContent="pts",ee=C(),f(n,"class","rank-icon svelte-2zrfpu"),f(a,"class","rank-number svelte-2zrfpu"),f(l,"class","standing-rank svelte-2zrfpu"),f(h,"class","standing-emoji svelte-2zrfpu"),f(_,"class","standing-avatar svelte-2zrfpu"),x(_,"background-color",t[2].avatar.color),f(p,"class","standing-name svelte-2zrfpu"),f(P,"class","lies-stat"),f(k,"class","truth-stat"),f(N,"class","standing-stats svelte-2zrfpu"),f(y,"class","standing-info"),f(m,"class","standing-player svelte-2zrfpu"),f(K,"class","points-value svelte-2zrfpu"),f(O,"class","points-label svelte-2zrfpu"),f(B,"class","standing-points svelte-2zrfpu"),f(e,"class","standing-card "+Yl(t[4]+1)+" svelte-2zrfpu"),x(e,"animation-delay",t[4]*.15+"s")},m(H,W){$(H,e,W),r(e,l),r(l,n),r(n,s),r(l,o),r(l,a),r(a,u),r(e,v),r(e,m),r(m,_),r(_,h),r(h,g),r(m,T),r(m,y),r(y,p),r(p,S),r(y,A),r(y,N),r(N,P),r(P,z),r(P,j),r(P,L),r(N,M),r(N,k),r(k,U),r(k,q),r(k,V),r(e,R),r(e,B),r(B,K),r(K,Y),r(B,F),r(B,O),r(e,ee)},p(H,W){W&2&&b!==(b=H[2].avatar.emoji+"")&&I(g,b),W&2&&x(_,"background-color",H[2].avatar.color),W&2&&w!==(w=H[2].name+"")&&I(S,w),W&2&&Q!==(Q=(H[2].liesSubmitted||0)+"")&&I(j,Q),W&2&&D!==(D=(H[2].truthsFound||0)+"")&&I(q,D),W&2&&J!==(J=H[2].points+"")&&I(Y,J)},d(H){H&&G(e)}}}function Kl(t){let e,l,n,i,s,o,a,c,u,v=t[0].winner.avatar.emoji+"",m,_,h,b=t[0].winner.name+"",g,T,y,p,w,S=t[0].winner.points+"",A,N,P,z,Q,j,L,M,k,U,D,q,V,R,B,K,J,Y,F=t[0].totalRounds+"",O,ee,H,W,Z,ge,gt,Le,Ne=(t[0].totalQuestions||0)+"",Ze,ht,Ie,mt,ue,Pe,pt,ze,je=(t[0].totalLies||0)+"",Xe,_t,qe,bt,fe,Ue,yt,De,Fe=(t[0].totalPlayers||t[1].length)+"",xe,wt,He,Ct,Ve,we=t[1],le=[];for(let X=0;X<we.length;X+=1)le[X]=nn(tn(t,we,X));return{c(){e=d("div"),l=d("div"),l.innerHTML=`<div class="celebration-icon svelte-2zrfpu">🎊</div> 
    <h1 class="game-complete-title svelte-2zrfpu">Game Complete!</h1> 
    <div class="confetti svelte-2zrfpu"></div>`,n=C(),i=d("div"),s=d("div"),o=d("div"),o.textContent="👑",a=C(),c=d("div"),u=d("span"),m=E(v),_=C(),h=d("h2"),g=E(b),T=C(),y=d("div"),y.textContent="Champion Liar!",p=C(),w=d("div"),A=E(S),N=E(" points"),P=C(),z=d("div"),z.innerHTML=`<div class="sparkle svelte-2zrfpu">✨</div> 
        <div class="sparkle svelte-2zrfpu">✨</div> 
        <div class="sparkle svelte-2zrfpu">✨</div>`,Q=C(),j=d("div"),L=d("h3"),L.textContent="Final Standings",M=C(),k=d("div");for(let X=0;X<le.length;X+=1)le[X].c();U=C(),D=d("div"),q=d("h3"),q.textContent="Game Statistics",V=C(),R=d("div"),B=d("div"),K=d("div"),K.textContent="🎮",J=C(),Y=d("div"),O=E(F),ee=C(),H=d("div"),H.textContent="Rounds Played",W=C(),Z=d("div"),ge=d("div"),ge.textContent="❓",gt=C(),Le=d("div"),Ze=E(Ne),ht=C(),Ie=d("div"),Ie.textContent="Questions Asked",mt=C(),ue=d("div"),Pe=d("div"),Pe.textContent="🤥",pt=C(),ze=d("div"),Xe=E(je),_t=C(),qe=d("div"),qe.textContent="Lies Created",bt=C(),fe=d("div"),Ue=d("div"),Ue.textContent="👥",yt=C(),De=d("div"),xe=E(Fe),wt=C(),He=d("div"),He.textContent="Players",Ct=C(),Ve=d("div"),Ve.innerHTML=`<div class="thanks-message svelte-2zrfpu"><h3 class="svelte-2zrfpu">Thanks for Playing Lie-Ability! 🎉</h3> 
      <p class="svelte-2zrfpu">Hope you had a blast creating lies and hunting for truth!</p></div> 
    
    <div class="play-again-hint svelte-2zrfpu"><p class="svelte-2zrfpu">Want to play again? Refresh the page to start a new game!</p></div>`,f(l,"class","celebration-header svelte-2zrfpu"),f(o,"class","winner-crown svelte-2zrfpu"),f(u,"class","winner-emoji svelte-2zrfpu"),f(c,"class","winner-avatar svelte-2zrfpu"),x(c,"background-color",t[0].winner.avatar.color),f(h,"class","winner-name svelte-2zrfpu"),f(y,"class","winner-title svelte-2zrfpu"),f(w,"class","winner-points svelte-2zrfpu"),f(z,"class","winner-celebration svelte-2zrfpu"),f(s,"class","winner-card svelte-2zrfpu"),f(i,"class","winner-spotlight svelte-2zrfpu"),f(L,"class","standings-title svelte-2zrfpu"),f(k,"class","standings-grid svelte-2zrfpu"),f(j,"class","final-standings svelte-2zrfpu"),f(q,"class","stats-title svelte-2zrfpu"),f(K,"class","stat-icon svelte-2zrfpu"),f(Y,"class","stat-value svelte-2zrfpu"),f(H,"class","stat-label svelte-2zrfpu"),f(B,"class","stat-card svelte-2zrfpu"),f(ge,"class","stat-icon svelte-2zrfpu"),f(Le,"class","stat-value svelte-2zrfpu"),f(Ie,"class","stat-label svelte-2zrfpu"),f(Z,"class","stat-card svelte-2zrfpu"),f(Pe,"class","stat-icon svelte-2zrfpu"),f(ze,"class","stat-value svelte-2zrfpu"),f(qe,"class","stat-label svelte-2zrfpu"),f(ue,"class","stat-card svelte-2zrfpu"),f(Ue,"class","stat-icon svelte-2zrfpu"),f(De,"class","stat-value svelte-2zrfpu"),f(He,"class","stat-label svelte-2zrfpu"),f(fe,"class","stat-card svelte-2zrfpu"),f(R,"class","stats-grid svelte-2zrfpu"),f(D,"class","game-stats svelte-2zrfpu"),f(Ve,"class","play-again-section svelte-2zrfpu"),f(e,"class","game-end-container svelte-2zrfpu")},m(X,ie){$(X,e,ie),r(e,l),r(e,n),r(e,i),r(i,s),r(s,o),r(s,a),r(s,c),r(c,u),r(u,m),r(s,_),r(s,h),r(h,g),r(s,T),r(s,y),r(s,p),r(s,w),r(w,A),r(w,N),r(s,P),r(s,z),r(e,Q),r(e,j),r(j,L),r(j,M),r(j,k);for(let te=0;te<le.length;te+=1)le[te]&&le[te].m(k,null);r(e,U),r(e,D),r(D,q),r(D,V),r(D,R),r(R,B),r(B,K),r(B,J),r(B,Y),r(Y,O),r(B,ee),r(B,H),r(R,W),r(R,Z),r(Z,ge),r(Z,gt),r(Z,Le),r(Le,Ze),r(Z,ht),r(Z,Ie),r(R,mt),r(R,ue),r(ue,Pe),r(ue,pt),r(ue,ze),r(ze,Xe),r(ue,_t),r(ue,qe),r(R,bt),r(R,fe),r(fe,Ue),r(fe,yt),r(fe,De),r(De,xe),r(fe,wt),r(fe,He),r(e,Ct),r(e,Ve)},p(X,[ie]){if(ie&1&&v!==(v=X[0].winner.avatar.emoji+"")&&I(m,v),ie&1&&x(c,"background-color",X[0].winner.avatar.color),ie&1&&b!==(b=X[0].winner.name+"")&&I(g,b),ie&1&&S!==(S=X[0].winner.points+"")&&I(A,S),ie&2){we=X[1];let te;for(te=0;te<we.length;te+=1){const Et=tn(X,we,te);le[te]?le[te].p(Et,ie):(le[te]=nn(Et),le[te].c(),le[te].m(k,null))}for(;te<le.length;te+=1)le[te].d(1);le.length=we.length}ie&1&&F!==(F=X[0].totalRounds+"")&&I(O,F),ie&1&&Ne!==(Ne=(X[0].totalQuestions||0)+"")&&I(Ze,Ne),ie&1&&je!==(je=(X[0].totalLies||0)+"")&&I(Xe,je),ie&3&&Fe!==(Fe=(X[0].totalPlayers||X[1].length)+"")&&I(xe,Fe)},i:ne,o:ne,d(X){X&&G(e),re(le,X)}}}function Jl(t){switch(t){case 1:return"🏆";case 2:return"🥈";case 3:return"🥉";default:return`#${t}`}}function Yl(t){switch(t){case 1:return"winner";case 2:return"second";case 3:return"third";default:return"other"}}function Ol(t,e,l){let n,{data:i}=e;return t.$$set=s=>{"data"in s&&l(0,i=s.data)},t.$$.update=()=>{t.$$.dirty&1&&l(1,n=[...i.finalStandings].sort((s,o)=>o.points-s.points))},[i,n]}class Wl extends he{constructor(e){super(),me(this,e,Ol,Kl,pe,{data:0})}}function ln(t,e,l){const n=t.slice();return n[12]=e[l],n}function sn(t){let e,l,n,i;return{c(){e=d("div"),l=d("div"),n=d("span"),i=E(t[2]),f(n,"class","timer-text svelte-1nac540"),f(l,"class","timer-circle svelte-1nac540"),f(e,"class","timer-display svelte-1nac540"),Ce(e,"urgent",t[2]<=5)},m(s,o){$(s,e,o),r(e,l),r(l,n),r(n,i)},p(s,o){o&4&&I(i,s[2]),o&4&&Ce(e,"urgent",s[2]<=5)},d(s){s&&G(e)}}}function Zl(t){let e,l;return e=new Wl({props:{data:t[7]}}),{c(){_e(e.$$.fragment)},m(n,i){be(e,n,i),l=!0},p(n,i){const s={};i&128&&(s.data=n[7]),e.$set(s)},i(n){l||(ce(e.$$.fragment,n),l=!0)},o(n){ae(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function Xl(t){let e,l;return e=new Gl({props:{data:t[6]}}),{c(){_e(e.$$.fragment)},m(n,i){be(e,n,i),l=!0},p(n,i){const s={};i&64&&(s.data=n[6]),e.$set(s)},i(n){l||(ce(e.$$.fragment,n),l=!0)},o(n){ae(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function xl(t){let e,l;return e=new Ul({props:{data:t[5]}}),{c(){_e(e.$$.fragment)},m(n,i){be(e,n,i),l=!0},p(n,i){const s={};i&32&&(s.data=n[5]),e.$set(s)},i(n){l||(ce(e.$$.fragment,n),l=!0)},o(n){ae(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function es(t){let e,l;return e=new kn({props:{currentQuestion:t[1],state:t[0].state}}),{c(){_e(e.$$.fragment)},m(n,i){be(e,n,i),l=!0},p(n,i){const s={};i&2&&(s.currentQuestion=n[1]),i&1&&(s.state=n[0].state),e.$set(s)},i(n){l||(ce(e.$$.fragment,n),l=!0)},o(n){ae(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function ts(t){let e,l;return e=new kn({props:{currentQuestion:t[1],state:t[0].state}}),{c(){_e(e.$$.fragment)},m(n,i){be(e,n,i),l=!0},p(n,i){const s={};i&2&&(s.currentQuestion=n[1]),i&1&&(s.state=n[0].state),e.$set(s)},i(n){l||(ce(e.$$.fragment,n),l=!0)},o(n){ae(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function ns(t){let e,l;return e=new Rl({props:{currentQuestion:t[1]}}),{c(){_e(e.$$.fragment)},m(n,i){be(e,n,i),l=!0},p(n,i){const s={};i&2&&(s.currentQuestion=n[1]),e.$set(s)},i(n){l||(ce(e.$$.fragment,n),l=!0)},o(n){ae(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function ls(t){let e,l;return e=new Bl({props:{gameState:t[0],qrCodeUrl:t[3],serverUrl:t[4],onStart:t[8]}}),{c(){_e(e.$$.fragment)},m(n,i){be(e,n,i),l=!0},p(n,i){const s={};i&1&&(s.gameState=n[0]),i&8&&(s.qrCodeUrl=n[3]),i&16&&(s.serverUrl=n[4]),e.$set(s)},i(n){l||(ce(e.$$.fragment,n),l=!0)},o(n){ae(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function rn(t){let e,l,n=t[12].avatar.emoji+"",i,s,o,a=t[12].name+"",c,u,v,m=t[12].points+"",_,h,b;return{c(){e=d("div"),l=d("span"),i=E(n),s=C(),o=d("span"),c=E(a),u=C(),v=d("span"),_=E(m),h=E("pts"),b=C(),f(l,"class","player-emoji svelte-1nac540"),f(o,"class","player-name svelte-1nac540"),f(v,"class","player-points svelte-1nac540"),f(e,"class","player-chip svelte-1nac540"),x(e,"background-color",t[12].avatar.color+"22"),x(e,"border-color",t[12].avatar.color)},m(g,T){$(g,e,T),r(e,l),r(l,i),r(e,s),r(e,o),r(o,c),r(e,u),r(e,v),r(v,_),r(v,h),r(e,b)},p(g,T){T&1&&n!==(n=g[12].avatar.emoji+"")&&I(i,n),T&1&&a!==(a=g[12].name+"")&&I(c,a),T&1&&m!==(m=g[12].points+"")&&I(_,m),T&1&&x(e,"background-color",g[12].avatar.color+"22"),T&1&&x(e,"border-color",g[12].avatar.color)},d(g){g&&G(e)}}}function ss(t){let e,l,n,i,s,o,a=t[0].currentRound+"",c,u,v=t[0].totalRounds+"",m,_,h=t[0].currentQuestion+"",b,g,T,y,p,w,S,A,N,P,z,Q=t[0].players.length+"",j,L,M=t[0].players.length!==1?"s":"",k,U,D,q,V=t[2]>0&&sn(t);const R=[ls,ns,ts,es,xl,Xl,Zl],B=[];function K(F,O){return F[0].state==="lobby"?0:F[0].state==="category_selection"?1:F[0].state==="question_reading"||F[0].state==="lie_submission"?2:F[0].state==="option_selection"?3:F[0].state==="truth_reveal"?4:F[0].state==="scoreboard"?5:F[0].state==="game_ended"?6:-1}~(p=K(t))&&(w=B[p]=R[p](t));let J=t[0].players,Y=[];for(let F=0;F<J.length;F+=1)Y[F]=rn(ln(t,J,F));return{c(){e=d("main"),l=d("div"),n=d("h1"),n.innerHTML=`<span class="title-icon svelte-1nac540">🎯</span>
      Lie-Ability`,i=C(),s=d("div"),o=E("Round "),c=E(a),u=E("/"),m=E(v),_=E(" • Question "),b=E(h),g=C(),V&&V.c(),T=C(),y=d("div"),w&&w.c(),S=C(),A=d("div"),N=d("div"),P=d("span"),P.textContent="👥",z=C(),j=E(Q),L=E(" Player"),k=E(M),U=C(),D=d("div");for(let F=0;F<Y.length;F+=1)Y[F].c();f(n,"class","game-title svelte-1nac540"),f(s,"class","round-info svelte-1nac540"),Ce(s,"visible",t[0].state!=="lobby"),f(l,"class","game-header svelte-1nac540"),f(y,"class","game-content svelte-1nac540"),f(P,"class","players-icon svelte-1nac540"),f(N,"class","players-count svelte-1nac540"),f(D,"class","players-list svelte-1nac540"),f(A,"class","players-bar svelte-1nac540"),f(e,"class","host-container svelte-1nac540")},m(F,O){$(F,e,O),r(e,l),r(l,n),r(l,i),r(l,s),r(s,o),r(s,c),r(s,u),r(s,m),r(s,_),r(s,b),r(e,g),V&&V.m(e,null),r(e,T),r(e,y),~p&&B[p].m(y,null),r(e,S),r(e,A),r(A,N),r(N,P),r(N,z),r(N,j),r(N,L),r(N,k),r(A,U),r(A,D);for(let ee=0;ee<Y.length;ee+=1)Y[ee]&&Y[ee].m(D,null);q=!0},p(F,[O]){(!q||O&1)&&a!==(a=F[0].currentRound+"")&&I(c,a),(!q||O&1)&&v!==(v=F[0].totalRounds+"")&&I(m,v),(!q||O&1)&&h!==(h=F[0].currentQuestion+"")&&I(b,h),(!q||O&1)&&Ce(s,"visible",F[0].state!=="lobby"),F[2]>0?V?V.p(F,O):(V=sn(F),V.c(),V.m(e,T)):V&&(V.d(1),V=null);let ee=p;if(p=K(F),p===ee?~p&&B[p].p(F,O):(w&&(Rn(),ae(B[ee],1,1,()=>{B[ee]=null}),Bn()),~p?(w=B[p],w?w.p(F,O):(w=B[p]=R[p](F),w.c()),ce(w,1),w.m(y,null)):w=null),(!q||O&1)&&Q!==(Q=F[0].players.length+"")&&I(j,Q),(!q||O&1)&&M!==(M=F[0].players.length!==1?"s":"")&&I(k,M),O&1){J=F[0].players;let H;for(H=0;H<J.length;H+=1){const W=ln(F,J,H);Y[H]?Y[H].p(W,O):(Y[H]=rn(W),Y[H].c(),Y[H].m(D,null))}for(;H<Y.length;H+=1)Y[H].d(1);Y.length=J.length}},i(F){q||(ce(w),q=!0)},o(F){ae(w),q=!1},d(F){F&&G(e),V&&V.d(),~p&&B[p].d(),re(Y,F)}}}function is(t,e,l){let n,i={state:"lobby",players:[],currentRound:1,totalRounds:3,currentQuestion:1},s=null,o=0,a="",c="",u=null,v=null,m=null;async function _(){try{const T=await(await fetch("/api/server-info")).json();l(4,c=T.playerUrl),l(3,a=await Ee.toDataURL(c))}catch(g){console.error("Failed to get server info:",g),l(4,c=window.location.origin+"/player"),l(3,a=await Ee.toDataURL(c))}}function h(){n=Ln(),n.on("connect",()=>{console.log("Host connected to server"),n.emit("request_game_state")}),n.on("game_state_update",g=>{l(0,i={...g})}),n.on("category_selection_start",g=>{l(0,i={...i,state:"category_selection"}),l(1,s={categories:g.categories,selectorName:g.selectorName})}),n.on("question_reading_start",g=>{l(0,i={...i,state:"question_reading"}),l(1,s=g)}),n.on("lie_submission_start",g=>{l(0,i={...i,state:"lie_submission"})}),n.on("option_selection_start",g=>{l(0,i={...i,state:"option_selection"}),l(1,s={...s,options:g.options})}),n.on("truth_reveal_start",g=>{l(0,i={...i,state:"truth_reveal"}),l(5,u=g)}),n.on("scoreboard_update",g=>{l(0,i={...i,state:"scoreboard"}),l(6,v=g)}),n.on("game_ended",g=>{l(0,i={...i,state:"game_ended"}),l(7,m=g)}),n.on("timer_update",g=>{l(2,o=g.secondsRemaining)}),n.on("player_joined",g=>{g.gameState&&l(0,i=g.gameState)}),n.on("player_left",g=>{g.gameState&&l(0,i=g.gameState)})}function b(){n.emit("start_game")}return An(async()=>{await _(),h()}),Mn(()=>{n&&n.disconnect()}),t.$$.update=()=>{t.$$.dirty&1&&console.log("Host gameState changed:",i)},[i,s,o,a,c,u,v,m,b]}class rs extends he{constructor(e){super(),me(this,e,is,ss,pe,{})}}new rs({target:document.getElementById("app")});
